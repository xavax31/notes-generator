{"version":3,"sources":["../../../../src/jx/editor/compitemsreadonly/Text.js"],"names":["textInput","Text","dataObject","controller","commonLib","jx","view","$","prop","data","id","find","html","description","editable","editor","getBoolDependsGroup","css","value","replace","RegExp","addEventListener","event","onChangeData","innerHTML","click","console","log","target","item","panelInfo"],"mappings":"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","file":"Text.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nimport Common from \"jx/editor/editionitems/Common\";\nlet textInput = `\n<div class=\"form-group row\">\n    <div class=\"row\">\n      <div class=\"col-xs-5\">\n          <div class=\"input-group\">\n              <span id=\"check\" class=\"input-group-addon\"><span class=\"fa fa-font\"></span></span>\n              <input type=\"text\" class=\"form-control\" id=\"textSound\" value=\"ID\" readonly=\"true\" >\n          </div>\n      </div>\n      <div class=\"col-xs-1\">\n           <button class=\"btn btn-default\" title=\"Informations\" id=\"info\"><span class=\"fa fa-info\"></span></button>\n      </div>\n   <div class=\"col-xs-6\">\n        <div class=\"well well-sm\" id=\"value\">$VALUE</div>\n   </div>\n   </div>\n      <div  id=\"informationsPanel\" class=\"row\"  style=\"display:none;\">\n          <div class=\"col-xs-12\" id=\"informationsText\">\n          <div class\"xinputtext\" id=\"description\" ></div>\n\n          </div>\n      </div>\n</div>\n`;\nexport default class Text extends VisualComponent {\n    constructor(dataObject) {\n        super(dataObject);\n        this.controller = this.dataObject.controller;\n        this.commonLib = new Common({ jx: this.jx });\n        this.view = $(textInput);\n        this.view.prop('id', this.data.id);\n        //if (this.data.description == undefined) { item.remove($(item.description_btn)); }\n        this.view.find(\"#description\").html(this.data.description || \"\");\n        // var textarea = item.find(\"#value\")[0];\n        // $(textarea).css('height', 'auto').css('height', textarea.clientHeight);\n        //  var offset = textarea.offsetHeight - textarea.clientHeight;\n        //  var resizeTextarea = function(el) {\n        //      $(el).css('height', 'auto').css('height', el.scrollHeight + offset);\n        //  };\n        //  $(textarea).on('keyup input', function() { resizeTextarea(textarea); }).removeAttr('data-autoresize');\n        this.editable = this.jx.editor.getBoolDependsGroup(this.data.editable, false);\n        this.view.find(\"#value\").prop('readonly', !this.editable);\n        this.view.find(\"#value\").css(\"word-wrap\", \"normal\");\n        this.view.find(\"#value\").css(\"font-size\", \"12px\");\n        // item.find(\"#value\").html(\"<pre>\"+this.data.value +\"</pre>\"|| \"\");\n        this.view.find(\"#value\").html(this.data.value.replace(new RegExp(\"\\n\", \"g\"), \"<br>\") || \"\");\n        this.view[0].addEventListener(\"change\", (event) => { this.controller.onChangeData(event); });\n        this.view.html(this.view[0].innerHTML.replace(\"ID\", this.data.id).replace(\"$description\", this.data.description || \"\"));\n        this.view.find(\"#info\").click((event) => {\n            console.log(\"info\", event.target, item[0].id);\n            var panelInfo = this.view.find(\"#informationsPanel\");\n            panelInfo.css(\"display\", (panelInfo.css(\"display\") == \"none\" ? \"inline\" : \"none\"));\n        });\n    }\n    /** show/hide info panel of item */\n    showInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"inline\");\n    }\n    /** show/hide info panel of item */\n    hideInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"none\");\n    }\n    set lock(value) {\n        if (!value) {\n            this.view.find(\"#value\").prop('readonly', !this.editable);\n        }\n        else {\n            this.view.find(\"#value\").prop('readonly', true);\n        }\n    }\n}\n"]}