{"version":3,"sources":["../../../../../src/jx/editor/pages/edition_comps/MenuEdition.js"],"names":["MenuEdition","dataObject","Object","assign","project","controller","_editMenuCreate","onlock","add","_lock","evt","onunlock","_unlock","editMenu","$","jx","editor","user","name","group","view","find","on","console","log","target","value","lang","refreshEditionView","gabaritView","modeDisplay","setFilters","html","info","title","trim","id","contextLocal","config","system","host","type","css","_hasAccess","buttons","i","length","click","event","currentTarget","attr","request","JSON","parse","action","params","undefined","actionArr","split","targetFunc","call","functionnalityID","hasAccess","locked","state"],"mappings":"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","file":"MenuEdition.js","sourcesContent":["import Component from \"jx/core/comps/Component\";\nexport default class MenuEdition extends Component {\n    constructor(dataObject) {\n        super(Object.assign({\n            project: null,\n            controller: null\n        }, dataObject));\n        this.project = this.dataObject.project;\n        this.controller = this.dataObject.controller;\n        this._editMenuCreate();\n        this.project.onlock.add(evt => this._lock(evt));\n        this.project.onunlock.add(evt => this._unlock(evt));\n    }\n    _editMenuCreate() {\n        let editMenu = $(`\n\t\t\t<div>\n\t\t\t\t<h4 id=\"idProject\" class=\"text-center\"></h4>\n\n\t\t\t\t<div  class=\"text-right\" style=\"top:0px;right: 0px;position:absolute\">\n\t\t\t\t\t<span class=\"fa fa-user\">${this.jx.editor.user.name}</span><span>(${this.jx.editor.user.group})</span>\n\t\t\t\t  </div>\n\n\t\t\t\t<div  id=\"edit_menu\" class=\"text-right\">\n\t\t\t\t\t<select id=\"Lang\" class=\"inline\">\n\t\t\t\t\t\t<option value=\"fr\">Fran√ßais</option>\n\t\t\t\t\t\t<option value=\"en\">Anglais</option>\n\t\t\t\t\t\t<option value=\"de\">Allemand</option>\n\t\t\t\t\t\t<option value=\"es\">Espagnol</option>\n\t\t\t\t\t\t<option value=\"it\">Italien</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<select id=\"TypeView\" class=\"inline\">\n\t\t\t\t\t\t<option value=\"tab\">Vue onglets</option>\n\t\t\t\t\t\t<option value=\"flat\">Vue √† plat</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<select id=\"TypeSelection\" class=\"inline\">\n\t\t\t\t\t\t<option value='{\"type\":\"all\"}'>Tout afficher</option>\n\t\t\t\t\t\t<option value='{\"type\":\"sound\"}'>Afficher que les sons</option>\n\t\t\t\t\t\t<option value='{\"type\":\"text\"}'>Afficher que les texts</option>\n\t\t\t\t\t\t<option value='{\"type\":\"image\"}'>Afficher que les images</option>\n\t\t\t\t\t</select>\n\n\t\t\t\t\t<div id=\"drop_zone\"></div>\n\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t  <button type=\"button\"  id=\"report\" class=\"btn btn-default\"  title=\"G√©nerer un rapport du projet\"><span class=\"fa fa-list\"></span></button>\n\t\t\t\t\t  <button type=\"button\"  id=\"sendMail\" class=\"btn btn-default\"  title=\"Pr√©venir le d√©veloppeur d'une demande de modification\"><span class=\"fa fa-envelope-o\"></span></button>\n\n\t\t\t\t\t  <div class=\"btn-group\">\n\t\t\t\t\t\t  <button type=\"button\" id=\"openProjectDir\" data-action='{\"action\": \"project.openProjectDir\"}'  class=\"btn btn-default\"  title=\"Explorer le dossier local du projet\"><span class=\"fa fa-folder-open-o\"></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"testBtnDev\" data-action='{\"action\": \"testBtnDev\"}'  class=\"btn btn-default\"  title=\"testBtnDev\">testBtnDev</button>\n\n\t\t\t\t\t\t  <button type=\"button\" id=\"openTerminal\"  data-action='{\"action\": \"project.openTerminal\"}' class=\"btn btn-default\" style=\"background-color:#000000\" title=\"open terminal on project directory\"><span class=\"fa fa-inverse fa-terminal\"></span></button>\n\t\t\t\t\t\t  <!-- <button type=\"button\" id=\"gitInitWithBitBucketLink\"  data-action='{\"action\": \"project.gitInitWithBitBucketLink\"}' class=\"btn btn-default\" title=\"init git project\"><span class=\"fa fa-bitbucket\"></span></button> -->\n\n\t\t\t\t\t\t  <!-- <button type=\"button\" id=\"openVisualCodeProject\" data-action='{\"action\": \"project.openVisualCodeProject\"}'  class=\"btn btn-default\"  title=\"Ouvrir le projet Visual Code\"><span class=\"fa fa-file-code-o\"></button> -->\n\n\t\t\t\t\t\t  <button type=\"button\" id=\"openVisualCodeProject\" data-action='{\"action\": \"project.openVisualCodeProject\"}'  class=\"btn btn-default\"  title=\"Ouvrir le projet Visual Code\"><img src=\"assets/images/visualstudiocode.png\" style=\"width:20px;height:12px;\" /></button>\n\n\t\t\t\t\t\t  <span id=\"openCodeEditorChoice\" class=\"dropdown\" style=\"left:-15px;top:30px;cursor:pointer\">\n\t\t\t\t\t\t\t  <span class=\"dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"></span></span>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<ul class=\"dropdown-menu\" style=\"margin:0px;padding:0px\">\n\t\t\t\t\t\t\t\t  <li>\n\t\t\t\t\t\t\t\t\t  <button type=\"button\" id=\"openVisualCodeProject\" data-action='{\"action\": \"project.openVisualCodeProject\"}'  class=\"btn btn-default\"  title=\"Ouvrir le projet Visual Code\"  style=\"width:200px\"></span><img src=\"assets/images/visualstudiocode.png\" style=\"width:15px;height:15px\" /> </span>Open with Visual Studio</button>\n\t\t\t\t\t\t\t\t  </li>\n\t\t\t\t\t\t\t\t  <li>\n\t\t\t\t\t\t\t\t\t  <button type=\"button\" id=\"openSublimeProject\" data-action='{\"action\": \"project.openSublimeProject\"}'  class=\"btn btn-default\"  title=\"Ouvrir le projet SublimeText\" style=\"width:200px\"><span class=\"fa fa-file-code-o\"></span> Open with SublimeText</button>\n\t\t\t\t\t\t\t\t  </li>\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t  </span>\n\n\t\t\t\t\t  </div>\n\t\t\t\t\t  \n\t\t\t\t\t  <div class=\"btn-group\">\n\t\t\t\t\t\t  <button type=\"button\" id=\"editGabarit\" class=\"btn btn-default\"  title=\"Editer le gabarit\"><span class=\"fa fa-sitemap\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"saveFromJSONEDitor\" class=\"btn btn-default\" title=\"Sauver les modifications\"><span class=\"fa fa-floppy-o\"></span></button>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t  <div class=\"btn-group\">\n\t\t\t\t\t\t  <button type=\"button\" id=\"transpilProject\"  data-action='{\"action\": \"project.transpilProject\"}' class=\"btn btn-default\"  title=\"Lance la transpilation es6 Babel dans un terminal\"><span class=\"fa fa-cogs\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"previewDev\" data-action='{\"action\": \"project.previewDev\"}' class=\"btn btn-default\"  title=\"Voir l'aper√ßu de ce projet utilisant la derni√®re version de jxengine\"  style=\"color:#000000;background-color:#ff8a2d\" >jx<span class=\"fa fa-bug\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"showVersion\" class=\"btn btn-default\"   data-action='{\"action\": \"project.getEngineVersionDial\"}' title=\"Show/Hide JX Version\">jx<span class=\"fa fa-info\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"updateInternJXDialog\"  data-action='{\"action\": \"project.updateInternJXDialog\"}' class=\"btn btn-default\" title=\"Met √† jour ce projet avec la derni√®re version de jxengine\">jx<span class=\"fa fa-level-up\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"showAPIDoc\"  data-action='{\"action\": \"project.showAPIDoc\"}' class=\"btn btn-default\" title=\"show api doc of project\"><span class=\"fa fa-book\"></span></button>\n\t\t\t\t\t\t  <button type=\"button\" id=\"generateAPIDoc\"  data-action='{\"action\": \"project.generateAPIDoc\"}' class=\"btn btn-default\" title=\"generate api doc of project\"><span class=\"fa fa-cogs\"></span><span class=\"fa fa-book\"></span></button>\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t<div class=\"btn-group\" id=\"extraActionsGroup\">\n\t\t\t\t\t  \t<button type=\"button\" id=\"extraActionsButton\" data-action='{\"action\": \"\"}'  class=\"btn btn-default\"  title=\"Custom extra dev actions\"><span class=\"fa fa-bolt\"></span></button>\n\n\t\t\t\t\t\t<span id=\"extraActions\" class=\"dropdown\" style=\"left:-15px;top:30px;cursor:pointer\">\n\t\t\t\t\t\t\t<span class=\"dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"></span></span>\t\n\t\t\t\t\t\t\t  \t\t\t  \n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\" style=\"margin:0px;padding:0px\">\n\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"extraAction1\" data-action='{\"action\": \"project.extraAction1\"}'  class=\"btn btn-default\"  title=\"Executer extraAction1\"  style=\"width:200px\"><span class=\"fa fa-bolt\"></span> Extra Action 1</button>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" id=\"extraAction2\" data-action='{\"action\": \"project.extraAction2\"}'  class=\"btn btn-default\"  title=\"Executer extraAction2\"  style=\"width:200px\"><span class=\"fa fa-bolt\"></span> Extra Action 2</button>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t  \n\n\t\t\t\t\t  <!--<div class=\"btn-group\">\n\t\t\t\t\t\t  <button type=\"button\" id=\"dropbox\"  data-action='{\"action\": \"project.dropbox\"}' class=\"btn btn-default\"  title=\"Zone de partage\"><span class=\"fa fa-suitcase\"></span></button>\n\t\t\t\t\t  </div>-->\n\n\t\t\t\t\t  <div class=\"btn-group\" style=\"margin-left: 50px;\">\n\t\t\t\t\t  </div>\n\n\t\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t\t<button type=\"button\" id=\"serverSyncDial\" data-action='{\"action\": \"project.serverSyncDial\"}' class=\"btn btn-default\"  title=\"Synchronisation serveur\"><span class=\"fa fa-cloud\"></span></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<button type=\"button\"  id=\"exportDial\"   data-action='{\"action\": \"project.exportDial\"}' class=\"btn btn-default\"  title=\"Exporter/T√©l√©charger une version du projet\"><span class=\"fa fa-share-square-o\"></span></button>\n\n\t\t\t\t\t<button type=\"button\" id=\"showInfo\" class=\"btn btn-default\" title=\"Show/Hide info\"><span class=\"fa fa-info\"></span></button>\n\t\t\t\t\t<button type=\"button\" id=\"hideInfo\" class=\"btn btn-default active\" title=\"Show/Hide info\"><span class=\"fa fa-info\"></span></button>\n\n\t\t\t\t\t<button type=\"button\" id=\"unfoldTexts\" class=\"btn btn-default\" title=\"Open/Close textfields\"><span class=\"fa fa-text-height\"></span></button>\n\t\t\t\t\t<button type=\"button\" id=\"foldTexts\" class=\"btn btn-default active\" title=\"Open/Close textfields\"><span class=\"fa fa-text-height\"></span></button>\n\n\t\t\t\t\t<button type=\"button\" id=\"editMode\" class=\"btn btn-default btn-lg\" style=\"color:#FFFFFF;background-color:#4d90fe;width:120px\" title=\"Editer\"><span class=\"fa fa-pencil\">Editer</span></button>\n\n\t\t\t\t\t<button type=\"button\" id=\"readMode\" class=\"btn btn-danger btn-lg active\"  style=\"color:#FFFFFF;background-color:#D94A38;width:120px\" title=\"Sortir du mode √©dition\"><span class=\"fa fa-check\">Terminer</span></button>\n\n\t\t\t\t\t<button type=\"button\" id=\"preview\"   data-action='{\"action\": \"project.preview\"}' class=\"btn btn-default  btn-lg\"  title=\"Voir l'aper√ßu\"  style=\"color:#000000;background-color:#27fd00\" ><span class=\"fa fa-eye\"></span></button>\n\t\t\t\t\t<button type=\"button\" id=\"previewDebug\"   data-action='{\"action\": \"project.previewDebug\"}' class=\"btn btn-default  btn-lg\"  title=\"Voir l'aper√ßu (mode debug)\" style=\"color:#000000;background-color:#ff8a2d\" ><span class=\"fa fa-bug\"></span></button>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);\n        this.view = editMenu;\n        editMenu.find(\"#Lang\").on(\"change\", evt => {\n            console.log(\"change\", evt.target.value);\n            this.controller.lang = evt.target.value;\n            this.controller.refreshEditionView();\n        });\n        editMenu.find(\"#TypeView\").on(\"change\", evt => {\n            console.log(\"change\", evt.target.value);\n            this.controller.gabaritView.modeDisplay = evt.target.value;\n            this.controller.refreshEditionView();\n        });\n        editMenu.find(\"#TypeSelection\").on(\"change\", evt => {\n            console.log(\"change\", evt.target.value);\n            this.controller.gabaritView.setFilters(evt.target.value);\n            this.controller.refreshEditionView();\n        });\n        //editMenu.find(\"#idProject\").html(this.project.info.id);\n        editMenu.find(\"#idProject\").html((this.project.info.title && this.project.info.title.trim() != \"\") ? this.project.info.title : this.project.info.id);\n        var contextLocal = this.jx.config.system.host.type == \"local\";\n        editMenu.find(\"#sendMail\").css('display', \"none\");\n        editMenu.find(\"#report\").css('display', \"none\");\n        editMenu.find(\"#editGabarit\").css('display', (this._hasAccess(\"editGabarit\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#testBtnDev\").css('display', (contextLocal && this._hasAccess(\"testBtnDev\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#openProjectDir\").css('display', (contextLocal && this._hasAccess(\"openProjectDir\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#openTerminal\").css('display', (contextLocal && this._hasAccess(\"openTerminal\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#generateAPIDoc\").css('display', (contextLocal && this._hasAccess(\"generateAPIDoc\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#showAPIDoc\").css('display', (this._hasAccess(\"showAPIDoc\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#extraActionsGroup\").css('display', (contextLocal && this._hasAccess(\"extraActionsGroup\") ? \"inline-block\" : \"none\"));\n        editMenu.find(\"#openSublimeProject\").css('display', (contextLocal && this._hasAccess(\"openSublimeProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#openCodeEditorChoice\").css('display', (contextLocal && this._hasAccess(\"openSublimeProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#openVisualCodeProject\").css('display', (contextLocal && this._hasAccess(\"openSublimeProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#compareJSON\").css('display', (contextLocal && this._hasAccess(\"compareJSON\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#serverSyncDial\").css('display', (contextLocal && this._hasAccess(\"serverSyncDial\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#pullProject\").css('display', (contextLocal && this._hasAccess(\"pullProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#pushProject\").css('display', (contextLocal && this._hasAccess(\"pushProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#pushProjectSrc\").css('display', (contextLocal && this._hasAccess(\"pushProjectSrc\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#transpilProject\").css('display', (contextLocal && this._hasAccess(\"transpilProject\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#previewDev\").css('display', (this._hasAccess(\"previewDev\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#updateInternJXDialog\").css('display', (this._hasAccess(\"updateInternJX\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#showVersion\").css('display', (this._hasAccess(\"showVersion\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#saveFromJSONEDitor\").css('display', \"none\");\n        editMenu.find(\"#testBtnDev\").css('display', \"none\");\n        editMenu.find(\"#compareJSON\").css('display', \"none\");\n        editMenu.find(\"#testBtnDev\").css('display', \"none\");\n        editMenu.find(\"#preview\").css('display', (this._hasAccess(\"preview\") ? \"inline\" : \"none\"));\n        editMenu.find(\"#previewDebug\").css('display', (this._hasAccess(\"previewDebug\") ? \"inline\" : \"none\"));\n        //--- add click on buttons. If attribute \"data-action\" is defined, click calls this[data-action](), else it calls this[btnID]()\n        var buttons = editMenu.find(\".btn\");\n        for (var i = 0; i < buttons.length; i++) {\n            $(buttons[i]).click((event) => {\n                if ($(event.currentTarget).attr(\"data-action\")) {\n                    var request = JSON.parse($(event.currentTarget).attr(\"data-action\"));\n                }\n                else {\n                    request = { action: event.currentTarget.id, params: undefined };\n                }\n                var action = request.action;\n                var params = request.params || undefined;\n                var actionArr = action.split(\".\");\n                var targetFunc = this.controller;\n                var target = this.controller;\n                for (var i = 0; i < actionArr.length; i++) {\n                    target = targetFunc;\n                    targetFunc = targetFunc[actionArr[i]];\n                }\n                ;\n                console.log(action, params);\n                targetFunc.call(target, params);\n            });\n        }\n        ;\n    }\n    _hasAccess(functionnalityID) {\n        return this.controller.hasAccess(functionnalityID);\n    }\n    refresh() {\n    }\n    _lock({ locked, project = this.project }) {\n        if (!locked) {\n        }\n        else if (locked === this.jx.editor.user) { // locked by current user\n            this.view.find(\"#readMode\").css(\"display\", \"inline\");\n            this.view.find(\"#editMode\").css(\"display\", \"none\");\n        }\n        else { // locked by other user\n            this.view.find(\"#readMode\").css(\"display\", \"none\");\n            this.view.find(\"#editMode\").html(`<span class=\"fa fa-lock\"> by ${locked.name}</span>`);\n            this.view.find(\"#editMode\").css(\"background-color\", \"#bad9fe\");\n        }\n    }\n    _unlock({ locked, project = this.project }) {\n        if (!locked) {\n            this.view.find(\"#readMode\").css(\"display\", \"none\");\n            this.view.find(\"#editMode\").html(`<span class=\"fa fa-pencil\">Editer</span>`);\n            this.view.find(\"#editMode\").css(\"background-color\", \"#4d90fe\");\n            this.view.find(\"#editMode\").css(\"display\", \"inline\");\n        }\n        else if (locked === this.jx.editor.user) { // locked by current user\n            this.view.find(\"#readMode\").css(\"display\", \"inline\");\n            this.view.find(\"#editMode\").css(\"display\", \"none\");\n        }\n        else { // locked by other user\n            this.view.find(\"#readMode\").css(\"display\", \"none\");\n            this.view.find(\"#editMode\").html(`<span class=\"fa fa-lock\"> by ${locked.name}</span>`);\n            this.view.find(\"#editMode\").css(\"background-color\", \"#bad9fe\");\n        }\n    }\n    // lockProject() {\n    // \tthis.view.find(\"#editMode\").html(`<span class=\"fa fa-pencil\"> Editer</span>`);\n    // \tthis.view.find(\"#editMode\").css(\"background-color\", \"#4d90fe\");\n    // }\n    // lockProject2() {\n    // \tthis.view.find(\"#readMode\").css(\"display\", \"inline\");\n    // \tthis.view.find(\"#editMode\").css(\"display\", \"none\");\n    // }\n    // lockProjectByUser(username:string) {\n    // \tthis.view.find(\"#editMode\").html(`<span class=\"fa fa-lock\"> by ${username}</span>`);\n    // \tthis.view.find(\"#editMode\").css(\"background-color\", \"#bad9fe\");\n    // }\n    // unlockProject() {\n    // \tthis.view.find(\"#editMode\").html(`<span class=\"fa fa-pencil\">Editer</span>`);\n    // \tthis.view.find(\"#editMode\").css(\"background-color\", \"#4d90fe\");\n    // }\n    // unlockProject2() {\n    // \tthis.view.find(\"#readMode\").css(\"display\", \"none\");\n    // \tthis.view.find(\"#editMode\").css(\"display\", \"inline\");\n    // }\n    btInfosToggle(state) {\n        if (state) {\n            this.view.find(\"#showInfo\").css(\"display\", \"inline\");\n            this.view.find(\"#hideInfo\").css(\"display\", \"none\");\n        }\n        else {\n            this.view.find(\"#showInfo\").css(\"display\", \"none\");\n            this.view.find(\"#hideInfo\").css(\"display\", \"inline\");\n        }\n    }\n    btUnfoldTextsToggle(state) {\n        if (state) {\n            this.view.find(\"#unfoldTexts\").css(\"display\", \"inline\");\n            this.view.find(\"#foldTexts\").css(\"display\", \"none\");\n        }\n        else {\n            this.view.find(\"#unfoldTexts\").css(\"display\", \"none\");\n            this.view.find(\"#foldTexts\").css(\"display\", \"inline\");\n        }\n    }\n    setProjectTitle(title) {\n        this.view.find(\"#idProject\").html(title);\n    }\n    btGabaritJSONEditorToggle(state) {\n        if (state) {\n            this.view.find(\"#saveFromJSONEDitor\").css(\"display\", \"inline\");\n        }\n    }\n}\n"]}