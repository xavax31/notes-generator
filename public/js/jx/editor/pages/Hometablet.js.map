{"version":3,"sources":["../../../../src/jx/editor/pages/Hometablet.js"],"names":["Hometablet","dataObject","view","$","filters","jx","memo","cookie","getVar","status","sortBy","publication","engine","typeProject","search","user","targetFrameTab","console","log","content","publicationCB","cc","type","controller","data","title","options","value","onChanged","evt","target","refreshList","find","append","engineCB","execute","statusCB","step","tabCB","searchBox","onchanged","css","optSortBy","filterBox","buttons","i","length","attr","undefined","args","split","editor","userIsGroup","click","event","showAdminPanel","url","replace","info","changeLocation","link","restartApplication","openTab","currentTarget","viewList","render","listContainer","html","onInitialised","onStarted","sendToHost","tab","idTab","activeTab","dataAction","datObj","JSON","parse","_refreshButtons","removeClass","addClass","action","domain","Object","assign","_refreshFilterBox","callServiceDistant","callback","loadingScreen","show","visible","setVar","list","getData","_refreshViewList","hide","removeAllChildren","addChild","text","id","showID","showStatus","showPreviewBtn","onclickAction","infos","previewIndex","projectInfo","project","description"],"mappings":"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","file":"Hometablet.js","sourcesContent":["import Component from \"jx/core/comps/Component\";\nexport default class Hometablet extends Component {\n    constructor(dataObject) {\n        super(dataObject);\n        this.view = $(\"body\");\n        this.filters = this.jx.memo.cookie.getVar(\"homeFilters\", {\n            status: \"all\",\n            sortBy: \"id\",\n            publication: \"all\",\n            engine: \"all\",\n            typeProject: \"Project\",\n            search: \"\",\n            user: \"all\"\n        });\n        this.targetFrameTab = 1;\n        console.log(\"filters\", this.filters);\n        this.content = $(`\n\t\t<div class=\"container\">\n\n  \t\t\t<div class=\"row\" style=\"vertical-align: bottom\">\n    \t\t\t<div class=\"col-xs-10\">\n    \t\t\t\t<button id=\"BTN_Projects\" class=\"btn btn-default\" title=\"Projets\" data-action='{\"action\": \"list\", \"filters\":{\"typeProject\":\"Project\"}}'>PROJETS</button>\n\n \t\t\t\t \t<button id=\"BTN_TESTS\" class=\"btn btn-default\" title=\"tests\"  data-access='admin,dev' data-action='{\"action\": \"list\", \"type\": \"Project\", \"domain\":\"/projects/tests\", \"filters\":{\"typeProject\":\"Project\", \"domain\":\"/projects/tests\"}}'>TESTS</button>\n\n    \t\t\t</div>\n\n   \t\t\t\t<div class=\"col-xs-1\">\n     \t\t\t</div>\n  \t\t\t\t<div class=\"col-xs-1\">\n  \t\t\t\t<button id=\"BTN_REFRESH\" class=\"btn btn-default\" title=\"tests\"  data-access='*' data-action='{\"action\": \"refresh\"}'>Refresh</button>\n\n     \t\t\t</div>\n  \t\t\t\t<button id=\"BTN_LinkBayamLocal0\" class=\"btn btn-default\" title=\"tests\"  data-access='*' data-action='{\"action\": \"linkBayamLocal0\"}'>Bubble 0</button>\n\n     \t\t\t</div>\n     \t\t</div> \n\n     \t\t <div class=\"row\" style=\"vertical-align: bottom\">\n    \t\t\t<div class=\"col-xs-2  text-left\" style=\"width:160px\" id=\"choiceBar\">\n     \t\t\t</div>\n    \t\t\t<div class=\"col-xs-2  text-left\"  style=\"width:160px\" id=\"choiceBar1\">\n     \t\t\t</div>\n   \t\t\t\t<div class=\"col-xs-2  text-left\"  style=\"width:160px\" id=\"choiceBar2\">\n     \t\t\t</div>\n   \t\t\t\t<div class=\"col-xs-4\" >\n     \t\t\t</div>\n   \t\t\t\t<div class=\"col-xs-2  text-right\"  style=\"width:160px\" id=\"choiceBar3\">\n     \t\t\t</div>\n     \t\t</div>\n\n   \t\t\t<div class=\"row\">\n \t\t\t    <div class=\"col-xs-4\" id=\"choiceBar4\">\n \t\t\t    </div>\n \t\t\t    <div class=\"col-xs-6\">\n \t\t\t    </div>\n\t\t\t    <div class=\"col-xs-2\" text-right\"  id=\"choiceBar5\">\n \t\t\t    </div>\n \t\t\t</div> \n\n \t\t\t<div class=\"row\">\n\t\t\t    <div class=\"col-xs-12\" id=\"listContainer\">\n\t\t\t    </div>\n\t\t\t</div> \n \n\t\t</div>  \n\t\t`);\n        var publicationCB = this.cc({ type: \"editionitems.SimpleComboBox\", controller: this, data: { title: \"Publication\", options: \"publication\", value: this.filters.publication, onChanged: evt => {\n                    this.filters.publication = evt.target.value;\n                    this.refreshList();\n                } } });\n        this.content.find(\"#choiceBar\").append(publicationCB.view);\n        //publicationCB.view.css(\"display\", \"inline\")\n        var engineCB = this.cc({ type: \"editionitems.SimpleComboBox\", controller: this, data: { title: \"Moteur\", options: \"engine\", value: this.filters.engine, onChanged: evt => {\n                    this.filters.engine = evt.target.value;\n                    this.execute({ \"action\": \"list\", \"type\": \"Project\", \"domain\": \"/projects/milan-presse\" });\n                } } });\n        //this.content.find(\"#choiceBar\").append(engineCB.view);\n        var statusCB = this.cc({ type: \"editionitems.SimpleComboBox\", controller: this, data: { title: \"Status\", options: \"statusFilter\", value: this.filters.step, onChanged: evt => {\n                    this.filters.status = evt.target.value;\n                    this.refreshList();\n                } } });\n        this.content.find(\"#choiceBar1\").append(statusCB.view);\n        //statusCB.view.css(\"display\", \"initial\")\n        var tabCB = this.cc({ type: \"editionitems.SimpleComboBox\", controller: this, data: { title: \"Envoyer vers l'onglet\", options: [\"1\", \"2\"], value: \"Tab \" + this.targetFrameTab, onChanged: evt => {\n                    this.targetFrameTab = evt.target.value == 1 ? 1 : 2;\n                    console.log(this.targetFrameTab);\n                } } });\n        this.content.find(\"#choiceBar5\").append(tabCB.view);\n        //statusCB.view.css(\"display\", \"initial\")\n        var searchBox = this.cc({ type: \"editionitems.SearchBox\", controller: this, data: { value: this.filters.search, onchanged: evt => {\n                    console.log(evt);\n                    this.filters.search = evt.target.value;\n                    this.refreshList();\n                } } });\n        this.content.find(\"#choiceBar4\").append(searchBox.view);\n        searchBox.view.css(\"padding\", \"0px\");\n        searchBox.view.css(\"width\", \"100%\");\n        var optSortBy = this.cc({ type: \"editionitems.SimpleComboBox\", controller: this, data: { title: \"Sort by\", options: [\"id\", \"status\"], value: this.filters.sortBy, onChanged: evt => {\n                    console.log(evt.target.value);\n                    this.filters.sortBy = evt.target.value;\n                    this.execute({ \"action\": \"list\", \"type\": \"Project\", \"domain\": \"/projects/milan-presse\" });\n                } } });\n        this.content.find(\"#choiceBar2\").append(optSortBy.view);\n        //this.content.find(\"#search\").prop(\"disabled\", true); // disabled because not yet implemented\n        this.filterBox = {\n            status: statusCB,\n            sortBy: optSortBy\n        };\n        //--- add click on buttons. If attribute \"data-action\" is defined, click calls this[data-action](), else it calls this[btnID]()\n        var buttons = this.content.find(\".btn\");\n        for (var i = 0; i < buttons.length; i++) {\n            // show button depends of user group\n            if ($(buttons[i]).attr(\"data-access\") != undefined) {\n                var args = $(buttons[i]).attr(\"data-access\").split(\",\");\n            }\n            else {\n                var args = [\"*\"];\n            }\n            $(buttons[i]).css(\"display\", (this.jx.editor.userIsGroup(...args) ? \"inline\" : \"none\"));\n            if ($(buttons[i]).attr(\"id\") == \"BTN_Admin\") {\n                $(buttons[i]).click((event) => this.jx.editor.showAdminPanel());\n            }\n            else if ($(buttons[i]).attr(\"id\") == \"BTN_LinkBayamLocal0\") {\n                $(buttons[i]).click((event) => {\n                    let url = \"/builds/bayam/link0/\";\n                    //let url = \"http://xb:CSLDJV37@dev.aws.milan.fr/builds/bayam/link0/\";\n                    //url = (this.data.previewIndex != \"\") ? url + \"/\" + data.previewIndex : url;\n                    // this.jx.tools.openURL(url, data.id);\n                    url = \"http://xb:CSLDJV37@192.168.0.80:3000\" + url;\n                    if (url.search(/\\?/) != -1) {\n                        url = url.replace(\"\\?\", \"?context=cordova&\");\n                    }\n                    else {\n                        url = url + \"?context=cordova\";\n                    }\n                    console.info(url);\n                    this.changeLocation({ link: url });\n                });\n            }\n            else if ($(buttons[i]).attr(\"id\") == \"BTN_REFRESH\") {\n                $(buttons[i]).click((event) => this.jx.restartApplication());\n            }\n            else {\n                $(buttons[i]).click((event) => this.openTab($(event.currentTarget).attr(\"id\")));\n            }\n        }\n        this.view.append(this.content);\n        this.viewList = this.cc({ type: \"editionitems.Container\", render: \"DOM\" });\n        $(listContainer).html(this.viewList.view);\n        this.openTab(\"BTN_Projects\");\n    }\n    init({ onInitialised }) {\n        onInitialised();\n    }\n    start({ onStarted }) {\n        onStarted();\n    }\n    changeLocation({ link }) {\n        this.jx.sendToHost({ link, tab: this.targetFrameTab });\n    }\n    openTab(idTab, filters) {\n        filters = filters || this.filters;\n        this.activeTab = idTab;\n        var dataAction = this.content.find(\"#\" + idTab).attr(\"data-action\");\n        if (dataAction) {\n            var datObj = JSON.parse(dataAction);\n            datObj.filters = datObj.filters || filters;\n            this.execute(datObj);\n        }\n        else {\n            this[idTab]();\n        }\n        this._refreshButtons();\n    }\n    _refreshFilterBox() {\n        this.filterBox.status.value = this.filters.status;\n        this.filterBox.sortBy.value = this.filters.sortBy;\n    }\n    _refreshButtons() {\n        this.content.find(\".btn\").removeClass(\"active\");\n        this.content.find(\".btn\").css(\"background-color\", \"#FFFFFF\");\n        this.content.find(\".btn\").css(\"color\", \"#337ab7\");\n        this.content.find(\"#\" + this.activeTab).addClass(\"active\");\n        this.content.find(\"#\" + this.activeTab).css(\"background-color\", \"#337ab7\");\n        this.content.find(\"#\" + this.activeTab).css(\"color\", \"#FFFFFF\");\n    }\n    execute({ action, type, filters = {} }) {\n        //console.log(\"execute\", arguments[0]);\n        filters.domain = filters.domain || null;\n        this.filters = Object.assign(this.filters, filters);\n        this._refreshFilterBox();\n        switch (action) {\n            case 'list':\n                this.refreshList();\n                break;\n            case 'showAdminPanel':\n                this.jx.editor.showAdminPanel();\n                break;\n            case 'callServiceDistant': // experimental\n                //--- get list of items of type 'type'\n                this.jx.editor.callServiceDistant(\"test\", { \"yo\": \"Youpy\" }, evt => {\n                    console.log(evt);\n                });\n                break;\n            default:\n                console.log(\"function not implemented : \", action);\n                break;\n        }\n    }\n    refreshList(callback = () => { }) {\n        this.jx.loadingScreen.show();\n        var filters = Object.assign({}, this.filters);\n        if (filters.typeProject != \"Project\") {\n            filters.status = \"all\";\n            this.filterBox.status.visible = false;\n        }\n        else {\n            this.filterBox.status.visible = true;\n        }\n        this.jx.memo.cookie.setVar(\"homeFilters\", filters);\n        //console.log(\"refresh\", {type: filters.typeProject, filters: filters})\n        var list = this.jx.editor.getData({ type: filters.typeProject, filters: filters }, (event) => {\n            // --- create and show content from list\n            //console.log('refreshList', event)\n            this._refreshViewList({ list: event.data });\n            this.jx.loadingScreen.hide();\n            callback();\n        });\n    }\n    _refreshViewList({ list }) {\n        console.log(\"_createList\", list);\n        this.viewList.removeAllChildren();\n        if (list.length == 0) {\n            this.viewList.addChild({ type: \"Text\", text: \"no results with these search criteria\" });\n        }\n        ;\n        for (var i = 0; i < list.length; i++) {\n            console.log(list[i]);\n            this.viewList.addChild({ type: \"editionitems.CatalogTestItem\", controller: this,\n                data: {\n                    id: list[i].id,\n                    title: list[i].title,\n                    showID: list[i].type !== \"Doc\",\n                    showStatus: list[i].type !== \"Doc\",\n                    showPreviewBtn: list[i].type !== \"Doc\",\n                    onclickAction: list[i].type !== \"Doc\" ? null : \"preview\",\n                    type: list[i].type,\n                    url: list[i].url,\n                    status: list[i].infos.status.value,\n                    previewIndex: (list[i].projectInfo && list[i].projectInfo.project.previewIndex) || \"\",\n                    description: list[i].description\n                } });\n        }\n        ;\n        console.log(\"viewList\", this.viewList);\n        return this.viewList.view;\n    }\n}\n"]}