{"version":3,"sources":["../../../src/jx/editor/Editor.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","optionsLists","Editor","jxEngine","jx","_templates","asset","source","download","callback","host","cc","type","url","io","fontsManager","_getUsersInfos","user","group","args","i","length","String","trim","boolOrUserGroups","defaultValue","undefined","tools","instanceType","userIsGroup","split","idOptionsList","allPublications","allowedPublications","publications","filter","indexOf","item","domain","status","filters","Object","assign","sortBy","search","toLowerCase","domains","AppEngine","getDirectoryURL","Archive","Model","Component","listProjects","event","eventData","data","projectInfo","itemStatus","infos","itemPublication","project","publication","usersList","assignedUsers","itemUsers","push","compareId","a","b","nameA","id","nameB","compareStatut","statusA","statusB","compareDateAsc","datePublication","compareDateDesc","compareDateModificationDesc","stats","mtime","compareDateCreationDesc","ctime","compareDateLastAccessDesc","atime","sort","listDoc","console","error","db","importClass","Module","params","$","ajax","dataType","success","pathFile","text","callMethod","evt","commandline","scriptName","output","direct","rootDir","JSON","stringify","editor","execBash","openURL","fontPath","log","projectData","response","confirm","deleteDir","dirURL","fileURL","options","current","name","config","system","usersInfos","users","window","location","reload","dataObject","addResources","src","load","projectJXData","findOne","projectType","addAndLoad","versions","app","projectsURL","projectsList","items","projectInfos","engine","configData","warn","mess","description","ProjectInformations","_getFirstEntryPoint","json","modulejsonName","gabarit","k","children","flag","j","Synopsis","prop","projectGroupChildren","previewIndex","title","_getDecodedURL","codedURL","pInfo","replace","demosURL","docsURL","compsURL","jxURL","devURL","buildsURL","assetsURL","docJSON","docs","access","yo","popupGabarit","content","width","buttons","onclose","append","onevent","target","dial","action","buttonsArg","label","className","bootbox","dialog","backdrop","onEscape","message","find","css","closable","closeButton","okLabel","cancelLabel","popup","ok","close","popupContent","compG","showHeader","comp","cloneObject","view","onchanged","add","appData","validate","idProject","val","html","filesExist","projectPath","filePathArray","exists","magnificPopup","modelData","createNewProject","idNewProject","click","on","code","keyCode","which","open","wait","focus","urlDest","rid","encodeURIComponent","targetID","moveDir","sourcePath","destPath","prefixZip","internPath","date","path","dest","deleteZipFile","zipPath","object","deleteSource"],"mappings":"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","file":"Editor.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport Component from \"jx/core/comps/Component\";\nimport RemoteCom from \"jx/comps/RemoteCom\";\nimport editorOptionsList from \"jx/editor/EditorOptionsList\";\nimport FontsManager from \"./pages/fontsPageElements/FontsManager\";\nlet optionsLists = editorOptionsList;\n/**\n* Editor is an extension object added to jx, for applications which need editor functionnalities.\n* Theses application must extends presets/EditorPreset rather than presets/Module.\n* It is accessible then in all components through this.jx.editor.\n*/\nexport default class Editor extends Component {\n    constructor(jxEngine) {\n        super({ jx: jxEngine });\n        this._templates = {\n            asset: '<div  id=\"assetValue\"></div>',\n            source: '<div  id=\"sourceValue\"></div>',\n            download: ' <button class=\"btn btn-default\" title=\"Télécharger le fichier\" id=\"download\"><span class=\"fa fa-download\"></span></button>'\n        };\n    }\n    init(callback) {\n        this.host = this.cc({ type: RemoteCom, url: \"services\", io: true });\n        this.fontsManager = this.cc({ type: FontsManager });\n        // console.log(\"editor init\")\n        this._getUsersInfos((result) => {\n            callback();\n        });\n    }\n    /**\n     * Check if current user is in group(s).\n     * @param  {...String} args groupsID\n     * @return {Boolean}   return true if user is in one of the groups provided.\n     */\n    userIsGroup(...args) {\n        if (this.user.group == \"admin\")\n            return true;\n        for (var i = 0; i < args.length; i++) {\n            args[i] = String(args[i]).trim();\n            if (args[i] == \"*\" || args[i] == this.user.group) {\n                return true;\n            }\n        }\n        ;\n        return false;\n    }\n    /**\n     * As userIsGroup but take more types of arguments.\n     * @example\n     * var visible = this.jx.editor.getBoolDependsGroup(visibleData, true);\n     * // if visibleData is boolean, visible = visibleData\n     * // if visibleData is string list of groupID (ex: visibleData=\"admin,dev\"), visible=true if user is in group, else false.\n     * // if visibleData is null or undefined, visible=defaultValue.\n     * @param  {*} boolOrUserGroups\n     * @param  {Boolean} defaultValue\n     * @return {Boolean}\n     */\n    getBoolDependsGroup(boolOrUserGroups, defaultValue) {\n        var result = true;\n        if (boolOrUserGroups == undefined) {\n            return defaultValue;\n        }\n        else if (this.jx.tools.instanceType(boolOrUserGroups) == \"boolean\") {\n            return boolOrUserGroups;\n        }\n        else if (this.jx.tools.instanceType(boolOrUserGroups) == \"string\") {\n            return this.userIsGroup(...boolOrUserGroups.split(\",\"));\n        }\n    }\n    /**\n     * Return the list of options for idOptionsList. Used for construct reccurents combobox options (see optionsLists at top of Editor class).\n     * @param  {string} idOptionsList  if null, return all optionsList object.\n     * @return {*}\n     */\n    getOptionsList(idOptionsList = null) {\n        if (!idOptionsList)\n            return optionsLists;\n        if (idOptionsList == \"publication\") {\n            let allPublications = optionsLists[idOptionsList];\n            let allowedPublications;\n            if (this.user.publications != \"*\") {\n                allowedPublications = allPublications.filter(item => {\n                    return this.user.publications.indexOf(item) !== -1;\n                });\n            }\n            else {\n                allowedPublications = allPublications;\n            }\n            return allowedPublications;\n        }\n        else {\n            return optionsLists[idOptionsList];\n        }\n    }\n    /**\n     * Return the wanted list of item for Home page, filtered by filters.\n     * @param  {Object}   options\n     * @param  {String}   options.type\n     * @param  {String}   options.domain\n     * @param  {String}   options.status\n     * @param  {Object}   options.filters\n     * @param  {Function} callback\n     * @return {void}\n     * @example\n     * this.jx.editor.getData({\n     * \t\ttype: \"Project\",\n     * \t\tfilters: {\n     * \t\t\tstatus: \"debug\",\n     * \t\t\tdomain: \"/projects/milan-presse\"\n     * \t\t}\n     *    },\n     *    result=>{\n     *    \t\tconsole.log(result.data);\n     *    }\n     * )\n     */\n    getData({ type, domain = null, status = \"all\", filters = {} }, callback) {\n        filters = Object.assign({ status: \"all\", sortBy: \"id\", user: \"all\", search: \"\" }, filters);\n        filters.status = filters.status.toLowerCase();\n        // console.log(filters);\n        var domains = {\n            AppEngine: this.getDirectoryURL(\"appEnginesURL\"),\n            Archive: this.getDirectoryURL(\"archivesURL\"),\n            Model: this.getDirectoryURL(\"boba\") + \"/templates/applications\",\n            Component: [this.getDirectoryURL(\"boba\") + \"/doc/components\", \"/dev/packages/mycomps\"]\n        };\n        domain = filters.domain || domains[type];\n        switch (type) {\n            case \"Archive\":\n            case \"AppEngine\":\n            case \"Model\":\n            case \"Component\":\n            case \"Project\":\n                this.listProjects((event) => {\n                    var result = event;\n                    var eventData = event.data;\n                    var projectInfo;\n                    result.data = [];\n                    // console.log(\"RESULT\", eventData)\n                    for (var i = 0; i < eventData.length; i++) {\n                        projectInfo = eventData[i].projectInfo;\n                        // console.log(eventData[i], projectInfo, projectInfo.project.id, eventData[i].infos.status.value)\n                        var itemStatus = (eventData[i].infos.status.value || eventData[i].infos.status).toLowerCase();\n                        var itemPublication = projectInfo.project.publication.split(\",\");\n                        let usersList = projectInfo.project.assignedUsers || \"all\";\n                        // console.log(usersList)\n                        var itemUsers = usersList.split(\",\");\n                        if (eventData[i].status != \"hidden\"\n                            && ((filters.status == \"all\" || itemStatus == filters.status) || (filters.status == \"not done\" && itemStatus != \"done\"))\n                            && (filters.publication == \"all\" || itemPublication.indexOf(filters.publication) != -1)\n                            && (filters.user == \"all\" || itemUsers.indexOf(filters.user) != -1)) {\n                            result.data.push(eventData[i]);\n                        }\n                    }\n                    ;\n                    // Sort Result\n                    function compareId(a, b) {\n                        var nameA = a.id.toLowerCase(), nameB = b.id.toLowerCase();\n                        if (nameA < nameB) //sort string ascending\n                            return -1;\n                        if (nameA > nameB)\n                            return 1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareStatut(a, b) {\n                        var statusA = a.status.value || a.status;\n                        var statusB = b.status.value || b.status;\n                        var nameA = statusA.toLowerCase(), nameB = statusB.toLowerCase();\n                        if (nameA < nameB) //sort string ascending\n                            return -1;\n                        if (nameA > nameB)\n                            return 1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareDateAsc(a, b) {\n                        var nameA = a.projectInfo.project.datePublication;\n                        var nameB = b.projectInfo.project.datePublication;\n                        if (nameA < nameB) //sort string ascending\n                            return -1;\n                        if (nameA > nameB)\n                            return 1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareDateDesc(a, b) {\n                        var nameA = a.projectInfo.project.datePublication;\n                        var nameB = b.projectInfo.project.datePublication;\n                        if (nameA < nameB) //sort string ascending\n                            return 1;\n                        if (nameA > nameB)\n                            return -1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareDateModificationDesc(a, b) {\n                        var nameA = a.projectInfo.stats.mtime;\n                        var nameB = b.projectInfo.stats.mtime;\n                        if (nameA < nameB) //sort string ascending\n                            return 1;\n                        if (nameA > nameB)\n                            return -1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareDateCreationDesc(a, b) {\n                        var nameA = a.projectInfo.stats.ctime;\n                        var nameB = b.projectInfo.stats.ctime;\n                        if (nameA < nameB) //sort string ascending\n                            return 1;\n                        if (nameA > nameB)\n                            return -1;\n                        return 0; //default return value (no sorting)\n                    }\n                    function compareDateLastAccessDesc(a, b) {\n                        var nameA = a.projectInfo.stats.atime;\n                        var nameB = b.projectInfo.stats.atime;\n                        if (nameA < nameB) //sort string ascending\n                            return 1;\n                        if (nameA > nameB)\n                            return -1;\n                        return 0; //default return value (no sorting)\n                    }\n                    if (filters.sortBy == \"Status\") {\n                        result.data.sort(compareStatut);\n                    }\n                    ;\n                    if (filters.sortBy == \"Name\") {\n                        result.data.sort(compareId);\n                    }\n                    ;\n                    if (filters.sortBy == \"Date publication ASC\") {\n                        result.data.sort(compareDateAsc);\n                    }\n                    ;\n                    if (filters.sortBy == \"Date publication DESC\") {\n                        result.data.sort(compareDateDesc);\n                    }\n                    ;\n                    if (filters.sortBy == \"Date modification\") {\n                        result.data.sort(compareDateModificationDesc);\n                    }\n                    ;\n                    if (filters.sortBy == \"Date creation\") {\n                        result.data.sort(compareDateCreationDesc);\n                    }\n                    ;\n                    if (filters.sortBy == \"Date access\") {\n                        result.data.sort(compareDateLastAccessDesc);\n                    }\n                    ;\n                    callback(result);\n                }, { domain: domain, type: type, filters: filters });\n                break;\n            case \"Doc\":\n                this.listDoc(callback);\n                break;\n            default:\n                console.error(\"editor.getData\", type, \"not found\");\n        }\n    }\n    /** */\n    showPage({ id, args = {} }) {\n        this.jx.db.importClass([\"jx/editor/pages/\" + id], (Module) => {\n            args.jx = this.jx;\n            //console.log(args.jx)\n            new Module(args);\n        });\n    }\n    /**\n     * @ignore\n     */\n    loadText(params, callback) {\n        $.ajax({\n            type: \"GET\",\n            url: params.url,\n            dataType: \"text\",\n            success: function (result) {\n                callback(result);\n            }\n        });\n    }\n    /**\n     * @ignore\n     */\n    saveText(pathFile, text) {\n        this.host.callMethod(\"writefile\", {\n            url: pathFile,\n            text: text\n        }, function () {\n            //alert(\"le fichier est sauvegardÃ©\");\n        });\n    }\n    /** */\n    getCurrentCommit(args, callback) {\n        this.host.callMethod(\"getCurrentCommit\", args, evt => {\n            callback(evt);\n        });\n    }\n    /** */\n    getGitDiff(args, callback) {\n        this.host.callMethod(\"getGitDiff\", args, evt => {\n            callback(evt);\n        });\n    }\n    /** */\n    gitInitWithBitBucketLink(args, callback) {\n        this.host.callMethod(\"gitInitWithBitBucketLink\", args, evt => {\n            callback(evt);\n        });\n    }\n    /** */\n    execBash({ commandline = null, scriptName = null, args = {}, output = \"current\", direct = false, rootDir = null }, callback) {\n        this.host.callMethod(\"execBash\", {\n            commandline: commandline,\n            scriptName: scriptName,\n            args: JSON.stringify(args),\n            output: output,\n            direct,\n            rootDir\n        }, evt => {\n            callback(evt);\n        });\n    }\n    /**\n     * @ignore\n     */\n    execBash2(commandline, callback, output = \"current\", direct = false) {\n        this.host.callMethod(\"execBash\", {\n            commandline: commandline,\n            output: output,\n            direct\n        }, evt => {\n            callback(evt);\n        });\n    }\n    openTerminal(url) {\n        this.host.callMethod(\"openTerminal\", {\n            url: url\n        }, evt => {\n        });\n    }\n    sshConnect() {\n        this.jx.editor.execBash({ commandline: \"$sshConnect\", output: \"new\" }, evt => {\n        });\n    }\n    open_fonts_manager() {\n        this.jx.tools.openURL(\"fonts_dev.html#FontsPage\");\n    }\n    fontConvert({ fontPath }, callback = (result) => { }) {\n        this.host.callMethod(\"fontConvert\", {\n            fontPath\n        }, result => {\n            console.log(\"fontConvert\", result);\n            callback(result);\n        });\n    }\n    /**\n     * Show dialog box for delete project.\n     * @param  {object}   projectData\n     * @param  {Function} callback\n     * @return {void}\n     * @example\n     * this.jx.editor.deleteProjectDial(project.info);\n     */\n    deleteProjectDial(projectData, callback = evt => { }) {\n        var response = confirm(\"Voulez vous supprimer le projet \" + projectData.id + \"?\\n Attention ceci n'est pas réversible !\");\n        if (response == true) {\n            this.jx.editor.deleteDir(projectData.url, callback);\n        }\n        else {\n            callback();\n        }\n    }\n    /**\n     * delete directory\n     * @param  {string}   dirURL\n     * @param  {Function} callback\n     * @return {void}\n     * @example\n     * this.jx.editor.deleteDir(\"/projects/myproject\")\n     */\n    deleteDir(dirURL, callback = () => { }) {\n        console.log(\"deleteDir\", dirURL);\n        this.host.callMethod(\"deleteDir\", { dirURL: dirURL }, callback);\n    }\n    deleteDirPromise(dirURL) {\n        console.log(\"deleteDir\", dirURL);\n        return new Promise(resolve => {\n            this.host.callMethod(\"deleteDir\", { dirURL: dirURL }, () => resolve());\n        });\n    }\n    /**\n * delete file\n * @param  {string}   fileURL\n * @param  {Function} callback\n * @return {void}\n * @example\n * this.jx.editor.deleteFile(\"/projects/myproject/myfile\")\n */\n    deleteFile(fileURL, callback = () => { }) {\n        console.log(\"deleteFile\", fileURL);\n        this.host.callMethod(\"deleteFile\", { fileURL: fileURL }, evt => {\n            console.log(\"deleted\", evt);\n            callback();\n        });\n    }\n    createDir(dirURL, callback = () => { }) {\n        console.log(\"createDir\", dirURL);\n        this.host.callMethod(\"createDir\", { dirURL: dirURL }, callback);\n    }\n    listDir(dirURL, options = {}, callback = (result) => { }) {\n        console.log(\"listDir\", dirURL);\n        this.host.callMethod(\"listDirectory\", { dirURL, options }, callback);\n    }\n    // /**   {user:'username', group:\"usergroup\"} */\n    // _getUser(callback) {\n    // \tthis.host.callMethod( \"getUser\", {}, (user) => {\n    // \t\tconsole.log(\"USER\", user.name, user.xxx);\n    // \t\tif (this.jx.config.urlParams.test == 'y') {\n    // \t\t\talert (JSON.stringify(user));\n    // \t\t};\n    // \t\tif(user.name == undefined) {\n    // \t\t\tif (this.jx.config.system.host.type == \"local\") {\n    // \t\t\t\tuser.name = \"admin\";\n    // \t\t\t\tuser.group = \"admin\";\n    // \t\t\t}\n    // \t\t\telse{\n    // \t\t\t\tuser.name = \"invite\";\n    // \t\t\t\tuser.group = \"scenarist\";\n    // \t\t\t}\n    // \t\t}\n    // \t\tcallback(user)\n    // \t});\n    // }\n    _getUsersInfos(callback) {\n        this.host.callMethod(\"getUsersInfos\", {}, (result) => {\n            // console.log(\"getUsersInfos\", result); \n            let usersList = result.usersList;\n            let user = result.current;\n            //-- if none acces auth system, set to default user (admin for local app, scenarist for online app)\n            if (user.name == undefined) {\n                if (this.jx.config.system.host.type == \"local\") {\n                    user.name = \"admin\";\n                    user.group = \"admin\";\n                }\n                else {\n                    user.name = \"invite\";\n                    user.group = \"scenarist\";\n                }\n            }\n            this.usersInfos = {\n                current: user,\n                users: usersList\n            };\n            this.user = user;\n            //--- refresh optionsLists.users values\n            for (var i = 0; i < this.usersInfos.users.length; i++) {\n                if ([\"milan\", \"manager\", \"dev\", \"scenariste\", \"test\"].indexOf(this.usersInfos.users[i].name) === -1) {\n                    optionsLists.users.push(this.usersInfos.users[i].name);\n                }\n                ;\n            }\n            ;\n            callback(result);\n        });\n    }\n    /**\n     * Refresh current browser window.\n     * @return {void}\n     */\n    reloadWindow() {\n        window.location.reload();\n    }\n    /**\n     * Create and return the ProjectManager Component that corresponds with type of project detected for given directory url.\n     * This type is found in project.jx file in project directory and corresponds to name of class extended from projecttypes/ProjectManager.\n     * @param  {object}   p\n     * @param  {string}   p.url\n     * @param  {Function} callback  Return component.\n     * @return {void}\n     * @example\n     * this.jx.editor.getProjectManager({url: \"/projects/myproject\"},\n     * projectManager=>{\n     * \tconsole.log(projectManager.info);\n     * })\n     */\n    getProjectManager({ url }, callback = () => { }) {\n        console.log(\"getProjectManager\", url + \"/project.jx\");\n        var dataObject = { url: url };\n        // Load file project.this.jx. All project contains a project.jx file (json) at root, that contains at less 'projectType' property, that allow editor application to recognize and manage it.\n        this.jx.db.addResources({ id: \"projectJXFile\", type: \"json\", src: url + \"/project.jx\" });\n        this.jx.db.load({ id: \"projectJXFile\" }, () => {\n            dataObject.projectJXData = this.jx.db.findOne({ id: 'projectJXFile' }).data;\n            dataObject.type = dataObject.projectJXData.projectType;\n            // load and create ProjectManager of type projectType\n            this.jx.db.addAndLoad({\n                id: dataObject.type,\n                type: \"class\",\n                src: \"jx/projecttypes/\" + dataObject.type\n            }, evt => {\n                callback(this.cc(dataObject));\n            });\n        });\n    }\n    getTemplate({ id }, callback = () => { }) {\n        console.log(\"getTemplate\");\n        this.jx.db.addAndLoad({\n            id: id,\n            type: \"class\",\n            src: \"jx/editor/pages/\" + id\n        }, evt => {\n            callback(this.cc({ type: id }));\n        });\n    }\n    /**\n     * @ignore\n     */\n    listVersions(callback) {\n        this.host.callMethod(\"listversions\", {}, (result) => callback(result.versions));\n    }\n    /**\n     * Clone or Pull a git repository.\n     * @param  {object}   params\n     * @param  {Function} callback\n     * @return {void}\n     * @example\n     * \tthis.cloneRepository({\n     * \t\t\tbranch:\"release/v1.0\",\n     * \t\t\tpath:\"/dev/mp-framework/gittest\",\n     * \t\t\turl: \"git@bitbucket.org:bobaproductions/mp-framework.git\", tag:\"v0.8_ALPHA\"\n     * \t\t},\n     * \t\tmsg=>{\n     *\t\tconsole.log(\"cloneRepository\", msg);\n     *\t});\n     */\n    cloneRepository(params, callback) {\n        console.log(\"cloneRepository\", params);\n        this.host.callMethod(\"clonerepository\", params, (result) => {\n            console.log(\"cloneBoba result :\", result);\n            callback();\n        });\n    }\n    /**\n     * @ignore\n     */\n    listProjects(callback, options) {\n        // console.log(\"listprojects\",options)\n        options = options || {};\n        if (options.domain) {\n            var url = options.domain;\n        }\n        else {\n            var url = this.jx.config.app.projectsURL;\n        }\n        // console.log(\"options.filters.search\", options.filters.search)\n        this.host.callMethod(\"listProjects\", {\n            url: url,\n            filters: options.filters.search\n        }, (result) => {\n            // console.log(\"result :\",result)\n            var projectsList = [];\n            for (var i = 0; i < result.items.length; i++) {\n                var project = result.items[i];\n                // console.log(\"project\",project.name, project);\n                var projectInfos = { project: { publication: \"\" }, engine: {} }; // hack for new format compatibility.\n                if (project.configData.error) {\n                    console.warn(\"ERROR, can't get project informations: \", project.name, project.configData.mess);\n                    var infos = {\n                        status: \"debug\",\n                    };\n                    var description = \"ERROR, can't get project informations: \" + project.configData.mess;\n                }\n                else if (project.configData.ProjectInformations) { // OLD FORMAT\n                    var _getFirstEntryPoint = (json) => {\n                        for (var modulejsonName in json[\"entry-point\"]) {\n                            return json[\"entry-point\"][modulejsonName];\n                            break;\n                        }\n                    };\n                    var gabarit = _getFirstEntryPoint(project.configData).gabarit;\n                    var description = \"\";\n                    var status = \"\";\n                    var infos = { status: { value: \"open\" } };\n                    for (var k = 0; k < gabarit.length; k++) {\n                        if (gabarit[k].id == \"Informations\") {\n                            if (gabarit[k].children) { // group case\n                                var flag = false;\n                                for (var j = 0; j < gabarit[k].children.length; j++) {\n                                    infos[gabarit[k].children[j].id] = gabarit[k].children[j];\n                                    if (gabarit[k].children[j].id == \"ProjectInformations\") {\n                                        infos = Object.assign(infos, gabarit[k].children[j].value);\n                                        description = infos.Synopsis || \"\";\n                                        console.log(infos);\n                                        flag = true;\n                                        break;\n                                    }\n                                }\n                                if (!flag) {\n                                    for (var j = 0; j < gabarit[k].children.length; j++) {\n                                        infos[gabarit[k].children[j].id] = gabarit[k].children[j];\n                                        if (gabarit[k].children[j].id == \"Synopsis\") {\n                                            description = gabarit[k].children[j].value;\n                                            //k=gabarit.length;\n                                            //break;\n                                        }\n                                        if (gabarit[k].children[j].id == \"status\") {\n                                            status = gabarit[k].children[j].value;\n                                            //k=gabarit.length;\n                                            //break;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (gabarit[k].type == \"InformationsData\") { // InformationsData case\n                                infos = Object.assign(infos, gabarit[k].value);\n                                description = infos.Synopsis || \"\";\n                            }\n                            else { // dataobject case\n                                for (var prop in gabarit[k].value) {\n                                    infos[prop] = gabarit[k].value[prop];\n                                }\n                                description = gabarit[k].value.Synopsis || \"\";\n                            }\n                            break;\n                        }\n                    }\n                    ;\n                }\n                else { // NEW FORMAT\n                    var projectData = project.configData[\"projectData\"];\n                    for (var j = 0; j < projectData.length; j++) {\n                        if (projectData[j].id == \"Informations\") {\n                            var projectGroupChildren = projectData[j].children;\n                            break;\n                        }\n                    }\n                    ;\n                    for (var j = 0; j < projectGroupChildren.length; j++) {\n                        projectInfos[projectGroupChildren[j].id] = projectGroupChildren[j].value;\n                    }\n                    ;\n                    var description = projectInfos.project.Synopsis || projectInfos.project.description;\n                    var status = projectInfos.project.status;\n                    var infos = { status: { value: status }, previewIndex: projectInfos.project.previewIndex };\n                }\n                var id;\n                // if (projectInfos.project.title && projectInfos.project.title.trim() != \"\") {\n                // \tid = projectInfos.project.title;\n                // }\n                // else \n                if (projectInfos.project.id && projectInfos.project.id.trim() != \"\") {\n                    id = projectInfos.project.id;\n                }\n                else {\n                    id = project.name;\n                }\n                ;\n                projectInfos.stats = project.stats;\n                // console.log(project.stats.mtimeMs)\n                projectsList.push({ id: id, title: projectInfos.project.title, url: project.url, type: options.type || \"Project\", infos: infos, status: infos.status, description: description, projectInfo: projectInfos });\n            }\n            ;\n            callback({ data: projectsList });\n        });\n    }\n    /**\n     * Return url from directories list in app config (defined editor/public/assets/config.json + root/dev/EditorConfig.json).\n     * these pathes can contain shortcuts like ${projectsURL}. This function returns the url decoded.\n     * @param  {string} id id of directory.\n     * @return {string} the decoded url.\n     */\n    getDirectoryURL(id) {\n        return this._getDecodedURL(this.jx.config.app[id]);\n    }\n    /**\n     * @ignore\n     */\n    _getDecodedURL(codedURL) {\n        // \"projectsURL\": \"/projects/tests\",\n        // \"buildsURL\": \"/projects/builds\",\n        // \"devURL\": \"/dev\",\n        // \"jxURL\": \"${devURL}/mp-framework/current\",\n        // \"componentsURL\": \"${jxURL}/editor/comps\"\n        var pInfo = this.jx.config.app;\n        return codedURL\n            .replace(/^\\${demosURL}/, pInfo.demosURL)\n            .replace(/^\\${docsURL}/, pInfo.docsURL)\n            .replace(/^\\${compsURL}/, pInfo.compsURL)\n            .replace(/^\\${jxURL}/, pInfo.jxURL)\n            .replace(/^\\${devURL}/, pInfo.devURL)\n            .replace(/^\\${buildsURL}/, pInfo.buildsURL)\n            .replace(/^\\${projectsURL}/, pInfo.projectsURL)\n            .replace(/^\\${assetsURL}/, pInfo.assetsURL)\n            .replace(/^\\${PROJECT_URL}/, \".\");\n    }\n    /**\n     * @ignore\n     */\n    listDoc(callback) {\n        var compsURL = this._getDecodedURL(this.jx.config.app.docsURL);\n        this.jx.db.addResources({ \"id\": \"DocList\", \"type\": \"json\", \"src\": compsURL + \"/docs.json\" });\n        this.jx.db.load({ id: \"DocList\" }, () => {\n            var docJSON = this.jx.db.findOne({ id: \"DocList\" }).data;\n            var result = [];\n            for (var i = 0; i < docJSON.docs.length; i++) {\n                docJSON.docs[i].type = \"Doc\";\n                docJSON.docs[i].url = docJSON.docs[i].src;\n                docJSON.docs[i].access = docJSON.docs[i].access || \"\";\n                docJSON.docs[i].infos = { status: { value: \"done\" }, Synopsis: docJSON.docs[i].description };\n                if (docJSON.docs[i].access == \"\" || this.userIsGroup(...docJSON.docs[i].access.split(\",\")) == true) {\n                    result.push(docJSON.docs[i]);\n                }\n                ;\n            }\n            ;\n            callback({ data: result });\n        });\n    }\n    showJXEngineIssues() {\n        this.jx.tools.openURL(\"https://bitbucket.org/MobiTobo/mp-framework-tracker/issues\");\n    }\n    showEditorEditionPage() {\n        this.jx.tools.openURL(\"/editor/?a=edit&id=EDITOR&url=%2Fdev%2Fmp-framework%2Fcurrent%2Feditor\");\n    }\n    cleanProjectChmod(params = { yo: \"yes\" }, callback = evt => { }) {\n        console.log(\"cleanProjectChmod\", params);\n        this.host.callMethod(\"cleanProjectChmod\", params, (result) => {\n            console.log(\"cleanProjectChmod RESULT\", result);\n            callback(result);\n        });\n    }\n    /**\n     */\n    showAdminPanel() {\n        var gabarit = [\n            // {\n            //     \"id\": \"ResolveRsyncProblems\",\n            //     \"type\": \"editionitems.ButtonItem\",\n            //     \"editable\": false,\n            //     \"description\": \"Resolve rsync problems by cleanup chown, chmod of projects dir\",\n            //     \"onclick\": \"$cleanProjectChmod\"\n            // },\n            {\n                \"id\": \"TranspilEngineJX\",\n                \"title\": \"JXEngine Transpilation\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"Transpile jx engine with Babel\",\n                \"onclick\": \"$jxengine_transpil\"\n            },\n            {\n                \"id\": \"ShowJXEngineIssues\",\n                \"title\": \"JXEngine Tasks/Issues\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"confirmBeforeLaunch\": false,\n                \"description\": \"Show issues tracker for jx engine\",\n                \"onclick\": \"$showJXEngineIssues\"\n            },\n            {\n                \"id\": \"ShowEditorEditionPage\",\n                \"title\": \"Editor Edition\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"Show the edition page of Editor App\",\n                \"onclick\": \"$showEditorEditionPage\"\n            },\n            {\n                \"id\": \"TranspilEditor\",\n                \"title\": \"Editor Transpilation\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"Transpile Editor with Babel\",\n                \"onclick\": \"$editor_transpil\"\n            },\n            {\n                \"id\": \"MajBobaGitToServer\",\n                \"title\": \"Server Update\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"pull boba git repos from server\",\n                \"onclick\": \"$maj_boba_git_to_server\"\n            },\n            {\n                \"id\": \"GenerateAPI_Doc\",\n                \"title\": \"Generate API Doc\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"Re-generate the API doc\",\n                \"onclick\": \"$jxes6doc_generate\"\n            },\n            {\n                \"id\": \"IdentificationSSH\",\n                \"title\": \"Identification SSH\",\n                \"type\": \"editionitems.ButtonItem\",\n                \"visible\": \"dev\",\n                \"editable\": false,\n                \"description\": \"Connect to local ssh key\",\n                \"onclick\": \"$sshConnect\"\n            },\n            {\n                \"id\": \"OpenFontsManager\",\n                \"title\": \"Ouvrir le gestionnaire de fontes\",\n                \"type\": \"editionitems.ButtonItem\",\n                // \"visible\": \"dev\",\n                \"editable\": false,\n                \"confirmBeforeLaunch\": false,\n                \"description\": \"Ouvrir le gestionnaire de fontes\",\n                \"onclick\": \"$open_fonts_manager\"\n            }\n        ];\n        this.popupGabarit({ id: 'PanelAdmin', title: \"Administration\", gabarit: gabarit });\n    }\n    /**\n    * Open a popup with html content.\n    * @example\n    * this.jx.editor.popup({title: \"MyPopup\", content: \"\"})\n    */\n    popup({ title, content = '', width = '600', buttons = {}, onclose = evt => { } }) {\n        var item = $(`<div id=\"content\" class=\"form-group\" style=\"font-size:14px\"></div>`);\n        item.append(content);\n        var onevent = evt => {\n            console.log($(evt.target).data(\"bb-handler\"));\n            onclose({ target: dial, action: $(evt.target).data(\"bb-handler\") });\n        };\n        var buttonsArg = {};\n        for (var prop in buttons) {\n            buttonsArg[prop] = {\n                id: prop,\n                label: buttons[prop].label || prop,\n                className: buttons[prop].className || \"btn-default\",\n                callback: onevent\n            };\n        }\n        var dial = bootbox.dialog({\n            title: title || \"\",\n            backdrop: true,\n            onEscape: evt => { onclose({ target: dial, action: \"no\" }); },\n            message: item,\n            className: \"bootbox_custom\",\n            buttons: buttonsArg\n        });\n        if (!title) {\n            $(dial).find(\".modal-header\").css(\"display\", \"none\");\n        }\n        if (width) {\n            // $(dial).find(\".modal-dialog\").width(width);\n            $(dial).find(\".modal-dialog\").css({ width });\n        }\n        // dial.userContent = content;\n        return dial;\n    }\n    /**\n    * Open a simple alert with html content. closable param allows to block closing window by user (modal window).\n    * @example\n    * this.jx.editor.alert({title: \"MyAlert\", content: \"\"})\n    */\n    alert({ title, content = '', closable = true, onclose = evt => { } }) {\n        var item = $(`<div id=\"content\" class=\"form-group\">${content}</div>`);\n        var dial = bootbox.dialog({\n            title: title || \"\",\n            backdrop: closable,\n            onEscape: closable,\n            closeButton: closable,\n            message: item,\n            className: \"bootbox_custom\"\n        });\n        if (!title) {\n            $(dial).find(\".modal-header\").css(\"display\", \"none\");\n        }\n        return dial;\n    }\n    confirm({ title = \"\", content = \"\", onclose = evt => { }, okLabel = \"Lancer\", cancelLabel = \"Fermer\" }) {\n        this.popup({\n            title,\n            content: `<h3>${content}</h3>`,\n            buttons: {\n                ok: { label: okLabel },\n                close: { label: cancelLabel }\n            },\n            onclose\n        });\n    }\n    /**\n    * Open a popup with url in an iframe.\n    * @example\n    * this.jx.editor.popupURL({id: \"MyPopup\", url: \"http://www.mysite.com\"})\n    */\n    popupURL({ id = '', url = '' }) {\n        let popupContent = $(`\n\t\t\t<iframe id=${id} src=\"${url}\" style=\"border:0\" width=\"100%\" height=\"100%\">\n  \t\t\t\t<p>Votre navigateur ne supporte pas l'élément iframe</p>\n\t\t\t</iframe>\n\t\t`);\n        var dial = bootbox.dialog({\n            title: id,\n            backdrop: true,\n            onEscape: true,\n            message: popupContent,\n            className: \"bootbox_custom\"\n        });\n        $(dial).find(\"div\").css(\"width\", \"100%\");\n        $(dial).find(\"div\").css(\"height\", \"100%\");\n        $(dial).find(\".modal-header\").css(\"display\", \"none\");\n        $(dial).find(\".modal-header\").css(\"height\", \"20px\");\n        $(dial).find(\".modal-title\").css(\"font-size\", \"9px\");\n        $(dial).find(\"div\").css(\"margin\", \"0px\");\n        $(dial).find(\"div\").css(\"padding\", \"0px\");\n        $(dial).find(\".modal-dialog\").css(\"width\", \"90%\");\n        $(dial).find(\".modal-dialog\").css(\"height\", \"90%\");\n        $(dial).find(\".modal-dialog\").css(\"margin\", \"auto\");\n        $(dial).find(\".modal-dialog\").css(\"margin-top\", \"10px\");\n        $(dial).find(\".modal-body\").css(\"padding\", \"5px\");\n        $(dial).find(\".modal-body\").css(\"padding-bottom\", \"5px\");\n    }\n    /**\n    * Open a popup with content generated from gabarit.\n    * @example\n    * this.jx.editor.popupGabarit({id: \"MyPopup\", gabarit: [...]})\n    */\n    popupGabarit({ id = '', title, gabarit = [], buttons = {}, onclose = (evt) => { } }) {\n        var compG = this.cc({ type: \"editionitems.Group\", data: { id: id, showHeader: false } });\n        let children = [];\n        for (var i = 0; i < gabarit.length; i++) {\n            var comp = this.cc({ type: gabarit[i].type, data: this.jx.tools.cloneObject(gabarit[i]) });\n            comp.view.find(\"#btn\").css(\"text-align\", \"left\");\n            comp.onchanged.add(evt => {\n                evt.target.data.value = evt.target.value;\n                // this.result[evt.target.id] = evt.target.value;\n                console.log(evt.target.data);\n            });\n            $(compG.item).append($(comp.item));\n            children.push(comp);\n        }\n        ;\n        var onevent = evt => {\n            let result = {};\n            for (var i = 0; i < children.length; i++) {\n                result[children[i].data.id] = children[i].value;\n            }\n            ;\n            console.log(result);\n            onclose({ action: $(evt.target).data(\"bb-handler\"), result });\n        };\n        var buttonsArg = {};\n        for (var prop in buttons) {\n            buttonsArg[prop] = {\n                label: buttons[prop].label || prop,\n                className: buttons[prop].className || \"btn-success\",\n                callback: onevent\n            };\n        }\n        var dial = bootbox.dialog({\n            title: title || id || \"\",\n            backdrop: true,\n            onEscape: evt => { console.log(); },\n            message: $(compG.item),\n            className: \"bootbox_custom\",\n            buttons: buttonsArg\n        });\n        $(dial).find(\".modal-content\").css(\"width\", \"100%\");\n        $(dial).find(\".modal-content\").css(\"height\", \"100%\");\n        $(dial).find(\"modal-body\").css(\"width\", \"100%\");\n        $(dial).find(\"modal-body\").css(\"height\", \"100%\");\n        if (!title) {\n            $(dial).find(\".modal-header\").css(\"display\", \"none\");\n        }\n        $(dial).find(\".modal-dialog\").css(\"width\", \"90%\");\n        $(dial).find(\".modal-dialog\").css(\"height\", \"80%\");\n        $(dial).find(\".modal-dialog\").css(\"margin\", \"auto\");\n        $(dial).find(\".modal-dialog\").css(\"margin-top\", \"10px\");\n        $(dial).find(\".modal-body\").css(\"padding\", \"5px\");\n        $(dial).find(\".modal-body\").css(\"padding-bottom\", \"5px\");\n        return dial;\n    }\n    //_______________________________________________________________________\n    // Used by buttons on projects items at home page (cf CatalogItem)\n    /**  */\n    createNewProjectDialog(appData, callback = evt => { }) {\n        console.log(\"createNewProjectDialog :\");\n        let popupContent = $(`\n\t\t<div class=\"white-popup\">\n\t\t\t\n\t    \t<div class=\"form-group\">\n\t\t    \t<label>idProject<input type=\"text\" id=\"idProject\" ></label>\n\t\t  \t</div>\n\t\t\t<div class=\"form-group\">\n\t\t    \t<i >Seuls A-Z, a-z, 0-9, '_' et '-' autorisés</i>\n\t\t  \t</div>\n\t    \t<div class=\"form-group\">\n\t\t    \t<div id=\"informations\" style=\"color:red;\"></div>\n\t\t  \t</div>\n\t\t  \t<button type=\"button\" class=\"btn btn-default\" title=\"Informations\" id=\"valider\">Valider</button>\n\t\t  \t\n\t\t </div>\n\t\t`);\n        //popupContent.find(\"#idProject\").attr(\"pattern\", \"/^[A-Za-z0-9_\\-]{3,}$/\")\n        var validate = () => {\n            var idProject = popupContent.find(\"#idProject\").val();\n            console.log(\"valider\", idProject);\n            if (idProject.search(/^[A-Za-z0-9_\\-]{3,}$/) == -1) {\n                console.log(\"nogood\");\n                popupContent.find(\"#informations\").html(\"Format non valide. Seuls A-Z, a-z, 0-9, '_' et '-' autorisés\");\n            }\n            else {\n                this.jx.editor.filesExist({ projectPath: this.getDirectoryURL(\"projectsURL\"), filePathArray: [{ src: idProject }] }, evt => {\n                    if (evt.filePathArray[0].exists) {\n                        popupContent.find(\"#informations\").html(\"Ce nom est déjà utilisé par un projet existant. Veuillez en saisir un autre svp.\");\n                    }\n                    else {\n                        $.magnificPopup.close();\n                        console.log(\"idProject :\", idProject, appData.modelData);\n                        this.createNewProject({\n                            idNewProject: idProject,\n                            modelData: appData.modelData\n                        }, callback);\n                    }\n                });\n            }\n        };\n        popupContent.find(\"#valider\").click(validate);\n        popupContent.find(\"#idProject\").on('keypress', evt => {\n            var code = evt.keyCode || evt.which;\n            if (code == 13) {\n                validate();\n            }\n        });\n        $.magnificPopup.open({\n            items: {\n                src: popupContent,\n                type: 'inline'\n            }\n        });\n        this.jx.wait(100, evt => { popupContent.find(\"#idProject\").focus(); });\n    }\n    /** */\n    createNewProject({ idNewProject, modelData }, callback = evt => { }) {\n        // console.log(idNewProject, modelData);\n        this.host.callMethod(\"newProject\", {\n            idNewProject: idNewProject,\n            modelData: modelData,\n            urlDest: this.getDirectoryURL(\"projectsURL\")\n        }, () => callback({ id: idNewProject, url: this.getDirectoryURL(\"projectsURL\") + \"/\" + idNewProject }));\n    }\n    /**\n     * @ignore\n     */\n    preview(projectData, rid = null) {\n        this.jx.tools.openURL(projectData.url + \"/public\" + (rid ? \"/?rid=\" + rid : \"\"), rid || projectData.id);\n    }\n    /** Open edition page of project */\n    editProject(projectData) {\n        this.jx.tools.openURL(\"?a=edit&id=\" + projectData.id + \"&url=\" + encodeURIComponent(projectData.url), \"editor_\" + projectData.id);\n    }\n    /**\n     * Move a project from conventionned directory to another conventionned directory.\n     * @example\n     * moveProject({url: \"/projects/mypath/myproject\", targetID: \"archives\"});\n     * // move myproject directory to <$archives>/mypath/myproject.\n     * Possibles targetIDs are projects, archives, moteurs.\n     * @param  {object} p\n     * @param  {string} p.url\n     * @param  {string} p.targetID\n     * @param  {Function} callback\n     * @return {void}\n     */\n    moveProject({ url, targetID }, callback = evt => { }) {\n        this.moveDir({\n            sourcePath: url,\n            destPath: \"$\" + targetID + (url.replace(\"projects/\", \"\").replace(\"projects/\", \"\").replace(\"archives/\", \"\").replace(\"moteurs/\", \"\"))\n        }, callback);\n    }\n    //_______________________________________________________________________\n    // Files Functions\n    /**\n     * Download file or directory. Directories are returned as zip archive.\n     * @param  {string} url - url relative to root to download. File or Directory.\n     * @param  {string} prefixZip - if url is a directory, this prefix will be had to zip name.\n     * @param  {string} internPath - if url is a directory, create an arborescence in downloaded zip file. If internPath=\"\" (default), the dir is copied at the root of the zip file.\n     * @param  {boolean} date - add current date at end of downloaded file name.\n     */\n    download({ url, prefixZip = \"\", internPath = \"\", date = false }) {\n        window.location = \"/services/download?prefixZip=\" + prefixZip + \"&url=\" + url + \"&internPath=\" + internPath + \"&date=\" + date;\n    }\n    /** */\n    unzip({ path, dest = null, deleteZipFile = true }, callback = null) {\n        this.host.callMethod(\"unzip\", {\n            zipPath: path,\n            dest,\n            deleteZipFile\n        }, (result) => {\n            console.log(\"unzip result : \", result);\n            if (callback)\n                callback(result);\n        });\n    }\n    /** */\n    zip(params, callback = evt => { }) {\n        params = Object.assign({ url: null, prefixZip: \"\", internPath: \"\", date: false }, params);\n        this.host.callMethod(\"zip\", params, (result) => {\n            console.log(\"zip OK\", result);\n            callback(result);\n        });\n    }\n    /**\n     * @ignore\n     */\n    saveJSON(pathFile, object) {\n        this.host.callMethod(\"writefile\", {\n            url: pathFile,\n            text: JSON.stringify(object, null, 4), // args to have indentation\n        }, function () {\n            //alert(\"le fichier est sauvegardÃ©\");\n        });\n    }\n    /**\n     * cloneDir\n     * @param  {Object}   params\n     * @param  {Function} callback\n     * @(params, callback);\n     * @example\n     * \tvar params = {\n     * \t\tsourcePath: ,\n     * \t\tdestPath: ,\n     * \t\toptions: {\n     * \t\t\tdate: false, // if true, date string is added in copy directory name\n     * \t\t \textExclude: [],   // exclude files with these extensions\n     * \t\t  \tfileExclude: [],    // exclude files for wich name matches these regular expressions\n     * \t\t   \tdirExclude: [],     // exclude directories for wich name matches these regular expressions\n     * \t\t    treeOnly: false, // copy only directories, but no files\n     * \t\t    merge: false,  // if false, erase dest dir if exists before copy, else merge in existing directory (good for patches)\n     * \t\t    deleteSource: false, // delete ori dir after copy\n     * \t\t    recursive: 10000 // level of recursivity in directories\n     * \t\t}\n     * }\n     * @return {Object}\n     */\n    cloneDir(params, callback = evt => { }) {\n        this.host.callMethod(\"cloneDir\", params, (result) => {\n            console.log(\"cloneDir OK\", result);\n            callback(result);\n        });\n    }\n    cloneDirPromise(params, callback = evt => { }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            new Promise(resolve => {\n                this.host.callMethod(\"cloneDir\", params, (result) => {\n                    console.log(\"cloneDir OK\", result);\n                    resolve(result);\n                });\n            });\n        });\n    }\n    /**\n     * Move directory. Same params as cloneDir.\n     * @param  {object} params Same params as cloneDir\n     * @param  {function} callback\n     * @return {void}\n     */\n    moveDir(params, callback = evt => { }) {\n        params.options = params.options || {};\n        params.options.deleteSource = true;\n        console.log(\"moveDir\", params);\n        this.host.callMethod(\"cloneDir\", params, (result) => {\n            console.log(\"moveDir OK\", result);\n            callback(result);\n        });\n    }\n    /**\n     * Open a file with default OS application.\n     * @param  {object}   params\n     * @param  {string}   params.url\n     * @param  {Function} callback\n     */\n    openFile({ url }, callback = evt => { }) {\n        this.jx.editor.host.callMethod(\"openFile\", { url: url }, callback);\n    }\n    filesExist({ projectPath, filePathArray }, callback = evt => { }) {\n        this.jx.editor.host.callMethod(\"filesExist\", { projectPath, filePathArray }, callback);\n    }\n    //_______________________________________________________________________\n    // OTHERS\n    refreshLocks(params, callback) {\n        this.host.callMethod(\"refreshLocks\", params, callback);\n    }\n}\n"]}