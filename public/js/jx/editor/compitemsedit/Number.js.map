{"version":3,"sources":["../../../../src/jx/editor/compitemsedit/Number.js"],"names":["textInput","Number","dataObject","controller","commonLib","jx","item","$","prop","data","id","find","text","description","editable","undefined","attr","min","max","step","addEventListener","event","onChangeData","html","innerHTML","replace","value","code","click","console","log","target","panelInfo","css","getNumLines","textarea","fontSize","lht","Math","floor","parseInt","padding","lines","itemValue"],"mappings":"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","file":"Number.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nimport Common from \"jx/editor/editionitems/Common\";\nlet textInput = `\n<div class=\"form-group row\">\n    <div class=\"row\">\n      <div class=\"col-xs-5\">\n          <div class=\"input-group\">\n              <span id=\"check\" class=\"input-group-addon\"><span class=\"fa fa-cog\"></span></span>\n             <label for=\"basic-url\">ID</label>\n          </div>\n      </div>\n      <div class=\"col-xs-1\">\n           <button class=\"btn btn-default\" title=\"Informations\" id=\"info\"><span class=\"fa fa-info\"></span></button>\n      </div>\n   <div class=\"col-xs-6\">\n        <input  id=\"value\" type=\"number\"  class=\"form-control\"  value=\"$VALUE\">\n   </div>\n   </div>\n      <div  id=\"informationsPanel\" class=\"row\"  style=\"display:none;\">\n          <div class=\"col-xs-12\" id=\"informationsText\">\n        <textarea id=\"description\" type=\"textarea\" style=\"resize:vertical\" spellcheck=\"true\"  rows=\"1\" class=\"form-control\">$description</textarea>\n       <textarea id=\"code\" type=\"textarea\" style=\"resize:vertical\" spellcheck=\"true\"  rows=\"1\" class=\"form-control\">$code</textarea>\n\n\n          </div>\n      </div>\n</div>\n`;\nexport default class Number extends VisualComponent {\n    constructor(dataObject) {\n        super(dataObject);\n        this.controller = this.dataObject.controller;\n        this.commonLib = new Common({ jx: this.jx });\n        var item = $(textInput);\n        item.prop('id', this.data.id);\n        //if (this.data.description == undefined) { item.remove($(item.description_btn)); }\n        item.find(\"#description\").text(this.data.description || \"\");\n        item.find(\"#value\").prop('readonly', (this.data.editable != undefined) ? !this.data.editable : false);\n        item.find(\"#value\").attr('min', this.data.min);\n        item.find(\"#value\").attr('max', this.data.max);\n        item.find(\"#value\").attr('step', this.data.step);\n        item[0].addEventListener(\"change\", (event) => { this.controller.onChangeData(event); });\n        item.html(item[0].innerHTML.replace(\"ID\", this.data.id).replace(\"$VALUE\", this.data.value || \"\").replace(\"$description\", \"<code>\" + this.data.description + \"</code>\" || \"\").replace(\"$code\", this.data.code || \"\"));\n        item.find(\"#info\").click((event) => {\n            console.log(\"info\", event.target, item[0].id);\n            var panelInfo = item.find(\"#informationsPanel\");\n            panelInfo.css(\"display\", (panelInfo.css(\"display\") == \"none\" ? \"inline\" : \"none\"));\n        });\n        item.find(\"#description\").attr(\"rows\", this.getNumLines(item.find(\"#description\")));\n        this.item = item;\n    }\n    set value(itemValue) {\n        this.item.find(\"#value\").attr('value', itemValue);\n    }\n    get value() {\n        return this.item.find(\"#value\").attr('value');\n    }\n    getNumLines(textarea) {\n        var fontSize = textarea.css('font-size');\n        var lht = Math.floor(parseInt(fontSize.replace('px', '')) * 1.5);\n        var padding = parseInt($('textarea').css('paddingTop'), 10) + parseInt($('textarea').css('paddingBottom'), 10);\n        var lines = ($('textarea').prop('scrollHeight') - padding) / lht;\n        console.log(\"LINE\", textarea, lht, lines);\n        return lines;\n        // var lht = parseInt(textarea.css('lineHeight'),10);\n        // var padding = parseInt($('textarea').css('paddingTop'),10) + parseInt($('textarea').css('paddingBottom'),10) \n        // var lines = ($('textarea').prop('scrollHeight') - padding) / lht;\n        //   // \n        //   // var lines = textarea.attr('scrollHeight') / lht;\n        //   // console.log(\"LINESSSSSS\", textarea.css('lineHeight'),lht, lines)\n        //   console.log(\"LINE\", $(textarea).prop('lineHeight'), lht,lines)\n        //   return lines;\n    }\n}\n"]}