{"version":3,"sources":["../../../../src/jx/editor/editionitems/FontSelector.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","FontSelector","dataObject","content","$","view","find","append","val","data","on","editor","fontsManager","showChoicePanel","btnClicked","console","log","action","lastSelectedFont","onchanged","dispatch","target","text","_refreshData","prop","editable"],"mappings":"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","file":"FontSelector.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport BasicItem from \"jx/editor/editionitems/BasicItem\";\nexport default class FontSelector extends BasicItem {\n    constructor(dataObject) {\n        super(dataObject);\n        //console.log(dataObject, this.dataObject)\n        this.content = $(`<input type=\"text\" class=\"form-control\" id=\"value\">`);\n        this.view.find(\"#content\").append(this.content);\n        this.content.val(this.data.value || \"\");\n        this.content.on(\"click\", () => __awaiter(this, void 0, void 0, function* () {\n            let btnClicked = yield this.editor.fontsManager.showChoicePanel();\n            console.log(\"btnClicked\", btnClicked);\n            if (btnClicked.action !== \"no\" && this.editor.fontsManager.lastSelectedFont) {\n                console.log(\"CHOICE\", this.editor.fontsManager.lastSelectedFont);\n                this.value = this.editor.fontsManager.lastSelectedFont;\n                this.onchanged.dispatch({ target: this });\n            }\n        }));\n    }\n    _refreshData() {\n        this.data.value = this.value;\n    }\n    _refreshView() {\n        this.data.value = this.value;\n    }\n    get value() {\n        return this.view.find(\"#value\")[0].value;\n    }\n    set value(text) {\n        this.content.val(text || \"\");\n        this._refreshData();\n    }\n    set lock(value) {\n        if (!value) {\n            this.view.find(\"#value\").prop('disabled', !this.editable);\n        }\n        else {\n            this.view.find(\"#value\").prop('disabled', true);\n        }\n    }\n}\n"]}