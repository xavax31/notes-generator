{"version":3,"sources":["../../../../src/jx/editor/editionitems/GabaritObject.js"],"names":["GROUP","sep","modeToPackage","self","texts","variante","ItemShorcutsNames","viewsModels","tab","flat","GabaritObject","dataObject","gabarit","controller","data","title","id","template","defaultPackage","_textFold","factory","Factory","jx","mode","modeDisplay","view","$","mainController","html","descStr","description","trim","find","preview","on","console","log","showItem","type","css","value","setValue","addItems","tabs","undefined","onchanged","dispatch","target","args","editor","getOptionsList","itemInfo","downloadItem","screenID","showScreen","openParentDirectory","pushFile","pullFile","callback","deleteItemLinkedFile","valueObj","prop","_changeValueInGabarit","result","i","length","src","asset","children","event","comp","getClickedCompFromDOMEvent","autoRefresh","check","isfirstchange","currentTarget","firstItem","search","options","showInGabarit","showInfo","hideInfo","panelInfo","jsonString","setFilters","error","editView","remove","mapcontent","activeTabParams","activeTab","scroll","scrollTop","append","clearView","wait","textFold","empty","DOMevent","clickedGroup","parentElement","clickedItem","clickedItemElement","_gabaritToValue","lock","visible","Object","assign","_template","filters","JSON","parse","itemsInfos","parent","itemParent","itemInfosLength","startNo","endNo","j","item","start","Number","end","addItem","index","timer","Date","now","toLowerCase","itemClass","db","getClassFromItemData","warn","getClass","initParams","tools","cloneObject","gabaritID","str","replaceChar","string","numberChar","letterChar","a","convertedSrc","resources","resource","filter","itemRes","cc","add","onChangeData","evt","shortcut","getBoolDependsGroup","addChild","push","firstInit"],"mappings":"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","file":"GabaritObject.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nlet GROUP = `\n<div class=\"tab-pane\" id=\"ID\" /> \n`;\nlet sep = `\n<div>\n<hr>\n<span id=\"sepID\" class=\"text-left\"></span>\n</div>\n`;\nlet modeToPackage = {\n    \"edititems\": \"editionitems\",\n    \"readonly\": \"compitemsreadonly\",\n    \"edit\": \"compitemsedit\"\n};\nself.texts = {\n    variante: \"Décrire ici les modifications souhaitées par rapport au modèle actuel.\"\n};\nlet ItemShorcutsNames = {\n    \"Number\": \"NumberItem\",\n    \"Sound\": \"SoundItem\",\n    \"Image\": \"ImageItem\",\n    \"Boolean\": \"BooleanItem\",\n    \"Flashtml\": \"FlashtmlItem\",\n    \"FlashtmlPack\": \"FlashtmlPackItem\",\n    \"ImageSequence\": \"ImageSequenceItem\",\n    \"FLA\": \"FLAItem\",\n    \"Video\": \"VideoItem\",\n    \"SpriteSheet\": \"SpriteSheetItem\",\n    \"class\": \"ClassFile\",\n    \"QuizManager\": \"QuizManagerItem\",\n    \"QuizData\": \"QuizDataItem\",\n    \"QuizTheme\": \"QuizThemeItem\"\n};\nlet viewsModels = {\n    tab: `\n<div class=\"container\">\n    <div class=\"row\">\n        <!-- MENU -->\n        <div class=\"col-xs-3\" id=\"myScrollspy\"  data-spy=\"affix\" data-offset-top=\"0\">\n            <ul id=\"mapList\" class=\"nav nav-pills nav-stacked nav-tabs\"></ul>\n        </div>\n        <!-- MENU END -->\n\n        <div class=\"col-xs-9\">\n            <div id=\"map\" class=\"tab-content content1\"></div>\n        </div>\n    </div>\n           \n </div>\n`,\n    flat: `\n<div class=\"container\">\n    <div class=\"row\">\n        <!-- MENU -->\n        <div class=\"col-xs-1\" id=\"myScrollspy\">\n            <ul id=\"mapList\" class=\"nav nav-pills nav-stacked nav-tabs\"></ul>\n        </div>\n        <!-- MENU END -->\n\n        <div class=\"col-xs-11\">\n            <div id=\"map\"></div>\n        </div>\n    </div>\n\n           \n </div>\n`\n};\nexport default class GabaritObject extends VisualComponent {\n    constructor(dataObject) {\n        super(dataObject);\n    }\n    _create() {\n        super._create();\n        this.gabarit = this.dataObject.gabarit;\n        this.controller = this.dataObject.controller;\n        this.data = this.data || {};\n        var title = this.data.id || \"\";\n        this.data.id = this.data.id || \"MainGabarit\";\n        //-- html template to use (cf var viewsModels)\n        var template = this.dataObject.template || viewsModels;\n        var defaultPackage = this.dataObject.defaultPackage || viewsModels;\n        this._textFold = false;\n        this.factory = new Factory({ jx: this.jx, controller: this, template: template });\n        this.factory.defaultPackage = modeToPackage[this.dataObject.mode] || this.dataObject.mode || this.factory.defaultPackage;\n        this.modeDisplay = \"tab\";\n        this.view = $(GROUP);\n        if (this.controller !== this.mainController) {\n            this.view.html($(sep));\n        }\n        var descStr = ((this.data.description || \"\").trim() == \"\") ? \"\" : \"(\" + this.data.description + \")\";\n        this.view.find(\"#sepID\").html(\"<h4>\" + title + \" <small>\" + descStr + \"</small></h4>\");\n        this.view.id = this.data.id;\n        if (this.data.preview == true) {\n            this.view.find(\"#preview\").on(\"click\", evt => {\n                console.log(\"click\", this);\n                this.controller.showItem({ type: this.data.type, id: this.data.id });\n            });\n        }\n        else {\n            this.view.find(\"#preview\").css(\"display\", \"none\");\n        }\n        if (this.gabarit) {\n            this.data.value = this.data.value || {};\n            this.setValue(this.data.value);\n            this.factory.addItems(this.gabarit, (this.dataObject.tabs ? undefined : this.view));\n            this.onchanged.dispatch({ target: this });\n        }\n        ;\n    }\n    getOptionsList(args) {\n        return this.jx.editor.getOptionsList(args);\n    }\n    showItem(args) {\n        this.controller.showItem(args);\n    }\n    downloadItem(itemInfo) {\n        this.controller.downloadItem(itemInfo);\n    }\n    showScreen(screenID) {\n        this.controller.showScreen(screenID);\n    }\n    openParentDirectory(itemInfo) {\n        this.controller.openParentDirectory(itemInfo);\n    }\n    pushFile(itemInfo) {\n        this.controller.pushFile(itemInfo);\n    }\n    pullFile(itemInfo) {\n        this.controller.pullFile(itemInfo);\n    }\n    deleteItemLinkedFile(itemInfo, callback) {\n        this.controller.deleteItemLinkedFile(itemInfo, callback);\n    }\n    get mainController() {\n        return this.controller.mainController;\n    }\n    get value() {\n        return this._gabaritToValue();\n    }\n    setValue(valueObj) {\n        for (var prop in valueObj) {\n            this._changeValueInGabarit(prop, valueObj[prop]);\n        }\n    }\n    _gabaritToValue() {\n        var result = {};\n        for (var i = 0; i < this.gabarit.length; i++) {\n            switch (this.gabarit[i].type) {\n                case \"Sound\":\n                    result[this.gabarit[i].id] = {\n                        id: this.gabarit[i].id,\n                        type: \"Sound\",\n                        src: this.gabarit[i].asset.src\n                    };\n                    break;\n                case \"Flashtml\":\n                    result[this.gabarit[i].id] = {\n                        id: this.gabarit[i].id,\n                        type: \"Flashtml\",\n                        src: this.gabarit[i].asset.src\n                    };\n                    break;\n                default:\n                    result[this.gabarit[i].id] = this.gabarit[i].value;\n            }\n        }\n        ;\n        return result;\n    }\n    _changeValueInGabarit(id, value) {\n        for (var i = 0; i < this.gabarit.length; i++) {\n            if (this.gabarit[i].id == id) {\n                switch (this.gabarit[i].type) {\n                    case \"Sound\":\n                        break;\n                    default:\n                        this.gabarit[i].value = value;\n                }\n            }\n            ;\n        }\n        ;\n    }\n    findComp({ id }) {\n        for (var i = 0; i < this.factory.children.length; i++) {\n            if (this.factory.children[i].id == id)\n                return this.factory.children[i];\n        }\n        ;\n        return null;\n    }\n    onChangeData(event) {\n        var comp = (event.target.jx) ? event.target : this.getClickedCompFromDOMEvent(event);\n        if (!comp.autoRefresh) { // hack used temporary for ClassFile\n            comp.data.value = comp.value;\n            if (comp.check)\n                comp.check();\n        }\n        if (this.data)\n            this.data.value = this.value;\n        if (event.isfirstchange == undefined) {\n            event.isfirstchange = false;\n            this.onchanged.dispatch({ target: this, currentTarget: comp, firstItem: comp, isfirstchange: false });\n        }\n        else {\n            this.onchanged.dispatch({ target: this, currentTarget: comp, firstItem: event.firstItem, isfirstchange: false });\n        }\n    }\n    showInGabarit(search, options) {\n        this.controller.showInGabarit(search, options);\n    }\n    set lock(value) {\n        for (var i = 0; i < this.factory.children.length; i++) {\n            this.factory.children[i].lock = value;\n        }\n        ;\n    }\n    set textFold(value) {\n        this._textFold = value;\n        for (var i = 0; i < this.factory.children.length; i++) {\n            if (this.factory.children[i].textFold) { }\n            ;\n            this.factory.children[i].textFold = value;\n        }\n        ;\n    }\n    set visible(value) {\n        for (var i = 0; i < this.factory.children.length; i++) {\n            this.factory.children[i].visible = value;\n        }\n        ;\n    }\n    /** show/hide info panel of item */\n    showInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"inline\");\n        for (var i = 0; i < this.factory.children.length; i++) {\n            this.factory.children[i].showInfo();\n        }\n        ;\n    }\n    /** show/hide info panel of item */\n    hideInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"none\");\n        for (var i = 0; i < this.factory.children.length; i++) {\n            if (!this.factory.children[i].hideInfo) {\n                console.log(this.factory.children[i]);\n            }\n            ;\n            this.factory.children[i].hideInfo();\n        }\n        ;\n    }\n    /** show/hide info panel of item */\n    toggleInfo() {\n        var panelInfo = this.view.find(\"#informationsPanel\");\n        if (panelInfo.css(\"display\") == \"none\") {\n            this.showInfo();\n        }\n        else {\n            this.hideInfo();\n        }\n    }\n    //_______\n    set modeDisplay(value) {\n        this.factory.modeDisplay = value;\n    }\n    get modeDisplay() {\n        return this.factory.modeDisplay;\n    }\n    setFilters(jsonString) {\n        this.factory.setFilters(jsonString);\n    }\n    showAllInfos() {\n        for (var i = 0; i < this.factory.children.length; i++) {\n            if (this.factory.children[i].showInfo == undefined) {\n                console.error(this.factory.children[i]);\n            }\n            else {\n                this.factory.children[i].showInfo();\n            }\n        }\n        ;\n    }\n    hideAllInfos() {\n        for (var i = 0; i < this.factory.children.length; i++) {\n            if (this.factory.children[i].hideInfo == undefined) {\n                console.error(this.factory.children[i]);\n            }\n            else {\n                this.factory.children[i].hideInfo();\n            }\n        }\n        ;\n    }\n    /** Refresh edition items list view */\n    refreshView() {\n        if (this.editView != null) {\n            this.editView.remove();\n        }\n        this.editView = $(this.factory.view);\n        let mapcontent = this.editView.find(\"#mapcontent\");\n        mapcontent.on(\"scroll\", () => {\n            this.mainController.activeTabParams[this.mainController.activeTab] = this.mainController.activeTabParams[this.mainController.activeTab] || { scroll: 0 };\n            this.mainController.activeTabParams[this.mainController.activeTab].scroll = mapcontent.scrollTop();\n        });\n        this.view.append(this.editView);\n        this.factory.clearView(this.view);\n        this.factory.addItems(this.gabarit, (this.dataObject.tabs ? undefined : this.view));\n        this.jx.wait(100, () => {\n            this.textFold = this._textFold;\n        });\n    }\n    /** Refresh edition items list view */\n    refreshLocalView() {\n        this.view.empty();\n        // this.factory.addItems(this.gabarit);\n        this.factory.addItems(this.gabarit, (this.dataObject.tabs ? undefined : this.view));\n        this.setValue(this.data.value);\n    }\n    /** */\n    getClickedCompFromDOMEvent(DOMevent) {\n        var clickedGroup = DOMevent.currentTarget.parentElement;\n        var clickedItem = DOMevent.currentTarget;\n        var clickedItemElement = DOMevent.target;\n        if ($(clickedItem).data(\"controller\") != undefined) {\n            return $(clickedItem).data(\"controller\");\n        }\n        return null;\n    }\n}\nimport Component from \"jx/core/comps/Component\";\nclass Factory extends Component {\n    constructor(dataObject) {\n        super(Object.assign({ controller: null }, dataObject));\n        this.controller = this.dataObject.controller; //Edition.js\n        this._template = this.dataObject.template;\n        this.defaultPackage = \"editionitems\";\n        this.filters = { type: \"all\" };\n        this.modeDisplay = \"tab\";\n        this.children = [];\n    }\n    setFilters(jsonString) {\n        if (jsonString == \"all\") {\n            this.filters = { type: \"all\" };\n            return;\n        }\n        this.filters = JSON.parse(jsonString);\n    }\n    get view() {\n        return this._template[this.modeDisplay];\n    }\n    clearView(view) {\n        console.log($(view).find(\"#mapList\"));\n        $(view).find(\"#mapList\").empty();\n        $(view).find(\"#map\").empty();\n        this.children.length = 0;\n    }\n    addItems(itemsInfos, parent, itemParent) {\n        let itemInfosLength = itemsInfos.length;\n        let i, startNo, endNo, j, item;\n        for (i = 0; i < itemInfosLength; i++) {\n            startNo = itemsInfos[i].start == undefined ? 0 : Number(itemsInfos[i].start);\n            endNo = itemsInfos[i].end == undefined ? 0 : Number(itemsInfos[i].end);\n            for (j = startNo; j <= endNo; j++) {\n                item = this.addItem(itemsInfos[i], parent, j, itemParent);\n            }\n        }\n    }\n    addItem(itemInfo, parent, index, itemParent) {\n        let timer = Date.now();\n        //-- bypass creation if not allowed by filters by type in Edition page (not good place for this code)\n        if (itemInfo.type != \"Group\" && this.filters.type != \"all\" && this.filters.type != itemInfo.type.toLowerCase())\n            return itemInfo;\n        let itemClass = this.jx.db.getClassFromItemData(itemInfo, this.defaultPackage);\n        if (!itemClass) {\n            console.warn(\"EditionItemGenerator._addItem_\" + itemInfo.type + \" not found\");\n            itemClass = this.jx.db.getClass(\"jx/editor/\" + this.defaultPackage + \"/Todo\");\n        }\n        var initParams;\n        //-- iteration for files\n        if (itemInfo.asset && itemInfo.type != \"ImageSequence\") {\n            initParams = this.jx.tools.cloneObject(itemInfo); // need to clone and detach itemInfo here. no problem for files because items files need not to change gabarit, only link to src is needed for preview, downlod and drag drop.\n            initParams.gabaritID = itemInfo.id;\n            initParams.id = this.jx.tools.str.replaceChar({ string: initParams.id, index: index, numberChar: \"#\", letterChar: \"£\", mode: \"uppercase\", a: 0 });\n            let convertedSrc = this.jx.tools.str.replaceChar({ string: initParams.asset.src, index: index, numberChar: \"#\", letterChar: \"£\", mode: \"uppercase\", a: 0 });\n            initParams.asset = this.jx.tools.cloneObject(initParams.asset);\n            if (itemInfo.asset.resources) {\n                let resource = itemInfo.asset.resources.filter(itemRes => itemRes.id == initParams.id)[0];\n                if (resource) {\n                    initParams.asset.src = resource.src || initParams.asset.src;\n                }\n                else {\n                    initParams.asset.src = convertedSrc;\n                }\n            }\n            else {\n                initParams.asset.src = convertedSrc;\n            }\n        }\n        else {\n            initParams = itemInfo; // else initparams given to item constructor is itemInfo object of original gabarit itself (kind of binding).\n        }\n        //--- Creates component\n        var item = this.cc({ type: itemClass, data: initParams, controller: this.controller });\n        item.onchanged.add(evt => this.controller.onChangeData(evt));\n        // if shortcut, we stop this addItem and call new one with initParams args\n        if (item.view.shortcut == true) {\n            delete item.view.shortcut;\n            for (var prop in item.view) {\n                itemInfo[prop] = item.view[prop];\n            }\n            ;\n            for (var prop in itemInfo) {\n                if (item.view[prop] == undefined) {\n                    delete itemInfo[prop];\n                }\n                ;\n            }\n            ;\n            return this.addItem(item.view, parent, index, itemParent);\n        }\n        ;\n        item.itemParent = itemParent;\n        // add it to content page\n        if (this.jx.editor.getBoolDependsGroup(initParams.visible, true)) {\n            if (parent == undefined) {\n                if (this.modeDisplay == \"flat\") {\n                    $(\"#map\").append(`<hr>`);\n                    $(\"#map\").append(`<div id=\"${item.id}Tab\" class=\"text-info\"><h5>${item.data.title || item.id}</h5></div>`);\n                    $(\"#map\").append(item.view);\n                }\n                else {\n                    $(\"#mapList\").append(`<li id=\"${item.id}Tab\"><a href=\"#${item.id}\"    data-toggle=\"tab\">${item.data.title || item.id}</a></li>`);\n                    $(\"#map\").append(item.view);\n                }\n            }\n            else {\n                if (itemParent && itemParent.addChild) {\n                    itemParent.addChild(item);\n                }\n                else {\n                    $(parent).append(item.view);\n                }\n            }\n        }\n        this.children.push(item);\n        if (initParams.children != undefined) {\n            this.addItems(initParams.children, item.view, item);\n        }\n        if (item.firstInit)\n            item.firstInit();\n        return initParams;\n    }\n}\n"]}