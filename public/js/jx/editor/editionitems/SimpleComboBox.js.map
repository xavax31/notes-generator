{"version":3,"sources":["../../../../src/jx/editor/editionitems/SimpleComboBox.js"],"names":["_template","SimpleComboBox","dataObject","controller","item","$","prop","data","id","find","html","title","options","jx","editor","getOptionsList","value","undefined","i","length","opt","el","document","createElement","textContent","attr","append","onChanged","signals","Signal","on","event","dispatch","target","add","view","val","css"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,QAAIA,0KAAJ;;QAMqBC,c;;;AACjB,gCAAYC,UAAZ,EAAwB;AAAA;;AAAA,wIACdA,UADc;;AAEpB,kBAAKC,UAAL,GAAkB,MAAKD,UAAL,CAAgBC,UAAlC;AACA,gBAAIC,OAAOC,EAAEL,SAAF,CAAX;AACAI,iBAAKE,IAAL,CAAU,IAAV,EAAgB,MAAKC,IAAL,CAAUC,EAA1B;AACAJ,iBAAKK,IAAL,CAAU,QAAV,EAAoBC,IAApB,CAAyB,MAAKH,IAAL,CAAUI,KAAV,IAAmB,EAA5C;AACA,gBAAIC,UAAW,OAAO,MAAKL,IAAL,CAAUK,OAAjB,IAA4B,QAA7B,GAAyC,MAAKC,EAAL,CAAQC,MAAR,CAAeC,cAAf,CAA8B,MAAKR,IAAL,CAAUK,OAAxC,CAAzC,GAA4F,MAAKL,IAAL,CAAUK,OAApH;AACA,gBAAII,QAAS,MAAKT,IAAL,CAAUS,KAAV,IAAmBC,SAAnB,IAAgC,MAAKV,IAAL,CAAUS,KAAV,IAAmB,EAApD,GAA0DJ,QAAQ,CAAR,CAA1D,GAAuE,MAAKL,IAAL,CAAUS,KAA7F;AACA,iBAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIN,QAAQO,MAA5B,EAAoCD,GAApC,EAAyC;AACrC,oBAAIE,MAAMR,QAAQM,CAAR,CAAV;AACA,oBAAIG,KAAKC,SAASC,aAAT,CAAuB,QAAvB,CAAT;AACAF,mBAAGG,WAAH,GAAiBJ,GAAjB;AACAC,mBAAGL,KAAH,GAAWI,GAAX;AACAf,kBAAEgB,EAAF,EAAMI,IAAN,CAAW,UAAX,EAAwBL,OAAOJ,KAA/B;AACAZ,qBAAKK,IAAL,CAAU,WAAV,EAAuBiB,MAAvB,CAA8BL,EAA9B;AACH;AACD,kBAAKM,SAAL,GAAiB,IAAIC,QAAQC,MAAZ,EAAjB;AACAzB,iBAAKK,IAAL,CAAU,WAAV,EAAuBqB,EAAvB,CAA0B,QAA1B,EAAoC,UAACC,KAAD,EAAW;AAC3C,sBAAKJ,SAAL,CAAeK,QAAf,CAAwB,EAAEC,aAAF,EAAxB;AACH,aAFD;AAGA,gBAAI,MAAK1B,IAAL,CAAUoB,SAAd,EAAyB;AACrB,sBAAKA,SAAL,CAAeO,GAAf,CAAmB,MAAK3B,IAAL,CAAUoB,SAA7B;AACH;AACD;AACAvB,iBAAKG,IAAL,CAAU,YAAV;AACA,kBAAKH,IAAL,GAAYA,IAAZ;AACA,kBAAK+B,IAAL,GAAY,MAAK/B,IAAjB;AA1BoB;AA2BvB;;;;gCACW;AACR,uBAAO,KAAK+B,IAAL,CAAU1B,IAAV,CAAe,WAAf,EAA4B,CAA5B,EAA+BO,KAAtC;AACH,a;8BACSoB,G,EAAK;AACX,qBAAKD,IAAL,CAAU1B,IAAV,CAAe,WAAf,EAA4B,CAA5B,EAA+BO,KAA/B,GAAuCoB,GAAvC;AACH;;;8BACWA,G,EAAK;AACb,qBAAKD,IAAL,CAAUE,GAAV,CAAc,SAAd,EAA0BD,MAAM,QAAN,GAAiB,MAA3C;AACH;;;;;;sBArCgBnC,c","file":"SimpleComboBox.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nlet _template = `\n    <div class='form-group text-center'>\n        <div id=\"title\"></div>\n        <select class=\"form-control input-sm\" id=\"selector\">\n    </div>\n`;\nexport default class SimpleComboBox extends VisualComponent {\n    constructor(dataObject) {\n        super(dataObject);\n        this.controller = this.dataObject.controller;\n        let item = $(_template);\n        item.prop(\"id\", this.data.id);\n        item.find(\"#title\").html(this.data.title || \"\");\n        let options = (typeof this.data.options == \"string\") ? this.jx.editor.getOptionsList(this.data.options) : this.data.options;\n        let value = (this.data.value == undefined || this.data.value == \"\") ? options[0] : this.data.value;\n        for (var i = 0; i < options.length; i++) {\n            let opt = options[i];\n            let el = document.createElement(\"option\");\n            el.textContent = opt;\n            el.value = opt;\n            $(el).attr(\"selected\", (opt == value));\n            item.find(\"#selector\").append(el);\n        }\n        this.onChanged = new signals.Signal();\n        item.find(\"#selector\").on(\"change\", (event) => {\n            this.onChanged.dispatch({ target: this });\n        });\n        if (this.data.onChanged) {\n            this.onChanged.add(this.data.onChanged);\n        }\n        ;\n        item.data(\"controller\", this);\n        this.item = item;\n        this.view = this.item;\n    }\n    get value() {\n        return this.view.find(\"#selector\")[0].value;\n    }\n    set value(val) {\n        this.view.find(\"#selector\")[0].value = val;\n    }\n    set visible(val) {\n        this.view.css(\"display\", (val ? \"inline\" : \"none\"));\n    }\n}\n"]}