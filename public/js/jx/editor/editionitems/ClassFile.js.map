{"version":3,"sources":["../../../../src/jx/editor/editionitems/ClassFile.js"],"names":["ClassFile","dataObject","data","editable","undefined","Object","assign","icoTitle","icoSymbol","actions","informations","backgroundColor","console","log","content","$","view","find","html","prop","src","on","event","autoRefresh","_refreshData","onchanged","dispatch","target","value","item"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QACqBA,S;;;AACjB,2BAAYC,UAAZ,EAAwB;AAAA;;AACpBA,uBAAWC,IAAX,CAAgBC,QAAhB,GAA2BF,WAAWC,IAAX,CAAgBC,QAAhB,IAA4BC,SAA5B,GAAwC,WAAxC,GAAsDH,WAAWC,IAAX,CAAgBC,QAAjG;;AADoB,8HAEdE,OAAOC,MAAP,CAAc;AAChBC,0BAAU,MADM;AAEhBC,2BAAW,aAFK;AAGhBC,yBAAS,EAHO;AAIhBC,8BAAc,EAJE;AAKhBC,iCAAiB;AALD,aAAd,EAMHV,UANG,CAFc;;AASpBW,oBAAQC,GAAR,CAAYZ,UAAZ,EAAwB,MAAKA,UAA7B;AACA,kBAAKa,OAAL,GAAeC,2IAAf;AACA,kBAAKC,IAAL,CAAUC,IAAV,CAAe,UAAf,EAA2BC,IAA3B,CAAgC,MAAKJ,OAArC;AACA,kBAAKE,IAAL,CAAUC,IAAV,CAAe,QAAf,EAAyBE,IAAzB,CAA8B,UAA9B,EAA0C,CAAC,MAAKhB,QAAhD;AACA,kBAAKa,IAAL,CAAUC,IAAV,CAAe,QAAf,EAAyBC,IAAzB,CAA8B,MAAKhB,IAAL,CAAUkB,GAAV,IAAiB,EAA/C;AACA,kBAAKJ,IAAL,CAAUK,EAAV,CAAa,QAAb,EAAuB,UAACC,KAAD,EAAW;AAC9B,oBAAI,MAAKC,WAAT,EACI,MAAKC,YAAL;AACJ,sBAAKC,SAAL,CAAeC,QAAf,CAAwB,EAAEC,aAAF,EAAxB;AACH,aAJD;AAdoB;AAmBvB;;;;2CACc;AACX,qBAAKzB,IAAL,CAAUkB,GAAV,GAAgB,KAAKQ,KAArB;AACH;;;2CACc;AACX,qBAAK1B,IAAL,CAAUkB,GAAV,GAAgB,KAAKQ,KAArB;AACH;;;gCACW;AACR,uBAAO,KAAKC,IAAL,CAAUZ,IAAV,CAAe,QAAf,EAAyB,CAAzB,EAA4BW,KAAnC;AACH;;;8BACQA,K,EAAO;AACZ,oBAAI,CAACA,KAAL,EAAY;AACR,yBAAKZ,IAAL,CAAUC,IAAV,CAAe,QAAf,EAAyBE,IAAzB,CAA8B,UAA9B,EAA0C,CAAC,KAAKhB,QAAhD;AACH,iBAFD,MAGK;AACD,yBAAKa,IAAL,CAAUC,IAAV,CAAe,QAAf,EAAyBE,IAAzB,CAA8B,UAA9B,EAA0C,IAA1C;AACH;AACJ;;;;;;sBArCgBnB,S","file":"ClassFile.js","sourcesContent":["import BasicItem from \"jx/editor/editionitems/BasicItem\";\nexport default class ClassFile extends BasicItem {\n    constructor(dataObject) {\n        dataObject.data.editable = dataObject.data.editable == undefined ? \"admin,dev\" : dataObject.data.editable;\n        super(Object.assign({\n            icoTitle: \"Voir\",\n            icoSymbol: \"file-code-o\",\n            actions: [],\n            informations: [],\n            backgroundColor: \"#fffa83\"\n        }, dataObject));\n        console.log(dataObject, this.dataObject);\n        this.content = $(`<textarea id=\"value\" type=\"textarea\" style=\"resize:vertical\"  spellcheck=\"true\"  rows=\"1\" class=\"form-control\"></textarea>`);\n        this.view.find(\"#content\").html(this.content);\n        this.view.find(\"#value\").prop('readonly', !this.editable);\n        this.view.find(\"#value\").html(this.data.src || \"\");\n        this.view.on(\"change\", (event) => {\n            if (this.autoRefresh)\n                this._refreshData();\n            this.onchanged.dispatch({ target: this });\n        });\n    }\n    _refreshData() {\n        this.data.src = this.value;\n    }\n    _refreshView() {\n        this.data.src = this.value;\n    }\n    get value() {\n        return this.item.find(\"#value\")[0].value;\n    }\n    set lock(value) {\n        if (!value) {\n            this.view.find(\"#value\").prop('readonly', !this.editable);\n        }\n        else {\n            this.view.find(\"#value\").prop('readonly', true);\n        }\n    }\n}\n"]}