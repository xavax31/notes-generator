{"version":3,"sources":["../../../../src/jx/editor/editionitems/QuizDataItem2.js"],"names":["QuizDataItem","dataObject","data","exportType","_infos","title","thema","style","questionsNum","responsesNum","questionsArr","_themaOptions","id","desc","btnConfig","cc","type","confirmBeforeLaunch","onclick","configure","view","find","append","$","childrenContainer","prepend","children","length","addInfos","confirm","console","log","jx","editor","content","onclose","evt","action","questionsView","slice","i","removeChild","onchanged","dispatch","target","name","infosView","infosViewName","infosViewThema","addChild","infos","noQuestion","push","question","add","no","questionText","addText","questionImage","addImage","questionSound","addSound","responses","addDataGroup","response","responseText","responseImage","responseSound","parent","showHeader","item","text","questionsContainer","src","controller","nameField","findChildById","value","setTitle","editionPage","mainController","gabaritView","refreshEditionView","showTab","mess","firstInit","popup","width","buttons","ok","_changeQuiz","on","modal","deleteQuiz","clearAll","comfirm","html","css","_fillComboBox","formEl","options","enabled","selected","recreateQuiz","undefined","addQuestion","opt","el","document","createElement","textContent","attr","deleteTab","_questionContainer","lock"],"mappings":"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","file":"QuizDataItem2.js","sourcesContent":["// import VisualComponent from \"jx/core/comps/VisualComponent\"\nimport DataGroup from \"jx/editor/editionitems/DataGroup\";\nexport default class QuizDataItem extends DataGroup {\n    constructor(dataObject) {\n        super(dataObject);\n        this.data.exportType = \"DataGroup\";\n        this._infos = {\n            title: this.data.title,\n            thema: null,\n            style: null,\n            questionsNum: null,\n            responsesNum: null\n        };\n        this.questionsArr = [];\n        this._themaOptions = [\n            { id: \"ART_CULTURE\", desc: \"ART ET CULTURE\" },\n            { id: \"HISTOIRE\", desc: \"HISTOIRE\" },\n            { id: \"GEOGRAPHIE\", desc: \"GEOGRAPHIE\" },\n            { id: \"NATURE\", desc: \"NATURE\" },\n            { id: \"SCIENCES_TECHNIQUE\", desc: \"SCIENCES ET TECHNIQUE\" },\n            { id: \"SOCIETE\", desc: \"SOCIETE\" },\n            { id: \"LANGUE\", desc: \"LANGUE\" },\n            { id: \"SPORT\", desc: \"SPORT\" }\n        ];\n        this.btnConfig = this.cc({ type: \"editionitems.ButtonItem\", data: { id: \"btnConfig\", title: \"Configurer le quiz\", confirmBeforeLaunch: false, onclick: () => this.configure() } });\n        this.view.find(\"#sepID\").append(this.btnConfig.view);\n        return;\n        this.view.append($(\"<div><div id='children'></div></div>\"));\n        this.childrenContainer = this.view.find(\"#children\");\n        this.btnConfig = this.cc({ type: \"editionitems.ButtonItem\", data: { id: \"btnConfig\", title: \"Configurer le quiz\", confirmBeforeLaunch: false, onclick: () => this.configure() } });\n        this.childrenContainer.prepend(this.btnConfig.view);\n        this._infos = {\n            title: this.data.title,\n            thema: null,\n            style: null,\n            questionsNum: null,\n            responsesNum: null\n        };\n        this.children = [];\n        this.questionsArr = [];\n        this._themaOptions = [\n            { id: \"ART_CULTURE\", desc: \"ART ET CULTURE\" },\n            { id: \"HISTOIRE\", desc: \"HISTOIRE\" },\n            { id: \"GEOGRAPHIE\", desc: \"GEOGRAPHIE\" },\n            { id: \"NATURE\", desc: \"NATURE\" },\n            { id: \"SCIENCES_TECHNIQUE\", desc: \"SCIENCES ET TECHNIQUE\" },\n            { id: \"SOCIETE\", desc: \"SOCIETE\" },\n            { id: \"LANGUE\", desc: \"LANGUE\" },\n            { id: \"SPORT\", desc: \"SPORT\" }\n        ];\n        if (this.data.children.length == 0)\n            this.addInfos();\n    }\n    showInfo() { }\n    hideInfo() { }\n    clearAll({ confirm = true }) {\n        console.log(this.questionsArr);\n        if (confirm) {\n            this.jx.editor.confirm({ content: \"Supprimer toutes les questions ?\", onclose: evt => {\n                    if (evt.action == \"ok\") {\n                        let children = this.questionsView.children.slice();\n                        for (var i = 0; i < children.length; i++) {\n                            this.questionsView.removeChild(children[i]);\n                        }\n                        this.questionsView.data.children.length = 0;\n                        this.questionsView.onchanged.dispatch({ target: this.questionsView });\n                    }\n                } });\n        }\n        else {\n            let children = this.questionsView.children.slice();\n            for (var i = 0; i < children.length; i++) {\n                this.questionsView.removeChild(children[i]);\n            }\n            this.questionsView.data.children.length = 0;\n            this.questionsView.onchanged.dispatch({ target: this.questionsView });\n        }\n    }\n    get questionsNum() {\n        return this.questionsArr.length;\n    }\n    // addChild(item) {\n    //     this.childrenContainer.append(item.view);\n    //     this.children.push(item);\n    // }\n    addInfos() {\n        // let infos = this.addDataObject(this, \"infos\", showHeader=true);\n        // let questions = this.addDataGroup(this, \"questions\", showHeader=true);\n        let data = [\n            {\n                \"id\": \"infos\",\n                \"type\": \"DataObject\",\n                \"description\": \"\",\n                \"visible\": true,\n                \"children\": [\n                    {\n                        \"id\": \"name\",\n                        \"title\": \"Nom\",\n                        \"type\": \"Text\",\n                        \"editable\": true,\n                        \"description\": \"\",\n                        \"value\": this._infos.name\n                    },\n                    {\n                        \"id\": \"thema\",\n                        \"title\": \"Thème\",\n                        \"type\": \"ComboBox\",\n                        \"editable\": true,\n                        \"description\": \"\",\n                        \"value\": this._infos.thema,\n                        \"options\": this._themaOptions\n                    },\n                ]\n            },\n            {\n                \"id\": \"questions\",\n                \"type\": \"DataGroup\",\n                \"description\": \"\",\n                \"visible\": true,\n                \"children\": []\n            }\n        ];\n        this.data.children = data;\n        this.infosView = this.cc({ type: \"editionitems.DataObject\", data: data[0] });\n        this.infosViewName = this.infosView.cc({ type: \"editionitems.Text\", data: data[0].children[0] });\n        this.infosViewThema = this.infosView.cc({ type: \"editionitems.Text\", data: data[0].children[1] });\n        this.infosView.addChild(this.infosViewName);\n        this.infosView.addChild(this.infosViewThema);\n        this.questionsView = this.cc({ type: \"editionitems.DataGroup\", data: data[1] });\n        this.addChild(this.infosView);\n        this.addChild(this.questionsView);\n        this.infosView.onchanged.dispatch({ target: this.infosView });\n        this.questionsView.onchanged.dispatch({ target: this.questionsView });\n        this.onchanged.dispatch({ target: this });\n    }\n    addInfos2() {\n        // let infos = this.addDataObject(this, \"infos\", showHeader=true);\n        // let questions = this.addDataGroup(this, \"questions\", showHeader=true);\n        let data = [\n            {\n                \"id\": \"infos\",\n                \"type\": \"DataObject\",\n                \"description\": \"\",\n                \"visible\": true,\n                \"children\": [\n                    {\n                        \"id\": \"thema\",\n                        \"title\": \"Thème\",\n                        \"type\": \"ComboBox\",\n                        \"editable\": true,\n                        \"description\": \"\",\n                        \"value\": this._infos.thema,\n                        \"options\": this._themaOptions\n                    },\n                ]\n            },\n            {\n                \"id\": \"questions\",\n                \"type\": \"DataGroup\",\n                \"description\": \"\",\n                \"visible\": true,\n                \"children\": []\n            }\n        ];\n        this.data.children = data;\n    }\n    get questionsContainer() {\n        if (this._questionContainer)\n            return this._questionContainer;\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.children[i].id == \"questions\") {\n                this._questionContainer = this.children[i];\n                return this._questionContainer;\n            }\n        }\n        return null;\n    }\n    addQuestion(infos) {\n        console.log(this.data);\n        let noQuestion = this.questionsNum + 1;\n        let data = {\n            \"id\": \"Q\" + noQuestion,\n            \"title\": \"<span class='qz-question'>Q\" + noQuestion + \"</span>\",\n            \"type\": \"DataGroup\",\n            \"description\": \"QUESTION \" + noQuestion,\n            \"visible\": true,\n            \"children\": []\n        };\n        this.questionsView.data.children.push(data);\n        let question = this.questionsView.cc({ type: \"editionitems.DataGroup\", data });\n        question.onchanged.add(() => {\n            this.questionsView.onchanged.dispatch({ target: this.questionsView });\n            // this.onchanged.dispatch({target: this});\n        });\n        question.no = noQuestion;\n        this.questionsView.addChild(question);\n        // this.questionsContainer.view.append(question.view);\n        this.questionsArr.push(question);\n        if (infos.questionText)\n            this.addText(question);\n        if (infos.questionImage)\n            this.addImage(question, this.id + \"/images/Q\" + question.no + \".png\");\n        if (infos.questionSound)\n            this.addSound(question, this.id + \"/sounds/Q\" + question.no + \".mp3\");\n        let responses = this.addDataGroup(question, \"responses\", false);\n        for (var i = 0; i < infos.responsesNum; i++) {\n            let response = this.addDataGroup(responses, \"Q\" + question.no + \"_R\" + (i + 1));\n            response.no = i + 1;\n            if (infos.responseText)\n                this.addText(response);\n            if (infos.responseImage)\n                this.addImage(response, this.id + \"/images/Q\" + question.no + \"_R\" + response.no + \".png\");\n            if (infos.responseSound)\n                this.addSound(response, this.id + \"/sounds/Q\" + question.no + \"_R\" + response.no + \".mp3\");\n        }\n        ;\n        this.questionsView.onchanged.dispatch({ target: this.questionsView });\n    }\n    addDataObject(parent, id, showHeader = true) {\n        let data = {\n            \"id\": id,\n            \"type\": \"DataObject\",\n            \"showHeader\": showHeader,\n            \"description\": \"\",\n            \"visible\": true,\n            \"children\": []\n        };\n        parent.data.children.push(data);\n        let item = parent.cc({ type: \"editionitems.DataGroup\", data });\n        parent.view.append(item.view);\n        return item;\n    }\n    addDataGroup(parent, id, showHeader = true) {\n        let data = {\n            \"id\": id,\n            \"type\": \"DataGroup\",\n            \"showHeader\": showHeader,\n            \"description\": \"\",\n            \"visible\": true,\n            \"children\": []\n        };\n        parent.data.children.push(data);\n        let item = parent.cc({ type: \"editionitems.DataGroup\", data });\n        parent.view.append(item.view);\n        return item;\n    }\n    addText(question) {\n        let data = {\n            \"id\": \"text\",\n            \"type\": \"Text\",\n            \"editable\": true,\n            \"description\": \"\",\n            \"value\": \"\",\n            \"visible\": true\n        };\n        let text = this.cc({ type: \"editionitems.Text\", data });\n        text.onchanged.add(() => {\n            this.questionsContainer.onchanged.dispatch({ target: this.questionsContainer });\n            //this.onchanged.dispatch({target: this});\n        });\n        question.data.children.push(data);\n        question.view.append(text.view);\n    }\n    addImage(question, src) {\n        let data = {\n            \"id\": \"image\",\n            \"type\": \"Image\",\n            \"editable\": true,\n            \"description\": \"\",\n            \"asset\": {\n                \"preload\": false,\n                \"src\": src\n            },\n            \"visible\": true\n        };\n        let text = this.cc({ type: \"editionitems.ImageItem\", controller: this.controller, data });\n        text.onchanged.add(() => {\n            this.questionsContainer.onchanged.dispatch({ target: this.questionsContainer });\n            //this.onchanged.dispatch({target: this});\n        });\n        question.data.children.push(data);\n        question.view.append(text.view);\n    }\n    addSound(question, src) {\n        let data = {\n            \"id\": \"sound\",\n            \"type\": \"Sound\",\n            \"editable\": true,\n            \"description\": \"\",\n            \"asset\": {\n                \"preload\": false,\n                \"src\": src\n            },\n            \"visible\": true\n        };\n        let text = this.cc({ type: \"editionitems.SoundItem\", controller: this.controller, data });\n        text.onchanged.add(() => {\n            this.questionsContainer.onchanged.dispatch({ target: this.questionsContainer });\n            //this.onchanged.dispatch({target: this});\n        });\n        question.data.children.push(data);\n        question.view.append(text.view);\n    }\n    addItem() {\n        console.log(this.data);\n        this.data.children = this.data.children || [];\n        let noQuestion = this.questionsNum;\n        let data = {\n            \"id\": \"q\" + noQuestion,\n            \"title\": \"Question\" + noQuestion,\n            \"type\": \"editionitems.Text\",\n            \"editable\": true,\n            \"description\": \"description.\",\n            \"value\": \"\",\n            \"visible\": true\n        };\n        this.data.children.push(data);\n        let text = this.cc({ type: data.type, data });\n        text.onchanged.add(() => {\n            this.questionsContainer.onchanged.dispatch({ target: this.questionsContainer });\n            //this.onchanged.dispatch({target: this});\n        });\n        this.childrenContainer.append(text.view);\n        this.onchanged.dispatch({ target: this });\n        //this.data.value.resourceID = \"yo\";\n    }\n    firstInit() {\n        if (this.children.length == 0)\n            this.addInfos();\n        if (!this.nameField) {\n            this.questionsView = this.findChildById(\"questions\");\n            this.infosView = this.findChildById(\"infos\");\n            console.log(this.infosView);\n            this.nameField = this.infosView.findChildById(\"name\");\n            this.nameField.onchanged.add(evt => {\n                if (this.nameField.value != this.data.title) {\n                    this.setTitle(this.nameField.value);\n                    this.infosView.onchanged.dispatch({ target: this.infosView });\n                    let editionPage = this.controller.mainController;\n                    let gabaritView = editionPage.gabaritView;\n                    editionPage.refreshEditionView();\n                    editionPage.showTab(this.id);\n                }\n            });\n        }\n    }\n    configure({ mess } = {}) {\n        console.log(\"configure\", this.children);\n        console.log(\"configure\", this.questionsArr);\n        console.log(\"configure this.questionsView\", this.questionsView);\n        this.firstInit();\n        console.log(\"this.infosView\", this.infosView, this.nameField);\n        //return;\n        let editionPage = this.controller.mainController;\n        let gabaritView = editionPage.gabaritView;\n        console.log(gabaritView.value);\n        let content = `\n        <form class=\"form-horizontal\">\n            <div id=\"mess\" class=\"alert alert-danger\" style=\"display:none\"></div>\n            <div class=\"form-group\">    \n            <label class=\"control-label col-sm-2\" for=\"clearAll\"></label>\n            <div class=\"col-sm-10  text-right\">\n                <button id=\"clearAll\" class=\"btn btn-danger\" type=\"button\">Vider ce quiz</button>\n            </div>\n           </div>\n\n            <div class=\"form-group\">    \n            <label class=\"control-label col-sm-2\" for=\"deleteQuiz\"></label>\n            <div class=\"col-sm-10  text-right\">\n                <button id=\"deleteQuiz\" class=\"btn btn-danger\" type=\"button\">Supprimer ce quiz</button>\n            </div>\n           </div>\n           <div class=\"form-group\">    \n                <label class=\"control-label col-sm-2\" for=\"quizName\">Nom du quiz</label>\n                <div class=\"col-sm-10\">\n                <input  id=\"quizName\" type=\"text\"  class=\"form-control\"  placeholder=\"Nom du quiz\" value=\"${this.data.title || \"\"}\"/>\n                </div>\n            </div>\n            <div class=\"form-group\">    \n                <label class=\"control-label col-sm-2\" for=\"quizThema\">Thème</label>\n                <div class=\"col-sm-10\">\n                    <select class=\"form-control\" id=\"quizThema\"/>\n                </div>\n            </div>\n            <div class=\"form-group\">    \n                <label class=\"control-label col-sm-2\" for=\"quizStyle\">Style</label>\n                <div class=\"col-sm-10\">\n                    <select class=\"form-control\" id=\"quizStyle\"/>\n                </div>\n            </div>\n            <div class=\"form-group\">    \n                <label class=\"control-label col-sm-2\" for=\"questionsNum\">Nombre de Questions</label>\n                <div class=\"col-sm-10\">\n                    <select class=\"form-control\" id=\"questionsNum\"/>\n                </div>\n            </div>\n           <div class=\"form-group\">    \n                <label class=\"control-label col-sm-2\" for=\"responsesNum\">Nombre de Réponses</label>\n                <div class=\"col-sm-10\">\n                    <select class=\"form-control\" id=\"responsesNum\"/>\n                </div>\n            </div>\n        </form>\n            `;\n        let popup = this.jx.editor.popup({ title: \"New Quiz\", content, width: 600, buttons: { ok: {}, no: {} }, onclose: evt => {\n                console.log(evt);\n                if (evt.action != \"ok\")\n                    return;\n                console.log($(popup).find(\"#quizName\")[0].value);\n                console.log($(popup).find(\"#quizThema\")[0].value);\n                console.log($(popup).find(\"#quizStyle\")[0].value);\n                // this.uniqTabID = Date.now();\n                // let idTab = \"QuizData_\" + this.uniqTabID;\n                let find = (id) => {\n                    return $(popup).find(\"#\" + id)[0];\n                };\n                this._changeQuiz({\n                    name: find(\"quizName\").value,\n                    thema: find(\"quizThema\").value,\n                    style: find(\"quizStyle\").value,\n                    questionsNum: find(\"questionsNum\").value,\n                    responsesNum: find(\"responsesNum\").value\n                });\n            } });\n        $(popup).find(\"#deleteQuiz\").on(\"click\", () => {\n            popup.modal('hide');\n            this.deleteQuiz();\n        });\n        $(popup).find(\"#clearAll\").on(\"click\", () => {\n            popup.modal('hide');\n            this.clearAll({ comfirm: true });\n        });\n        if (mess) {\n            $(popup).find(\"#mess\").html(mess);\n            $(popup).find(\"#mess\").css(\"display\", \"inline\");\n        }\n        ;\n        this._fillComboBox({ formEl: $(popup).find(\"#quizStyle\"), options: [\n                { id: \"q1\", desc: \"Q1: Question image + texte, Réponses texte\" },\n                { id: \"q2\", desc: \"Q2: Question texte, Réponses texte\", enabled: false }\n            ],\n            selected: this._infos.style\n        });\n        this._fillComboBox({ formEl: $(popup).find(\"#questionsNum\"), options: [\n                { id: 3 },\n                { id: 5 },\n                { id: 10 }\n            ],\n            selected: this._infos.questionsNum\n        });\n        this._fillComboBox({ formEl: $(popup).find(\"#responsesNum\"), options: [\n                { id: \"truefalse\", desc: \"Pictos Oui Non\" },\n                { id: 2 },\n                { id: 3 },\n                { id: 4 }\n            ],\n            selected: this._infos.responsesNum\n        });\n        this._fillComboBox({ formEl: $(popup).find(\"#quizThema\"), options: [\n                { id: \"ART_CULTURE\", desc: \"ART ET CULTURE\" },\n                { id: \"HISTOIRE\", desc: \"HISTOIRE\" },\n                { id: \"GEOGRAPHIE\", desc: \"GEOGRAPHIE\" },\n                { id: \"NATURE\", desc: \"NATURE\" },\n                { id: \"SCIENCES_TECHNIQUE\", desc: \"SCIENCES ET TECHNIQUE\" },\n                { id: \"SOCIETE\", desc: \"SOCIETE\" },\n                { id: \"LANGUE\", desc: \"LANGUE\" },\n                { id: \"SPORT\", desc: \"SPORT\" }\n            ],\n            selected: this._infos.thema\n        });\n    }\n    _changeQuiz({ name, thema, style, questionsNum, responsesNum }) {\n        console.log(\"infoquiz\", this._infos);\n        console.log(\"configure_changeQ\", this.questionsArr);\n        console.log(\"infoquiz2\", name, thema, style, questionsNum, responsesNum);\n        let recreateQuiz = false;\n        if (style != this._infos.style) {\n            this._infos.style = style;\n            recreateQuiz = true;\n        }\n        if (questionsNum != this._infos.questionsNum) {\n            this._infos.questionsNum = questionsNum;\n            recreateQuiz = true;\n        }\n        if (thema != this._infos.thema) {\n            this._infos.thema = thema;\n        }\n        if (style != this._infos.style) {\n            this._infos.style = style;\n        }\n        if (responsesNum != this._infos.responsesNum) {\n            this._infos.responsesNum = responsesNum;\n            recreateQuiz = true;\n        }\n        if (recreateQuiz) {\n            if (this._infos.questionsNum == undefined) {\n                this.configure({ mess: \"Indiquez le nombre de questions\" });\n            }\n            ;\n            if (this._infos.style == \"q1\") {\n                this._infos.questionText = true;\n                this._infos.questionImage = true;\n                this._infos.questionSound = false;\n                this._infos.responseText = true;\n                this._infos.responseImage = false;\n                this._infos.responseSound = false;\n            }\n            else {\n                this._infos.questionText = true;\n                this._infos.questionImage = true;\n                this._infos.questionSound = false;\n                this._infos.responseText = true;\n                this._infos.responseImage = false;\n                this._infos.responseSound = false;\n            }\n            this.jx.editor.confirm({ title: \"Création du Quiz\", content: \"Attention ! \\nCeci va supprimer les données existantes.\\n Voulez-vous continuer ?\", onclose: evt => {\n                    if (evt.action == \"ok\") {\n                        this.clearAll({ confirm: false });\n                        //this.addInfos();\n                        for (var i = 0; i < this._infos.questionsNum; i++) {\n                            this.addQuestion(this._infos);\n                        }\n                        this.questionsView.onchanged.dispatch({ target: this.questionsView });\n                        this.onchanged.dispatch({ target: this });\n                    }\n                    ;\n                    // if (name != this.data.title) {\n                    //     this.setTitle(name);\n                    //     this.questionsView.onchanged.dispatch({target: this.questionsView});\n                    //     // this.onchanged.dispatch({target: this});\n                    //     // let editionPage = this.controller.mainController;\n                    //     // let gabaritView = editionPage.gabaritView;\n                    //     // editionPage.refreshEditionView();  \n                    //     // editionPage.showTab(this.id);\n                    // }\n                    // let editionPage = this.controller.mainController;\n                    // let gabaritView = editionPage.gabaritView;\n                    // editionPage.refreshEditionView();  \n                    // editionPage.showTab(this.id);\n                    console.log(\"configure2\", this.questionsArr);\n                } });\n        }\n        ;\n    }\n    _fillComboBox({ formEl, options, selected }) {\n        for (var i = 0; i < options.length; i++) {\n            var opt = options[i];\n            var el = document.createElement(\"option\");\n            el.textContent = opt.desc || opt.id;\n            el.value = opt.id;\n            $(el).attr(\"selected\", selected ? (opt.id == selected) : (opt.id == options[0].value));\n            $(el).attr(\"disabled\", (opt.enabled == undefined ? false : !opt.enabled));\n            formEl.append(el);\n        }\n    }\n    deleteQuiz() {\n        this.jx.editor.confirm({ title: \"Suppression du Quiz\", content: \"Attention ! \\nCeci va supprimer définitivement ce Quiz.\\n Voulez-vous continuer ?\", onclose: evt => {\n                if (evt.action == \"ok\") {\n                    let editionPage = this.controller.mainController;\n                    editionPage.deleteTab(this.id);\n                }\n                ;\n            } });\n    }\n    set lock(value) {\n        // console.info(\"lock\",value, this.btnConfig.editable)\n        if (this.btnConfig)\n            this.btnConfig.lock = value;\n        // if(!value){\n        //     this.view.find(\"#value\").prop('disabled', !this.editable); \n        // }\n        // else {\n        //     this.view.find(\"#value\").prop('disabled', true)\n        // }\n    }\n}\n"]}