{"version":3,"sources":["../../../../src/jx/editor/editionitems/DataObject.js"],"names":["_template","sep","DataObject","dataObject","controller","commonLib","jx","view","$","html","descStr","data","description","trim","find","id","prop","preview","on","console","log","showItem","type","css","children","child","append","push","itemParent","remove","index","indexOf","splice","i","length","panelInfo","showInfo","hideInfo"],"mappings":"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","file":"DataObject.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nimport Common from \"jx/editor/editionitems/Common\";\nlet _template = `\n<div class=\"tab-pane\" id=\"ID\"> \n\n</div>\n`;\nlet sep = `\n<div>\n\t<hr>\n\t<span id=\"sepID\" class=\"text-left\"></span>\n\t<span title=\"\"  id=\"preview\" class=\"text-left  btn btn-default\"><span class=\"fa fa-eye\"></span></span>\n</div>\n`;\nexport default class DataObject extends VisualComponent {\n    constructor(dataObject) {\n        super(dataObject);\n        this.controller = this.dataObject.controller;\n        this.commonLib = new Common({ jx: this.jx });\n        this.view = $(_template);\n        this.view.html($(sep));\n        var descStr = ((this.data.description || \"\").trim() == \"\") ? \"\" : \"(\" + this.data.description + \")\";\n        this.view.find(\"#sepID\").html(\"<h4>\" + this.data.id + \" <small>\" + descStr + \"</small></h4>\");\n        this.view.prop(\"id\", this.data.id);\n        this.id = this.data.id;\n        if (this.data.preview == true) {\n            this.view.find(\"#preview\").on(\"click\", evt => {\n                console.log(\"click\", this);\n                this.controller.showItem({ type: this.data.type, id: this.data.id });\n            });\n        }\n        else {\n            this.view.find(\"#preview\").css(\"display\", \"none\");\n        }\n        this.children = [];\n    }\n    addChild(child) {\n        this.view.append(child.view);\n        this.children.push(child);\n        child.itemParent = this;\n    }\n    removeChild(child) {\n        child.view.remove();\n        child.itemParent = null;\n        let index = this.children.indexOf(child);\n        if (index != -1) {\n            this.children.splice(index, 1);\n        }\n    }\n    findChildById(id) {\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.children[i].id == id)\n                return this.children[i];\n        }\n        return null;\n    }\n    /** show/hide info panel of item */\n    showInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"inline\");\n    }\n    /** show/hide info panel of item */\n    hideInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"none\");\n    }\n    /** show/hide info panel of item */\n    toggleInfo() {\n        var panelInfo = this.view.find(\"#informationsPanel\");\n        if (panelInfo.css(\"display\") == \"none\") {\n            this.showInfo();\n        }\n        else {\n            this.hideInfo();\n        }\n    }\n}\n"]}