{"version":3,"sources":["../../../../src/jx/editor/editionitems/BasicItem.js"],"names":["_template","icoSymbol","backgroundColor","BasicItem","dataObject","Object","assign","icoTitle","actions","informations","editor","jx","id","data","controller","autoRefresh","view","$","timestamp","undefined","Date","now","prop","search","tools","replaceCharByNumber","index","css","find","html","description","replace","editable","getBoolDependsGroup","visible","title","_panelInfo","click","event","console","log","target","toggleInfo","item","value","panelInfo","showInfo","hideInfo","warn"],"mappings":"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","file":"BasicItem.js","sourcesContent":["import VisualComponent from \"jx/core/comps/VisualComponent\";\nlet _template = function ({ icoSymbol = \"gear\", backgroundColor = \"#FFFFFF\" }) {\n    return `\n<div class=\"form-group row\">\n    <div class=\"row\">\n     \n        <div class=\"col-xs-5\">\n            <div class=\"input-group\" style=\"width:100%\">\n                <span id=\"check\" class=\"input-group-addon\" style=\"width:40px; background-color: ${backgroundColor};\"><span class=\"fa fa-${icoSymbol}\"></span></span>\n                <input type=\"text\" tabindex=\"-1\" class=\"form-control\" style=\"background-color: ${backgroundColor};\" id=\"id\" readonly=\"true\" >\n                \n            </div>\n        </div>\n        <div class=\"col-xs-6\" id=\"content\">\n        </div>\n        <div class=\"col-xs-1\">\n            <button  tabindex=\"-1\" class=\"btn btn-default\" title=\"Informations\" id=\"info\"><span class=\"fa fa-info\"></span></button>\n        </div>\n    </div>\n    <div  id=\"informationsPanel\" class=\"row\"  style=\"display:none;\">\n        <div class=\"col-xs-12\" id=\"informationsText\">\n            <div class\"xinputtext\" id=\"description\" ></div>\n        </div>\n    </div>\n</div>\n`;\n};\nexport default class BasicItem extends VisualComponent {\n    constructor(dataObject) {\n        super(Object.assign({\n            icoTitle: \"Voir\",\n            icoSymbol: \"gear\",\n            actions: [],\n            informations: [],\n            backgroundColor: \"#efefef\"\n        }, dataObject));\n        this.editor = this.jx.editor;\n        this.id = this.data.id;\n        // console.log(dataObject, this.dataObject)\n        this.controller = this.dataObject.controller;\n        this.autoRefresh = this.dataObject.autoRefresh || false;\n        this.dataObject.backgroundColor = this.data.backgroundColor || this.dataObject.backgroundColor;\n        this.view = $(_template(this.dataObject));\n        this.data.timestamp = this.data.timestamp == undefined ? Date.now() : this.data.timestamp;\n        this.view.prop('id', (this.data.id.search(\"#\") != -1) ? this.jx.tools.replaceCharByNumber(this.data.id, this.data.index) : this.data.id);\n        this.view.css('margin-bottom', \"5px\");\n        this.view.find(\"#description\").html((this.data.description || \"\").replace(/\\n/g, \"<br>\"));\n        // this.view.find(\"#check\").addClass(\"fa fa-calendar\");\n        this.editable = this.jx.editor.getBoolDependsGroup(this.data.editable, true);\n        let visible = this.jx.editor.getBoolDependsGroup(this.data.visible, true);\n        this.view.css(\"display\", (visible ? \"block\" : \"none\"));\n        this.view.find(\"#id\").prop(\"value\", this.data.title || this.data.id);\n        this._panelInfo = this.view.find(\"#informationsPanel\");\n        this.view.find(\"#info\").click((event) => {\n            console.log(\"info\", event.target, this.view[0].id);\n            this.toggleInfo();\n        });\n        this.view.data(\"controller\", this);\n        this.item = this.view;\n    }\n    check() {\n        this.view.find(\"#check\").css(\"background-color\", \"#00ff00\");\n    }\n    _refreshData() {\n        this.data.value = this.value;\n    }\n    _refreshView() {\n        this.data.value = this.value;\n    }\n    get value() {\n        console.warn(\"not implemented in \" + (this));\n        return null;\n    }\n    /** show/hide info panel of item */\n    showInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"inline\");\n    }\n    /** show/hide info panel of item */\n    hideInfo() {\n        this.view.find(\"#informationsPanel\").css(\"display\", \"none\");\n    }\n    /** show/hide info panel of item */\n    toggleInfo() {\n        var panelInfo = this.view.find(\"#informationsPanel\");\n        if (panelInfo.css(\"display\") == \"none\") {\n            this.showInfo();\n        }\n        else {\n            this.hideInfo();\n        }\n    }\n    set lock(value) {\n        //throw \"not implemented in \" + (this);\n    }\n}\n"]}