{"version":3,"sources":["../../../../src/jx/core/loaders/JSONLoader.js"],"names":["JSONLoader","resource","onFinished","jx","success","$","getJSON","src","done","proxy","_jsonLoaded","fail","_jsonFailed","always","_always","data","ready","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAqBA,U;AACjB,4BAAYC,QAAZ,EAAsBC,UAAtB,EAAkCC,EAAlC,EAAsC;AAAA;;AAClC,iBAAKA,EAAL,GAAUA,EAAV;AACA,iBAAKF,QAAL,GAAgBA,QAAhB;AACA,iBAAKC,UAAL,GAAkBA,UAAlB;AACA,iBAAKE,OAAL,GAAe,KAAf;AACH;;;;mCACM;AACHC,kBAAEC,OAAF,CAAU,KAAKL,QAAL,CAAcM,GAAxB,EACKC,IADL,CACUH,EAAEI,KAAF,CAAQ,KAAKC,WAAb,EAA0B,IAA1B,CADV,EAEKC,IAFL,CAEUN,EAAEI,KAAF,CAAQ,KAAKG,WAAb,EAA0B,IAA1B,CAFV,EAGKC,MAHL,CAGYR,EAAEI,KAAF,CAAQ,KAAKK,OAAb,EAAsB,IAAtB,CAHZ;AAIH;;;mCACM;AACH,oBAAI,CAAC,KAAKX,EAAV,EACI;AACJ,qBAAKD,UAAL,GAAkB,IAAlB;AACA,qBAAKD,QAAL,GAAgB,IAAhB;AACA,qBAAKE,EAAL,GAAU,IAAV;AACH;;;wCACWY,I,EAAM;AACd,qBAAKd,QAAL,CAAcc,IAAd,GAAqBA,IAArB;AACA,qBAAKd,QAAL,CAAce,KAAd,GAAsB,IAAtB;AACA,oBAAI,KAAKd,UAAT,EACI,KAAKA,UAAL,CAAgB,EAAEe,QAAQ,IAAV,EAAgBhB,UAAU,KAAKA,QAA/B,EAAyCG,SAAS,IAAlD,EAAhB;AACP;;;0CACa;AACV,oBAAI,KAAKF,UAAT,EACI,KAAKA,UAAL,CAAgB,EAAEe,QAAQ,IAAV,EAAgBhB,UAAU,KAAKA,QAA/B,EAAyCG,SAAS,KAAlD,EAAhB;AACP;;;sCACS,CACT;;;;;;sBA/BgBJ,U","file":"JSONLoader.js","sourcesContent":["export default class JSONLoader {\n    constructor(resource, onFinished, jx) {\n        this.jx = jx;\n        this.resource = resource;\n        this.onFinished = onFinished;\n        this.success = false;\n    }\n    load() {\n        $.getJSON(this.resource.src)\n            .done($.proxy(this._jsonLoaded, this))\n            .fail($.proxy(this._jsonFailed, this))\n            .always($.proxy(this._always, this));\n    }\n    kill() {\n        if (!this.jx)\n            return;\n        this.onFinished = null;\n        this.resource = null;\n        this.jx = null;\n    }\n    _jsonLoaded(data) {\n        this.resource.data = data;\n        this.resource.ready = true;\n        if (this.onFinished)\n            this.onFinished({ target: this, resource: this.resource, success: true });\n    }\n    _jsonFailed() {\n        if (this.onFinished)\n            this.onFinished({ target: this, resource: this.resource, success: false });\n    }\n    _always() {\n    }\n}\n"]}