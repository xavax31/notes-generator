{"version":3,"sources":["../../../src/jx/projecttypes/ApplicationHTML5Base.js"],"names":["ApplicationHTML5Base","dataObject","console","log","_functionnalities","push","info","url","projectURL","projectJXData","testURL","json","id","gabarit","idArr","split","item","children","i","length","_getInGabarit","type","childrenG","onFinished","importer","importConfig","projectData","gabaritJSON","jx","tools","mergeObjectIn","projectInformations","project","engine","modules","target","exporter","exportConfig","rid","generateHTMLPage","name","title","jxVersion","destDir","debug","openURL","callback","editor","popup","content","buttons","ok","label","close","onclose","evt","action","updateInternJX","versionFramework","mode","pathFramework","pathFrameworkLibs","jxPath","host","callMethod","filename","result","mainCtrlSrc","db","addAndLoad","src","template","resourcesArr","data","pageIndex","replace","generatedURL","saveText","versionCodeApp","loadText","params","options","date","extExclude","fileExclude","dirExclude","treeOnly","merge","deleteSource","recursive","cloneDir","sourcePath","destPath","_generateHTMLPages","download","prefixZip","internPath","version","optionsJX","optionsLibs","paramsCloneProject","appData","popupContent","$","find","click","currentTarget","no","popup2","alert","closable","sendToTest","modal","buildProjectIntern","buildProjectLastReleaseJX","downloadFullProject"],"mappings":"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","file":"ApplicationHTML5Base.js","sourcesContent":["import ProjetManager from \"jx/projecttypes/ProjectManager\";\nexport default class ApplicationHTML5Base extends ProjetManager {\n    constructor(dataObject) {\n        super(dataObject);\n    }\n    _create() {\n        console.log(\"ApplicationHTML5Base create\");\n        super._create();\n        this._functionnalities.push(\"preview\", \"previewDebug\");\n        this.info.url = this.dataObject.url;\n        this.info.projectURL = this.dataObject.url; // don't use\n        this.info.projectJXData = this.dataObject.projectJXData; // don't use\n        this.testURL = \"/builds\" + this.info.url;\n    }\n    getJSON() {\n        return this.json;\n    }\n    /** */\n    getInGabarit({ id, gabarit = this.info.gabarit }) {\n        console.log(id);\n        console.log(gabarit);\n        var idArr = id.split(\".\");\n        var item;\n        var children = gabarit;\n        for (var i = 0; i < idArr.length; i++) {\n            item = this._getInGabarit({ id: idArr[i], gabarit: children });\n            if (item.children) {\n                children = item.children;\n            }\n        }\n        ;\n        return item;\n    }\n    /** */\n    _getInGabarit({ id, gabarit = this.info.gabarit }) {\n        console.log(id);\n        console.log(gabarit);\n        var idArr = id.split(\".\");\n        for (var i = 0; i < idArr.length; i++) {\n            idArr[i];\n        }\n        ;\n        for (var i = 0; i < gabarit.length; i++) {\n            console.log(gabarit[i].id);\n            if (gabarit[i].id == id) {\n                console.log(\"FOUND\");\n                return gabarit[i];\n            }\n            else if (gabarit[i].type == \"Group\") {\n                console.log(\"Group\", gabarit[i].id);\n                var childrenG = this._getInGabarit({ id: id, gabarit: gabarit[i].children });\n                if (childrenG != null) {\n                    return this._getInGabarit({ id: id, gabarit: gabarit[i].children });\n                }\n                ;\n            }\n        }\n        ;\n        return null;\n    }\n    load(onFinished) {\n        this.importer.importConfig(projectData => {\n            console.log(\"config imported\", this);\n            this.json = projectData.gabaritJSON;\n            this.jx.tools.mergeObjectIn(this.info, projectData.projectInformations.project);\n            this.info.engine = projectData.projectInformations.engine;\n            this.info.gabarit = projectData.modules[0].gabarit;\n            onFinished({ target: this });\n        });\n    }\n    save(onFinished) {\n        this.exporter.exportConfig(onFinished);\n        //this.adaptIndexHTMLPage(this.info);\n    }\n    /** Show preview of project */\n    preview(rid = null) {\n        console.log(this);\n        this.generateHTMLPage({\n            name: \"index\", title: this.info.id,\n            jxVersion: \"intern\", destDir: this.info.url + \"/public\", debug: false\n        }, evt => {\n            this.jx.tools.openURL(this.info.url + \"/public\" + (rid ? \"/?rid=\" + rid : \"\"), rid || this.info.id);\n        });\n    }\n    /** Show preview of project */\n    previewDebug(rid = null) {\n        this.generateHTMLPage({\n            name: \"index_debug\", title: this.info.id + \"_DEBUG\",\n            jxVersion: \"intern\", destDir: this.info.url + \"/public\", debug: true\n        }, evt => {\n            this.jx.tools.openURL(this.info.url + \"/public/?debug=true\" + (rid ? \"/&rid=\" + rid : \"\"), rid || this.info.id);\n        });\n    }\n    /** Show preview of project */\n    previewDev(rid = null) {\n        this.generateHTMLPage({\n            name: \"index_dev\", title: this.info.id + \"_DEV\",\n            jxVersion: \"last_release\", destDir: this.info.url + \"/public\", debug: true\n        }, evt => {\n            this.jx.tools.openURL(this.info.url + \"/public/index_dev.html?debug=true\" + (rid ? \"&rid=\" + rid : \"\"), rid || this.info.id);\n        });\n    }\n    updateInternJXDialog(callback = evt => { }) {\n        this.jx.editor.popup({\n            title: \"Update Jx version of this project\",\n            content: \"This will replace intern version of jx with the last release. This is irreversible. Make sure to test and validate this update before by using preview dev button<br>\",\n            buttons: {\n                ok: { label: \"Run\" },\n                close: { label: \"Close\" }\n            },\n            onclose: evt => {\n                if (evt.action == \"ok\") {\n                    this.updateInternJX(evt => {\n                        this.jx.editor.popup({ title: \"Message\", content: \"JX version updated\", onclose: callback });\n                    });\n                }\n            }\n        });\n    }\n    updateInternJX(callback = evt => { }) {\n        console.log(\"updateInternJX\");\n        var versionFramework = \"last_release\"; //this.info.engine[\"jxVersion\"];\n        var mode = versionFramework.split(\":\")[0];\n        var pathFramework;\n        var pathFrameworkLibs;\n        var jxPath;\n        switch (mode) {\n            case \"intern\":\n                pathFrameworkLibs = \"js/lib\";\n                jxPath = \"js/jx\";\n                break;\n            case \"last_release\":\n                pathFramework = \"/dev/mp-framework/current\";\n                pathFrameworkLibs = \"/dev/mp-framework/current/lib\";\n                jxPath = \"/dev/mp-framework/current/engine/build/jx\";\n                break;\n            case \"last_dev\":\n                pathFrameworkLibs = \"/dev/mp-framework/develop/lib\";\n                jxPath = \"/dev/mp-framework/develop/engine/build/jx\";\n                break;\n        }\n        this.jx.editor.host.callMethod(\"updateInternJX\", { filename: this.info.url, pathFramework: pathFramework }, (result) => {\n            console.log(\"updateInternJX OK\", result);\n            callback(result);\n        });\n    }\n    generateHTMLPage({ name = \"page\", title = \"App\", destDir = null, jxVersion = \"intern\", debug = false }, callback = evt => { }) {\n        var pathFrameworkLibs, jxPath, mode;\n        console.log(\"adaptIndexHTMLPage\", jxVersion);\n        switch (jxVersion) {\n            case \"intern\":\n                mode = \"prod\";\n                pathFrameworkLibs = \"js/lib\";\n                jxPath = \"jx\";\n                break;\n            case \"last_release\":\n                mode = \"dev\";\n                pathFrameworkLibs = \"/dev/mp-framework/current/lib\";\n                jxPath = \"/dev/mp-framework/current/engine/build/jx\";\n                break;\n            case \"last_dev\":\n                mode = \"dev\";\n                pathFrameworkLibs = \"/dev/mp-framework/develop/lib\";\n                jxPath = \"/dev/mp-framework/develop/engine/build/jx\";\n                break;\n        }\n        var mainCtrlSrc = \"js/src/index.js\";\n        this.jx.db.addAndLoad({ id: \"ApplicationHTML5_template\", type: \"Text\", src: this.info.url + \"/public/index_template.html\" }, result => {\n            console.log(this.jx.db.log());\n            var template = result.resourcesArr[0];\n            if (!template.data) {\n                console.log(\"no index_template found\");\n                callback({ url: null });\n                return;\n            }\n            ;\n            var pageIndex = template.data.replace(/\\$\\{pathFrameworkLibs\\}/g, pathFrameworkLibs)\n                .replace(/\\$\\{jxPath\\}/g, jxPath)\n                .replace(/\\$\\{mainCtrlSrc\\}/g, mainCtrlSrc)\n                .replace(/\\$\\{mode\\}/g, mode)\n                .replace(/\\$\\{debug\\}/g, debug)\n                .replace(/\\$\\{title\\}/g, title);\n            console.log(pageIndex);\n            var generatedURL = (destDir ? destDir + \"/\" : this.info.url + \"/public/\") + name + \".html\";\n            this.jx.db.saveText(generatedURL, pageIndex, evt => {\n                console.log(evt);\n                callback({ url: generatedURL });\n            });\n        });\n        // this.jx.db.loadText( this.info.url + \"/public/index_template.html\", evt=>{\n        // \t//console.log(evt)\n        // \tvar pageIndex = evt.replace(/\\$\\{pathFrameworkLibs\\}/g, pathFrameworkLibs)\n        // \t\t.replace(/\\$\\{jxPath\\}/g, jxPath)\n        // \t\t.replace(/\\$\\{mainCtrlSrc\\}/g, mainCtrlSrc)\n        // \t\t.replace(/\\$\\{mode\\}/g, mode)\n        // \t\t.replace(/\\$\\{debug\\}/g, debug)\n        // \t\t.replace(/\\$\\{title\\}/g, title)\n        // \tconsole.log(pageIndex);\n        // \tvar generatedURL = (destDir ? destDir + \"/\" : this.info.url + \"/public/\") + name + \".html\";\n        // \tthis.jx.db.saveText( generatedURL, pageIndex, evt=>{\n        // \t\tconsole.log(evt);\n        // \t\tcallback({url: generatedURL});\t\t\t\t\n        // \t} )\n        // } )\n    }\n    adaptIndexHTMLPage() {\n        var versionFramework = this.info.engine[\"jxVersion\"];\n        var mode = versionFramework.split(\":\")[0];\n        var pathFrameworkLibs;\n        var jxPath;\n        console.log(\"adaptIndexHTMLPage\", mode);\n        switch (mode) {\n            case \"intern\":\n                pathFrameworkLibs = \"js/lib\";\n                jxPath = \"jx\";\n                break;\n            case \"last_release\":\n                pathFrameworkLibs = \"/dev/mp-framework/current/lib\";\n                jxPath = \"/dev/mp-framework/current/engine/build/jx\";\n                break;\n            case \"last_dev\":\n                pathFrameworkLibs = \"/dev/mp-framework/develop/lib\";\n                jxPath = \"/dev/mp-framework/develop/engine/build/jx\";\n                break;\n        }\n        var versionCodeApp = this.info[\"appCodeVersion\"];\n        var mode = versionCodeApp.split(\":\")[0];\n        var mainCtrlSrc;\n        //console.log(mode)\n        switch (mode) {\n            case \"intern\":\n                mainCtrlSrc = \"js/src/index.js\";\n                break;\n            case \"last_release\":\n                mainCtrlSrc = \"/archives/milan-presse/moteurs/mini-quiz/master/public/src/index.js\";\n                break;\n            case \"last_dev\":\n                mainCtrlSrc = \"/archives/milan-presse/moteurs/mini-quiz/develop/public/src/index.js\";\n                break;\n        }\n        this.jx.db.loadText(this.info.url + \"/public/index_template.html\", evt => {\n            //console.log(evt)\n            var pageIndex = evt.replace(/\\$\\{pathFrameworkLibs\\}/g, pathFrameworkLibs)\n                .replace(/\\$\\{jxPath\\}/g, jxPath)\n                .replace(/\\$\\{mainCtrlSrc\\}/g, mainCtrlSrc);\n            console.log(pageIndex);\n            this.jx.db.saveText(this.info.url + \"/public/index.html\", pageIndex, evt => {\n                console.log(evt);\n            });\n        });\n    }\n    _generateHTMLPages({ destDir = null, jxVersion = \"intern\" }, callback = evt => { }) {\n        this.generateHTMLPage({ name: \"index\", title: this.info.id, jxVersion: jxVersion, destDir: destDir, debug: false }, evt => {\n            this.generateHTMLPage({ name: \"index_debug\", title: this.info.id + \"_DEBUG\", jxVersion: jxVersion, destDir: destDir, debug: true }, evt => callback());\n        });\n    }\n    /** */\n    sendToTest(params = null, callback = evt => { }) {\n        console.log(\"sendToTest\");\n        var options = {\n            date: true,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url + \"/public\",\n            destPath: this.testURL,\n            options: options\n        }, result => {\n            console.log(\"buildProject OK\", result);\n            this._generateHTMLPages({ destDir: result.destPath, jxVersion: \"intern\" }, evt => callback());\n        });\n    }\n    downloadTest() {\n        this.jx.editor.download({ url: this.testURL, prefixZip: this.info.id + \"_TEST\", internPath: this.info.id, date: true });\n    }\n    // downloadFullProject(){\n    // \tthis.jx.editor.download({url: this.info.url, prefixZip: this.info.id + \"_FULL\", date: true});\n    // }\n    previewTest() {\n        this.jx.tools.openURL(this.testURL, \"TEST_\" + this.info.id);\n    }\n    /** */\n    downloadFullProject(params = null, callback = evt => { }) {\n        console.log(\"buildProjectIntern\");\n        var options = {\n            date: false,\n            extExclude: [],\n            fileExclude: [],\n            dirExclude: [\"\\.git\"],\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url,\n            destPath: \"$temp\" + this.info.url,\n            options: options\n        }, (result) => {\n            console.log(\"cloneFullProject OK\", result);\n            this.jx.editor.download({ url: result.destPath, prefixZip: this.info.id + \"_\" + this.info.version + \"_FULL\", internPath: this.info.id, date: true });\n            callback(result);\n        });\n    }\n    /** */\n    buildProjectIntern(params = null, callback = evt => { }) {\n        console.log(\"buildProjectIntern\");\n        var options = {\n            date: true,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^index_\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url + \"/public\",\n            destPath: \"$temp\" + this.info.url,\n            options: options\n        }, (result) => {\n            //console.log(\"buildProject OK\", result);\n            this._generateHTMLPages({ destDir: result.destPath, jxVersion: \"intern\" }, evt => {\n                this.jx.editor.download({ url: result.destPath, prefixZip: this.info.id + \"_v\" + this.info.version, internPath: this.info.id, date: true });\n                callback(result);\n            });\n        });\n    }\n    /** */\n    buildProjectLastReleaseJX(params = null, callback = evt => { }) {\n        console.log(\"buildProjectLastReleaseJX\");\n        var options = {\n            date: true,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^index_\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        var optionsJX = {\n            date: false,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^index_\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            treeOnly: false,\n            merge: true,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        var optionsLibs = {\n            date: false,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^index_\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            treeOnly: false,\n            merge: true,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url + \"/public\",\n            destPath: \"$temp\" + this.info.url,\n            options: options\n        }, (result) => {\n            var destPath = result.destPath;\n            this.jx.editor.cloneDir({\n                sourcePath: \"$bobaLastRelease/engine/build\",\n                destPath: destPath + \"/js\",\n                options: optionsJX\n            }, (result) => {\n                this.jx.editor.cloneDir({\n                    sourcePath: \"$bobaLastRelease/lib\",\n                    destPath: destPath + \"/js/lib\",\n                    options: optionsLibs\n                }, (result) => {\n                    console.log(\"buildProject OK\", result);\n                    this._generateHTMLPages({ destDir: destPath, jxVersion: \"intern\" }, evt => {\n                        this.jx.editor.download({ url: destPath, prefixZip: this.info.id + \"_v\" + this.info.version + \"_LAST_JX\", internPath: this.info.id, date: true });\n                        callback(result);\n                    });\n                });\n            });\n        });\n    }\n    /** */\n    buildProject2(params, callback) {\n        console.log(\"buildProject\");\n        var paramsCloneProject = {\n            date: true,\n            extExclude: [\"sublime-project\", \"sublime-workspace\", \"fla\", \"mov\", \"as\", \"rtf\", \"zip\", \"as2proj\", \"pdf\", \"psd\", \"txt\", \"bat\", \"rar\", \"dmg\", \"md\"],\n            fileExclude: [\"publish.js\", \"_panel.html\", \"^index_\", \"^.*_old\", \"^.*_temp\"],\n            dirExclude: [\"^xfl$\", \"^doc$\", \"_sources_medias\", \"\\.git\", \"^Typos$\", \"^.*_old$\", \"^.*_temp$\"],\n            // fichier_reg_exclude: [ ],    // exclude files for wich name matches these regular expressions\n            // dossier_reg_exclude: [],     // exclude directories for wich name matches these regular expressions\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url,\n            destPath: \"$temp\" + this.info.url,\n            options: paramsCloneProject\n        }, (result) => {\n            console.log(\"buildProject OK\", result);\n            this.jx.editor.download({ url: result.destPath, prefixZip: this.info.id, internPath: this.info.id, date: true });\n            callback(result);\n        });\n    }\n    /** */\n    copyProject(params, callback) {\n        console.log(\"buildProject\");\n        var options = {\n            date: true,\n            extExclude: [],\n            fileExclude: [],\n            dirExclude: [],\n            // fichier_reg_exclude: [ ],    // exclude files for wich name matches these regular expressions\n            // dossier_reg_exclude: [],     // exclude directories for wich name matches these regular expressions\n            treeOnly: false,\n            merge: false,\n            deleteSource: false,\n            recursive: 10000 // level of recursivity in directories\n        };\n        this.jx.editor.cloneDir({\n            sourcePath: this.info.url,\n            destPath: \"$temp\" + this.info.url,\n            options: options\n        }, (result) => {\n            console.log(\"buildProject OK\", result);\n            callback(result);\n        });\n    }\n    /** Export project */\n    exportDial(appData) {\n        let popupContent = `\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t\t<h4>Envoi en Test</h4>\n\t\t\t\t\t\t<div style=\"font-size:14px\">Envoie une publication du projet actuel en Test, visualisable pendant que l'on continue à modifier le projet</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t    \t\t<button type=\"button\" class=\"btn btn-default label-info btn-lg\" title=\"Envoyer en Test\" id=\"sendToTest\"><span class=\"fa fa-share-square-o\"></span></button>\n\t\t\t    \t\t<button type=\"button\" class=\"btn btn-default\" title=\"Visualiser la version actuellement en Test\" id=\"previewTest\"><span class=\"fa fa-eye\"></span></button>\n\t\t\t    \t\t<button type=\"button\" class=\"btn btn-default\" title=\"Télécharger la version actuellement en Test\" id=\"downloadTest\"><span class=\"fa fa-download\"></span></button>\n\t\t\t    \t<div>\n\t\t\t    </div>\n\n\t\t\t    <hr>\n\t\t\t    \n\t\t\t    <div class=\"row\">\n\t\t\t    \t<div class=\"col-xs-12\">\n\t\t\t    \t\t<h4>Exporter le projet actuel</h4>\n\t\t\t    \t</div>\n\t\t\t    </div>\n\n\n\t\t\t    <div class=\"row\">\n\t\t\t    \t<div class=\"col-xs-12\">\n\t\t\t    \t\t<button type=\"button\" class=\"btn btn-default label-success\" style=\"width:100%; text-align: left\" title=\"Télécharger une publication du projet\" id=\"buildProjectIntern\"><span class=\"fa fa-download\"></span> Publication du projet</button>\n\n\t\t\t    \t</div>\n\t\t\t    </div>\n\n\t\t\t    <hr>\n\t\t\t    <div class=\"row\">\n\t\t\t    \t<div class=\"col-xs-12\">\n\t\t\t    \t\t<button type=\"button\" class=\"btn btn-default\" style=\"width:100%; text-align: left\" title=\"Télécharger tout le dossier du projet\" id=\"downloadFullProject\"><span class=\"fa fa-download\"></span> Tout le dossier du projet</button>\n\n\t\t\t    \t</div>\n\t\t\t    </div>\n\n\t\t`;\n        var popup = this.jx.editor.popup({ title: \"Exporter le projet\", content: popupContent, buttons: {}, onclose: evt => { } });\n        $(popup).find(\".btn\").click((evt) => {\n            var action = evt.currentTarget.id;\n            switch (action) {\n                case \"sendToTest\":\n                    this.jx.editor.popup({ title: \"Comfirmation de l'envoi en Test\",\n                        content: \"Attention, cette action va remplacer la version actuellement en Test par la version du projet en cours.\\n Etes-vous sûr ?\",\n                        buttons: {\n                            ok: { label: \"Oui\" },\n                            no: { label: \"Non\" }\n                        },\n                        onclose: evt => {\n                            if (evt.action == \"ok\") {\n                                var popup2 = this.jx.editor.alert({ title: \"Opération en cours\", content: \"Veuillez patienter svp...\", closable: false });\n                                this.sendToTest(null, evt => {\n                                    popup2.modal('hide');\n                                });\n                            }\n                        }\n                    });\n                    break;\n                case \"buildProjectIntern\":\n                    var popup2 = this.jx.editor.alert({ title: \"Opération en cours\", content: \"Veuillez patienter svp...\", closable: false });\n                    this.buildProjectIntern(null, evt => {\n                        popup2.modal('hide');\n                    });\n                    break;\n                case \"buildProjectLastReleaseJX\":\n                    var popup2 = this.jx.editor.alert({ title: \"Opération en cours\", content: \"Veuillez patienter svp...\", closable: false });\n                    this.buildProjectLastReleaseJX(null, evt => {\n                        popup2.modal('hide');\n                    });\n                    break;\n                case \"downloadFullProject\":\n                    var popup2 = this.jx.editor.alert({ title: \"Opération en cours\", content: \"Veuillez patienter svp...\", closable: false });\n                    this.downloadFullProject(null, evt => {\n                        popup2.modal('hide');\n                    });\n                    break;\n                default:\n                    if (this[action])\n                        this[action](null, evt => { });\n            }\n        });\n        // popup.modal('hide') // close popup\n    }\n}\n"]}