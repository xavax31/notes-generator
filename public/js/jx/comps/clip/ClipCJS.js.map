{"version":3,"sources":["../../../../src/jx/comps/clip/ClipCJS.js"],"names":["ClipCJS","dataObject","Object","assign","symbolID","view","x","y","anchorX","regX","anchorY","regY","rotation","bounds","frameBounds","shape","createjs","Shape","graphics","beginFill","drawRect","addChild","setBounds","getBounds","width","height","scaleX","scaleY","alpha","undefined","visible","_ready","spritesheet","res","jx","db","findOne","id","data","images","frames","animations","Sprite","SpriteSheet","resourceID","resource","type","syserror","_killed","removeAllChildren","stop","callback","target","toLowerCase","lib","getFromSymbol","stage","update","r1","libProperties","ratioWidth","getAs","clip","framerate","loops","optimised","include","exclude","toFreeze","onInitialised","syslog","flashLibProperties","params","_jxAddons","ccid","tools","instanceType","getClass","cc","path","start","end","parent","sort","pathArr","split","children","result","getClipByInterval","getClipByPath","a","b","name","results","i","str","replaceChar","string","index","no","push","length","clips","cjs","getChildrenByName","k","_jxClip","shift","join","regExp","RegExp","search","concat","findClipRec","func","forEachMovieClipRec","child","addChildAt","removeChild","setChildIndex","getChildIndex","getChildAt","c","d","pattern","getMCChildByPath","syswarn","mc","_playOnceListener","timeline","off","args","gotoAndStop","gotoAndPlay","play","labels","label","labelObj","position","onfinished","onframechange","loop","_oldFrame","curentFrame","on","currentFrame","frame","evt","totalFrames","_overdubEvents","labelFounded","currentLabelIndex","_dispatchEvent","text","Clip","arrangeFlashClipsNames","_labelAnalyser","check","event","Error","arg0","tickEnabled","cache","uncache","console","warn","mouseChildren","value","currentLabel"],"mappings":"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","file":"ClipCJS.js","sourcesContent":["import VisualComponentCJS from \"jx/comps/visualcomponent/VisualComponentCJS\";\nexport default class ClipCJS extends VisualComponentCJS {\n    constructor(dataObject) {\n        super(Object.assign({\n            symbolID: \"$main\"\n        }, dataObject));\n    }\n    _create() {\n        super._create();\n        // this.getMC = (path, parent)=>this.getMCChildByPath(path, parent); // shortcut\n        if (this.view) {\n            let view = this.view;\n            this.dataObject.x = view.x;\n            this.dataObject.y = view.y;\n            this.dataObject.anchorX = view.regX;\n            this.dataObject.anchorY = view.regY;\n            this.dataObject.rotation = view.rotation;\n            let bounds;\n            if (view.frameBounds && view.frameBounds[0] === null) { //--- hack to accept empty movieclips\n                let shape = new createjs.Shape();\n                shape.graphics.beginFill(\"#000000\").drawRect(0, 0, 1, 1);\n                view.addChild(shape);\n                view.setBounds(0, 0, 1, 1);\n            }\n            bounds = view.getBounds() || view[\"nominalBounds\"] || { x: 0, y: 0, width: 0, height: 0 };\n            this.dataObject.width = (bounds.width || 0) * view.scaleX;\n            this.dataObject.height = (bounds.height || 0) * view.scaleY;\n            this.dataObject.alpha = this.dataObject.alpha == undefined ? view.alpha : this.dataObject.alpha;\n            this.dataObject.visible = this.dataObject.visible == undefined ? view.visible : this.dataObject.visible;\n            view[\"_jxClip\"] = this;\n            this._ready = true;\n        }\n        else if (this.dataObject.spritesheet) {\n            let res = this.jx.db.findOne({ id: this.dataObject.spritesheet }).data;\n            let data = {\n                images: res.images,\n                frames: res.frames,\n                animations: res.animations\n            };\n            this.view = new createjs.Sprite(new createjs.SpriteSheet(data));\n            this.dataObject.x = this.view.x;\n            this.dataObject.y = this.view.y;\n            this.dataObject.anchorX = this.view.regX;\n            this.dataObject.anchorY = this.view.regY;\n            this.dataObject.rotation = this.view.rotation;\n            var bounds = this.view.getBounds() || this.view[\"nominalBounds\"];\n            this.dataObject.width = bounds.width * this.view.scaleX;\n            this.dataObject.height = bounds.height * this.view.scaleY;\n            this.dataObject.visible = this.dataObject.visible == undefined ? this.view.visible : this.dataObject.visible;\n            this.view[\"_jxClip\"] = this;\n            this._ready = true;\n        }\n        // if resourceID provided\n        // /!\\ there's confusion here. If cc({rid: \"FLASHPATH.CONFIG\", ...}) is called, the cc\n        // method automatically replaces this.dataObject.resourceID by the resourceID property \n        // of the resource FLASHPATH.CONFIG returned by jx.db.findOne({id: \"FLASHPATH.CONFIG\"}).data\n        else if (this.dataObject.resourceID) {\n            var resource = this.jx.db.findOne({ id: this.dataObject.resourceID });\n            if (resource.type == \"flashtml\") {\n                this.dataObject.visible = this.dataObject.visible == undefined ? true : this.dataObject.visible;\n                this._ready = false;\n                return;\n            }\n            ;\n        }\n        else {\n            this.jx.syserror(`ClipCJS '${this.id}' can not be created.\n                Reasons could be:\n                - none of view, resourceID or spritesheet arguments exists (one of them must be provided).\n                - If view provided, check mc's name in fla is correct.`);\n        }\n    }\n    kill() {\n        if (this._killed)\n            return;\n        //this.jx.sysinfo(\"kill\", this.id, this);\n        if (this.view) {\n            this.removeAllChildren();\n            this.stop();\n        }\n        ;\n        super.kill();\n    }\n    init(callback) {\n        //this.jx.syslog(\"_init\", this);\n        super.init(evt => {\n            if (this._ready) {\n                callback({ target: this });\n            }\n            ;\n            // if resourceID provided\n            if (this.dataObject.resourceID) {\n                var resource = this.jx.db.findOne({ id: this.dataObject.resourceID });\n                if (resource.type.toLowerCase() == \"flashtml\") {\n                    var lib = resource.data;\n                    this.view = lib.getFromSymbol(this.dataObject.symbolID);\n                    if (this.dataObject.stage) {\n                        this.view.visible = false;\n                        this.dataObject.stage.addChild(this);\n                        this.dataObject.stage.update();\n                        var r1 = this.width / lib.libProperties.width;\n                        this.ratioWidth = this.dataObject.stage.width * r1;\n                    }\n                    lib.getAs({\n                        clip: this.view,\n                        // stage: this.dataObject.stage,\n                        framerate: this.dataObject.framerate,\n                        loops: this.dataObject.loops,\n                        optimised: this.dataObject.optimised,\n                        include: this.dataObject.include || null,\n                        exclude: this.dataObject.exclude || [],\n                        toFreeze: this.dataObject.toFreeze || [],\n                        onInitialised: evt => {\n                            this.jx.syslog(\"clip initialised\", this.view);\n                            this._ready = true;\n                            this.view.visible = this.dataObject.visible;\n                            this.view[\"_jxClip\"] = this;\n                            this.flashLibProperties = lib.libProperties;\n                            callback({ target: this });\n                        }\n                    });\n                }\n                ;\n            }\n        });\n    }\n    initAs(params) {\n        if (!this._jxAddons)\n            this.ccid({ id: \"_jxAddons\" });\n        if (typeof params == \"function\") {\n            params(this);\n        }\n        else {\n            let dataObject = Object.assign({ clip: this }, params);\n            dataObject.type = this.jx.tools.instanceType(params.type) == \"string\" ? this.jx.db.getClass(\"comps/clipinitas/\" + params.type) : params.type;\n            this._jxAddons.cc(dataObject);\n        }\n        return this;\n    }\n    /**\n     */\n    get name() {\n        return (this.view) ? this.view.name : null;\n    }\n    /**\n     * Search movieclips that match with 'path', 'start', 'end' and return the ClipCJS instances already linked to movieclips.\n     * If none Clip is linked, a new one is created and returned.\n     * @param  {[type]}  options.path   path with dots and #\n     * @param  {[type]}  options.start  [description]\n     * @param  {[type]}  options.end    [description]\n     * @param  {[type]}  options.parent [description]\n     * @param  {Boolean} options.sort   false, asc\n     * @return {[type]}                 [description]\n     */\n    getClip({ path, start, end, parent = null, sort = false }) {\n        if (!path)\n            return null;\n        let pathArr = path.split(\".\");\n        let children = (parent == null) ? this.view.children : parent.children;\n        let result;\n        if (start != null && end != null) {\n            result = this.getClipByInterval({ path, start, end });\n        }\n        else {\n            result = this.getClipByPath({ path, parent });\n        }\n        // @ts-ignore\n        return sort == \"asc\" ? result.sort((a, b) => { return a.name > b.name ? 1 : a.name < b.name ? -1 : 0; }) : result;\n    }\n    getClipByInterval({ path, start, end }) {\n        if (!path)\n            return null;\n        let results = [];\n        for (var i = start; i <= end; i++) {\n            let name = this.jx.tools.str.replaceChar({ string: path, index: i });\n            let clip = this.getClipByPath({ path: name })[0];\n            clip.no = i;\n            results.push(clip);\n        }\n        ;\n        return results;\n    }\n    getClipByPath({ path, parent = null }) {\n        if (!path)\n            return null;\n        var pathArr = path.split(\".\");\n        parent = parent || this.view;\n        let children = parent.children;\n        let results = [];\n        for (var i = 0; i < children.length; i++) {\n            //this.jx.syslog(\"childname\", children[i].name, pathArr[0])\n            let clips = this.jx.tools.cjs.getChildrenByName(parent, pathArr[0]);\n            if (pathArr.length == 1) {\n                for (var k = 0; k < clips.length; k++) {\n                    clips[k] = clips[k]._jxClip || this.cc({ type: \"Clip\", view: clips[k] });\n                }\n                return clips;\n            }\n            else {\n                pathArr.shift();\n                return this.getClipByPath({ path: pathArr.join(\".\"), parent: clips[0] });\n            }\n        }\n        ;\n    }\n    /**\n     * search all clips which match id regular expression\n     * @param  {string} options.id\n     * @return {Clip[]}\n     */\n    findClipRec({ id, parent = null }) {\n        if (!id)\n            return null;\n        let regExp = new RegExp(id, \"g\");\n        parent = parent || this.view;\n        let children = parent.children;\n        let results = [];\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name && children[i].name.search(regExp) !== -1) {\n                results.push(children[i]._jxClip || this.cc({ type: \"Clip\", view: children[i] }));\n            }\n            if (children[i].children) {\n                results = results.concat(this.findClipRec({ id, parent: children[i] }));\n            }\n        }\n        return results;\n    }\n    forEachMovieClipRec({ func, parent = null }) {\n        parent = parent || this.view;\n        let children = parent.children;\n        for (var i = 0; i < children.length; i++) {\n            // if (children[i]._jxClip) {\n            func(children[i], parent);\n            // };\n            if (children[i].children) {\n                this.forEachMovieClipRec({ func, parent: children[i] });\n            }\n        }\n    }\n    /**\n     */\n    get mousechildren() {\n        console.warn(\"mousechildren deprecated, use mouseChildren instead\");\n        return this.view.mouseChildren;\n    }\n    /**\n     */\n    get mouseChildren() {\n        return this.view.mouseChildren;\n    }\n    /**\n     */\n    set mouseChildren(value) {\n        this.view.mouseChildren = value;\n    }\n    /**\n     */\n    addChild(child) {\n        this.view.addChild(child.view);\n        child.parent = this;\n    }\n    /**\n     */\n    addChildAt(child, index) {\n        this.view.addChildAt(child.view, index);\n        child.parent = this;\n    }\n    /**\n     */\n    removeChild(child) {\n        this.view.removeChild(child.view);\n        child.parent = null;\n    }\n    /**\n     */\n    removeAllChildren() {\n        if (!this.view || !this.view.children)\n            return;\n        let children = this.view.children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i][\"_jxClip\"]) {\n                children[i][\"_jxClip\"].parent = null;\n            }\n        }\n        this.view.removeAllChildren();\n    }\n    /**\n     */\n    setChildIndex(child, index) {\n        this.view.setChildIndex(child.view, index);\n    }\n    /**\n     */\n    getChildIndex(child) {\n        return this.view.getChildIndex(child.view);\n    }\n    /**\n     */\n    getChildAt(index) {\n        return this.view.getChildAt(index);\n    }\n    /**\n     * getChildByName.\n     */\n    getChildByName(path) {\n        for (var b = this.view.children, c = 0, d = b.length; d > c; c++) {\n            if (b[c].name == path)\n                return b[c];\n        }\n        return null;\n    }\n    /**\n     */\n    getMCChildrenByPattern(pattern) {\n        return this.jx.tools.cjs.getChildrenByName(this.view, pattern);\n    }\n    getAllMCChildren() {\n        return this.view.children;\n    }\n    /**\n     */\n    getMCChildByPath(path, parent = null) {\n        if (!path)\n            return null;\n        var pathArr = path.split(\".\");\n        var children = (parent == null) ? this.view.children : parent.children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name == pathArr[0]) {\n                pathArr.shift();\n                if (pathArr.length == 0) {\n                    return children[i];\n                }\n                else {\n                    return this.getMCChildByPath(pathArr.join(\".\"), children[i]);\n                }\n            }\n            ;\n        }\n        ;\n        this.jx.syswarn(\"MovieClip\", path, \"not found in Clip of id\", this.id);\n        return null;\n    }\n    /** shortcut for  this.getMCChildByPath */\n    getMC(path, parent = null) {\n        return this.getMCChildByPath(path, parent);\n    }\n    _getMCFullPath(mc) {\n        let result = \"\";\n        let parent = mc.parent;\n        while (parent) {\n            this.jx.syslog(parent.name, parent);\n            result = parent.name + \".\" + result;\n            parent = parent.parent;\n        }\n        return result;\n    }\n    /**\n     */\n    gotoAndStop(...args) {\n        if (this._playOnceListener) {\n            this.view.timeline.off(\"change\", this._playOnceListener);\n            this._playOnceListener = null;\n        }\n        this.view.gotoAndStop(args);\n    }\n    /**\n     */\n    gotoAndPlay(...args) {\n        this.view.gotoAndPlay(args);\n    }\n    /**\n     */\n    play() {\n        this.view.play();\n    }\n    getLabels() {\n        return this.view.labels;\n    }\n    getLabelFrame(label) {\n        for (var labelObj in this.view.labels) {\n            this.jx.syslog(this.view.labels[labelObj].label, label);\n            if (this.view.labels[labelObj].label == label)\n                return this.view.labels[labelObj].position;\n        }\n    }\n    /**\n     */\n    playOnce({ start = null, end = null, onfinished = evt => { }, onframechange = evt => { } } = {}) {\n        this.stop();\n        this.view.timeline.loop = false;\n        this._oldFrame = this.curentFrame;\n        this._playOnceListener = this.view.timeline.on(\"change\", evt => {\n            if (this._oldFrame !== this.currentFrame) {\n                onframechange({ frame: this.currentFrame, target: evt.target });\n            }\n            if (this.currentFrame >= end) {\n                this.stop();\n                onfinished({ target: this });\n            }\n        });\n        // determine start and and frame index\n        if (start == null)\n            start = this.currentFrame;\n        if (end == null)\n            end = this.totalFrames - 1;\n        for (var labelObj in this.view.labels) {\n            if (labelObj.label == start)\n                start = labelObj.position;\n            if (labelObj.label == end)\n                end = labelObj.position;\n        }\n        ;\n        this.gotoAndPlay(start);\n    }\n    /**\n    */\n    stop() {\n        //this.jx.syslog(\"stop\", this)\n        if (this._playOnceListener) {\n            this.view.timeline.off(\"change\", this._playOnceListener);\n            this._playOnceListener = null;\n        }\n        this.view.stop();\n    }\n    /**\n     * gotoLabel description\n     * @param  {string} label\n     * @param  {object} params\n     * @property {function}  params.onEvent   - function appelée à chaque event.\n     * @memberof! Clip#\n     */\n    gotoLabel(label, params) {\n        //this.jx.syslog( \"gotoLabel \" + label );\n        this._overdubEvents(params);\n        //--- on verifie que le label demandé existe\n        var labelFounded = false;\n        for (var i = 0; i < this.labels.length; i++) {\n            if (label == this.labels[i].label) {\n                //--- OK il existe, on va à la suite.\n                labelFounded = true;\n                this.currentLabelIndex = i;\n                break;\n            }\n        }\n        //--- ERROR label inexistant + exit\n        if (labelFounded == false) {\n            //this.jx.syslog( \"label \" + label + \"not found on \" + this.clip.name );\n            this._dispatchEvent({\n                type: \"error\",\n                text: \"label \" + label + \"not found on \" + this.clip.name\n            });\n            return;\n        }\n        //--- OK\n        //--- on va au label\n        this.clip.gotoAndStop(label);\n        Clip.arrangeFlashClipsNames(this.clip);\n        //--- on appelle l'ecouteur labelEnter lié. Si la function retourne false, on s'arrete là.\n        if (this._dispatchEvent({\n            type: \"labelEnter\",\n            label: label\n        }) == false) {\n            return;\n        }\n        //--- on analyse le contenu du label et déclenche les actions en fonction.\n        this._labelAnalyser.check(function (result) {\n            ////this.jx.syslog(arguments);\n            switch (result.event) {\n                case \"before\":\n                    break;\n                case \"running\":\n                    break;\n                case \"finished\":\n                //--- Une fois toutes les actions liées au label,executées.\n                //--- on appelle l'ecouteur finished lié. Si la function retourne false, on s'arrete là.\n                ////this.jx.syslog(this);\n                // if ( this._dispatchEvent( {\n                //     type: \"finished\"\n                // } ) == false ) {\n                //     return;\n                // }\n            }\n        });\n        // if ( this._dispatchEvent( {\n        //     type: \"labelCreated\",\n        //     label: label\n        // } ) == false ) {\n        //     return;\n        // }\n    }\n    _overdubEvents(params) {\n        throw new Error(\"Method not implemented.\");\n    }\n    _dispatchEvent(arg0) {\n        throw new Error(\"Method not implemented.\");\n    }\n    /**\n     */\n    freeze() {\n        this.view.tickEnabled = false;\n        this.cache();\n    }\n    /**\n     */\n    unfreeze() {\n        this.view.tickEnabled = true;\n        this.view.uncache();\n    }\n    /**\n     */\n    get currentFrame() {\n        return this.view.currentFrame;\n    }\n    /**\n     */\n    get currentLabel() {\n        return this.view.currentLabel;\n    }\n    /**\n     */\n    get totalFrames() {\n        return this.view.totalFrames;\n    }\n}\nexport { ClipCJS };\n"]}