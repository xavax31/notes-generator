{"version":3,"sources":["../../../../src/jx/comps/numberitem/NumberItemDOM.js"],"names":["NumberItemDOM","dataObject","Object","assign","id","min","max","step","onchange","signals","Signal","onchanged","_createView","_firstInit","view","$","prop","css","x","y","_enabled","enabled","width","height","on","proxy","_change","_changed","_clicked","_mousedown","_mouseup","_rollover","_rollout","_mousemove","dispatch","target","itemValue"],"mappings":"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","file":"NumberItemDOM.js","sourcesContent":["import VisualComponentDOM from \"jx/comps/visualcomponent/VisualComponentDOM\";\nexport default class NumberItemDOM extends VisualComponentDOM {\n    constructor(dataObject) {\n        super(Object.assign({ id: \"\", min: 0, max: null, step: null }, dataObject));\n        this.onchange = new signals.Signal();\n        this.onchanged = new signals.Signal();\n        this._createView();\n        this._firstInit();\n    }\n    _createView() {\n        this.view = $('<input type=\"number\" id=\"\"/>');\n        this.view.prop(\"id\", this.dataObject.id);\n        if (this.dataObject.min)\n            this.view.prop(\"min\", this.dataObject.min);\n        if (this.dataObject.max)\n            this.view.prop(\"max\", this.dataObject.max);\n        if (this.dataObject.step)\n            this.view.prop(\"step\", this.dataObject.step);\n        // //this.view.prop(\"title\", this.dataObject.id)\n        // this.view.text(this.dataObject.label || this.dataObject.id)\n        // if(this.dataObject.resourceID!=null){\n        // \tvar imageResource= this.jx.db.findOne({id: this.dataObject.resourceID});\n        // \tthis.view = new Image();\n        // \tthis.view.src=imageResource.src;\n        // } else {\n        // \tthis.view = new Image();\n        // \tthis.view.src=imageResource.src;\n        // }\n        //stock properties\n        //set object\n        $(this.view).css(\"position\", \"absolute\");\n        $(this.view).css(\"left\", this.dataObject.x + \"px\");\n        $(this.view).css(\"top\", this.dataObject.y + \"px\");\n        this._enabled = this.dataObject.enabled;\n        if (this.dataObject.width) {\n            $(this.view).css(\"width\", this.dataObject.width + \"px\");\n        }\n        if (this.dataObject.height) {\n            $(this.view).css(\"height\", this.dataObject.width + \"px\");\n        }\n        $(this.view).on(\"input\", $.proxy(this._change, this));\n        $(this.view).on(\"change\", $.proxy(this._changed, this));\n        $(this.view).on(\"click\", $.proxy(this._clicked, this));\n        $(this.view).on(\"mousedown\", $.proxy(this._mousedown, this));\n        $(this.view).on(\"mouseup\", $.proxy(this._mouseup, this));\n        $(this.view).on(\"mouseenter\", $.proxy(this._rollover, this));\n        $(this.view).on(\"mouseout\", $.proxy(this._rollout, this));\n        $(this.view).on(\"mousemove\", $.proxy(this._mousemove, this));\n    }\n    set value(itemValue) {\n        this.view.prop('value', itemValue);\n    }\n    get value() {\n        return this.view.prop('value');\n    }\n    _change() {\n        if (this.enabled) {\n            this.onchange.dispatch({ target: this });\n        }\n    }\n    _changed() {\n        if (this.enabled) {\n            this.onchanged.dispatch({ target: this });\n        }\n    }\n}\n"]}