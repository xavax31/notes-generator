{"version":3,"sources":["../../../src/jx/comps/Clip.js"],"names":["Clip","dataObject","extendsFrom","path","start","end","parent","view","getClip","id","fndClipRec","child","addChild","removeChild","removeAllChildren","index","setChildIndex","getChildIndex","getChildAt","getChildByName","pattern","getMCChildrenByPattern","pathArr","split","children","i","length","name","shift","getMCChildByPath","join","args","gotoAndStop","gotoAndPlay","play","onfinished","onframechange","playOnce","stop","label","params","gotoLabel","cache","uncache","updateCache","freeze","unfreeze","mouseChildren","value","currentFrame","currentLabel","totalFrames"],"mappings":"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","file":"Clip.js","sourcesContent":["import VisualComponent from \"jx/comps/visualcomponent/VisualComponent\";\n/**\n * Clip encapsulate a native element (cjs movieclip).\n * Implementation: CJS\n */\nexport default class Clip extends VisualComponent {\n    /**\n     * @param {object} dataObject\n     */\n    constructor(dataObject) {\n        super(dataObject);\n        this.extendsFrom(\"Clip\");\n    }\n    /**\n     * Get child by path. Search native element by path and automatically create a Clip encapsulate it.\n     * If a Clip is already associated to element, it is returned without creating a new one.\n     * @example\n     * let clip2 = this.clip.getClip({path: \"CHILD1.MyClipName\"});\n     * //return Clip wich encapsulate MyClipName child of CHILD1.\n     * let clip3 = this.clip.getClip({path: \"ZONE##\", start: 1, end: 3});\n     * // return Clips Array which encapsulate children ZONE01, ZONE02, ZONE03\n     * @param  {string} options.path   [description]\n     * @param  {number} [options.start=null]\n     * @param  {number} [options.end=null]\n     * @param  {Clip} [options.parent=null]\n     * @return {Clip}\n     */\n    getClip({ path, start, end, parent = null }) {\n        this.view.getClip({ path, start, end, parent });\n    }\n    /**\n     * Return all clips which match id regular expression\n     * @param  {string} options.id\n     * @return {Clip[]}\n     */\n    findClipRec({ id, parent = null }) {\n        this.view.fndClipRec({ id, parent });\n    }\n    /**\n     * Return name of native element associated with this Clip (ex: MovieClip name).\n     * WARNING: id and name are not necessarily equals.\n     * @return {string}\n     */\n    get name() {\n        return this.view.name;\n    }\n    /**\n     */\n    get mousechildren() {\n        return this.view.mouseChildren;\n    }\n    /**\n     */\n    set mouseChildren(value) {\n        this.view.mouseChildren = value;\n    }\n    /**\n     * @param {Clip} child\n     */\n    addChild(child) {\n        this.view.addChild(child);\n    }\n    /**\n     * @param {Clip} child\n     */\n    removeChild(child) {\n        this.view.removeChild(child);\n    }\n    /**\n     */\n    removeAllChildren() {\n        this.view.removeAllChildren();\n    }\n    /**\n     * @param {Clip} child\n     * @param {Number} index\n     */\n    setChildIndex(child, index) {\n        this.view.setChildIndex(child, index);\n    }\n    /**\n     * @param {Clip} child\n     * @return {number}\n     */\n    getChildIndex(child) {\n        return this.view.getChildIndex(child);\n    }\n    /**\n     * @param  {number} index\n     * @return {MovieClip}\n     */\n    getChildAt(index) {\n        return this.view.getChildAt(index);\n    }\n    /**\n     * @param  {String} path\n     * @return {MovieClip}\n     */\n    getChildByName(path) {\n        return this.view.getChildByName(path);\n    }\n    /**\n     * @param  {String|RegExp} pattern\n     * @return {MovieClip}\n     */\n    getMCChildrenByPattern(pattern) {\n        return this.view.getMCChildrenByPattern(pattern);\n    }\n    /**\n     * @param  {String} path\n     * @param  {Clip} parent\n     * @return {MovieClip}\n     */\n    getMCChildByPath(path, parent = null) {\n        //console.log(\"getMCChildByPath\", path, parent)\n        if (!path)\n            return null;\n        var pathArr = path.split(\".\");\n        var children = (parent == null) ? this.view.children : parent.children;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i].name == pathArr[0]) {\n                pathArr.shift();\n                if (pathArr.length == 0) {\n                    return children[i];\n                }\n                else {\n                    return this.getMCChildByPath(pathArr.join(\".\"), children[i]);\n                }\n            }\n            ;\n        }\n        ;\n        return null;\n    }\n    /**\n     * @param  {...number|string} args\n     */\n    gotoAndStop(...args) {\n        this.view.gotoAndStop(args);\n    }\n    /**\n     * @param  {...number|string} args\n     */\n    gotoAndPlay(...args) {\n        this.view.gotoAndPlay(args);\n    }\n    /**\n     */\n    play() {\n        this.view.play();\n    }\n    /**\n     */\n    playOnce({ start = null, end = null, onfinished = evt => { }, onframechange = evt => { } } = {}) {\n        this.view.playOnce({ start, end, onfinished, onframechange });\n    }\n    /**\n     */\n    stop() {\n        this.view.stop();\n    }\n    /**\n     * gotoLabel description\n     * @param  {string} label\n     * @param  {object} params\n     * @property {function}  params.onEvent   - function appelée à chaque event.\n     * @memberof! Clip#\n     */\n    gotoLabel(label, params) {\n        this.view.gotoLabel(label, params);\n    }\n    /**\n     */\n    cache() {\n        this.view.cache();\n    }\n    /**\n    */\n    uncache() {\n        this.view.uncache();\n    }\n    /**\n     */\n    updateCache() {\n        this.view.updateCache();\n    }\n    /**\n     * Freeze component for it uses the minimal cpu/gpu.\n     */\n    freeze() {\n        this.view.freeze();\n    }\n    /**\n     * Unfreeze a freezed component.\n     * @return {[type]} [description]\n     */\n    unfreeze() {\n        this.view.unfreeze();\n    }\n    /**\n     */\n    get currentFrame() {\n        return this.view.currentFrame;\n    }\n    /**\n     */\n    get currentLabel() {\n        return this.view.currentLabel;\n    }\n    /**\n     */\n    get totalFrames() {\n        return this.view.totalFrames;\n    }\n}\n"]}