{"version":3,"sources":["../../../../src/jx/comps/containerselector/ContainerSelectorCJS.js"],"names":["ContainerSelectorCJS","dataObject","Object","assign","console","log","children","view","createjs","Container","i","length","addChild","child","childElement","isJXComponent","cc","render","domElement","DOMElement","push","parent","jx","stage","domView","app","indexOf","contains","removeChild","splice","index","id","bool","mouseChildren","mod","extendsFrom","mixin","ContainerCJS","_initialise"],"mappings":"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","file":"ContainerSelectorCJS.js","sourcesContent":["import containerCJS from \"jx/comps/container/containerCJS\";\nexport default class ContainerSelectorCJS extends containerCJS {\n    constructor(dataObject) {\n        super(Object.assign({}, dataObject));\n        console.log(\"ContainerCJS\", this.dataObject);\n    }\n    static initialiseMod(mod) {\n        mod.extendsFrom(\"VisualComponent\");\n        mod.mixin([\"_create\", \"_initSync\", \"addChild\", \"hasChild\", \"mouseChildren\", \"removeAllChildren\", \"removeChild\", \"getChildById\", \"getChildAt\"], ContainerCJS, \"Container\");\n        mod._initialise();\n    }\n    _create() {\n        super._create();\n        this.children = [];\n        this.view = this.dataObject.view || new createjs.Container();\n    }\n    _initSync() {\n        super._initSync();\n        if (!this.view)\n            return;\n        if (this.dataObject.children) {\n            for (var i = 0; i < this.dataObject.children.length; i++) {\n                this.addChild(this.dataObject.children[i]);\n            }\n            ;\n        }\n        ;\n    }\n    set mouseChildren(bool) {\n        this.view.mouseChildren = bool;\n    }\n    get mouseChildren() {\n        return this.view.mouseChildren;\n    }\n    addChild(child) {\n        var childElement = (child.isJXComponent) ? child : this.cc(child);\n        if (childElement.render != \"CJS\") {\n            //console.error(\"ContainerCJS\", this.id, \" can not add child \", childElement.id, \"with render\", childElement.render);\n            var domElement = new createjs.DOMElement(childElement.view[0]);\n            this.children.push(childElement);\n            childElement.parent = this;\n            this.view.addChild(domElement);\n            return this.jx.stage.addChild(childElement);\n        }\n        this.children.push(childElement);\n        childElement.parent = this;\n        this.view.addChild(childElement.view);\n        if (child.domView) {\n            this.jx.app.stage.addChild(child.domView);\n        }\n        ;\n        return childElement;\n    }\n    hasChild(child) {\n        return this.children.indexOf(child) != -1;\n    }\n    removeChild(child) {\n        //console.log(\"removeChild\", child)\n        if (this.view.contains(child.view)) {\n            //console.log(\"removeChild2\")\n            this.view.removeChild(child.view);\n            this.children.splice(this.children.indexOf(child), 1);\n        }\n        ;\n        //this._selected(0);\n    }\n    removeAllChildren() {\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.view.contains(this.children[i].view)) {\n                this.view.removeChild(this.children[i].view);\n            }\n            ;\n        }\n        ;\n        this.children.length = 0;\n    }\n    getChildAt(index) {\n        return this.children[index];\n    }\n    getChildById(id) {\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.children[i].id == id) {\n                return this.children[i];\n            }\n        }\n        ;\n        return null;\n    }\n}\n"]}