{"version":3,"sources":["../../../../src/jx/comps/containerselector/ContainerSelectorDOM.js"],"names":["ContainerSelectorDOM","dataObject","Object","assign","console","log","children","view","$","css","child","childElement","isJXComponent","cc","render","error","id","push","parent","append","indexOf","has","length","remove","splice","i","contains","index","value","width","ratio","x","height","y","bool","mouseChildren","mod","extendsFrom","mixin","ContainerDOM","_initialise"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QACqBA,oB;;;AACjB,sCAAYC,UAAZ,EAAwB;AAAA;;AAAA,oJACdC,OAAOC,MAAP,CAAc,EAAd,EAAkBF,UAAlB,CADc;;AAEpBG,oBAAQC,GAAR,CAAY,cAAZ,EAA4B,MAAKJ,UAAjC;AAFoB;AAGvB;;;;sCAOS;AACN;AACA,qBAAKK,QAAL,GAAgB,EAAhB;AACA,qBAAKC,IAAL,GAAY,KAAKN,UAAL,CAAgBM,IAAhB,IAAwBC,EAAE,QAAF,CAApC;AACA,qBAAKD,IAAL,CAAUE,GAAV,CAAc,UAAd,EAA0B,UAA1B;AACH;;;qCAyCQC,K,EAAO;AACZ,oBAAIC,eAAgBD,MAAME,aAAP,GAAwBF,KAAxB,GAAgC,KAAKG,EAAL,CAAQH,KAAR,CAAnD;AACA,oBAAIC,aAAaG,MAAb,IAAuB,KAA3B,EAAkC;AAC9BV,4BAAQW,KAAR,CAAc,cAAd,EAA8B,KAAKC,EAAnC,EAAuC,qBAAvC,EAA8DL,aAAaK,EAA3E,EAA+E,aAA/E,EAA8FL,aAAaG,MAA3G;AACA,2BAAO,IAAP;AACH;AACD,qBAAKR,QAAL,CAAcW,IAAd,CAAmBN,YAAnB;AACAA,6BAAaO,MAAb,GAAsB,IAAtB;;AAOA,qBAAKX,IAAL,CAAUY,MAAV,CAAiBR,aAAaJ,IAA9B;;AAEA,uBAAOI,YAAP;AACH;;;qCACQD,K,EAAO;AACZ,uBAAO,KAAKJ,QAAL,CAAcc,OAAd,CAAsBV,KAAtB,KAAgC,CAAC,CAAxC;AACH;;;wCACWA,K,EAAO;AAEf,oBAAI,KAAKH,IAAL,CAAUc,GAAV,CAAcX,MAAMH,IAApB,EAA0Be,MAA1B,GAAmC,CAAvC,EAA0C;AAEtC,yBAAKf,IAAL,CAAUgB,MAAV,CAAiBb,MAAMH,IAAvB;AACA,yBAAKD,QAAL,CAAckB,MAAd,CAAqB,KAAKlB,QAAL,CAAcc,OAAd,CAAsBV,KAAtB,CAArB,EAAmD,CAAnD;AACH;AACD;AAEH;;;gDACmB;AAChB,qBAAK,IAAIe,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3C,wBAAI,KAAKlB,IAAL,CAAUmB,QAAV,CAAmB,KAAKpB,QAAL,CAAcmB,CAAd,EAAiBlB,IAApC,CAAJ,EAA+C;AAC3C,6BAAKA,IAAL,CAAUgB,MAAV,CAAiB,KAAKjB,QAAL,CAAcmB,CAAd,EAAiBlB,IAAlC;AACH;AACD;AACH;AACD;AACA,qBAAKD,QAAL,CAAcgB,MAAd,GAAuB,CAAvB;AACH;;;uCACUK,K,EAAO;AACd,uBAAO,KAAKrB,QAAL,CAAcqB,KAAd,CAAP;AACH;;;yCACYX,E,EAAI;AACb,qBAAK,IAAIS,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3C,wBAAI,KAAKnB,QAAL,CAAcmB,CAAd,EAAiBT,EAAjB,IAAuBA,EAA3B,EAA+B;AAC3B,+BAAO,KAAKV,QAAL,CAAcmB,CAAd,CAAP;AACH;AACJ;AACD;AACA,uBAAO,IAAP;AACH;;;8BA5FSG,K,EAAO;AACbxB,wBAAQC,GAAR,CAAY,KAAKwB,KAAjB;AACA,oBAAIC,QAAQF,QAAQ,KAAKC,KAAzB;AACA,qBAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3C,yBAAKnB,QAAL,CAAcmB,CAAd,EAAiBI,KAAjB,IAA0BC,KAA1B;AACA,yBAAKxB,QAAL,CAAcmB,CAAd,EAAiBM,CAAjB,IAAsBD,KAAtB;AACH;AACD;AACH,a;gCACW;AACR,oBAAID,QAAQ,CAAZ;AACA,qBAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3CI,6BAAS,KAAKvB,QAAL,CAAcmB,CAAd,EAAiBI,KAA1B;AACH;AACD;AACA,uBAAOA,KAAP;AACH;;;8BACUD,K,EAAO;AACdxB,wBAAQC,GAAR,CAAY,KAAK2B,MAAjB;AACA,oBAAIF,QAAQF,QAAQ,KAAKI,MAAzB;AACA,qBAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3C,yBAAKnB,QAAL,CAAcmB,CAAd,EAAiBO,MAAjB,IAA2BF,KAA3B;AACA,yBAAKxB,QAAL,CAAcmB,CAAd,EAAiBQ,CAAjB,IAAsBH,KAAtB;AACH;AACD;AACH,a;gCACY;AACT,oBAAIE,SAAS,CAAb;AACA,qBAAK,IAAIP,IAAI,CAAb,EAAgBA,IAAI,KAAKnB,QAAL,CAAcgB,MAAlC,EAA0CG,GAA1C,EAA+C;AAC3CO,8BAAU,KAAK1B,QAAL,CAAcmB,CAAd,EAAiBO,MAA3B;AACH;AACD;AACA,uBAAOA,MAAP;AACH;;;8BACiBE,I,EAAM;AACpB,qBAAK3B,IAAL,CAAU4B,aAAV,GAA0BD,IAA1B;AACH,a;gCACmB;AAChB,uBAAO,KAAK3B,IAAL,CAAU4B,aAAjB;AACH;;;0CAnDoBC,G,EAAK;AACtBA,oBAAIC,WAAJ,CAAgB,iBAAhB;AACAD,oBAAIE,KAAJ,CAAU,CAAC,SAAD,EAAY,UAAZ,EAAwB,UAAxB,EAAoC,eAApC,EAAqD,mBAArD,EAA0E,aAA1E,EAAyF,cAAzF,EAAyG,YAAzG,EACN,OADM,EACG,QADH,CAAV,EACwBC,YADxB,EACsC,WADtC;AAEAH,oBAAII,WAAJ;AACH;;;;;;sBAVgBxC,oB","file":"ContainerSelectorDOM.js","sourcesContent":["import containerDOM from \"jx/comps/container/containerDOM\";\nexport default class ContainerSelectorDOM extends containerDOM {\n    constructor(dataObject) {\n        super(Object.assign({}, dataObject));\n        console.log(\"ContainerDOM\", this.dataObject);\n    }\n    static initialiseMod(mod) {\n        mod.extendsFrom(\"VisualComponent\");\n        mod.mixin([\"_create\", \"addChild\", \"hasChild\", \"mouseChildren\", \"removeAllChildren\", \"removeChild\", \"getChildById\", \"getChildAt\",\n            \"width\", \"height\"], ContainerDOM, \"Container\");\n        mod._initialise();\n    }\n    _create() {\n        super._create();\n        this.children = [];\n        this.view = this.dataObject.view || $('<div/>');\n        this.view.css(\"position\", \"absolute\");\n    }\n    set width(value) {\n        console.log(this.width);\n        var ratio = value / this.width;\n        for (var i = 0; i < this.children.length; i++) {\n            this.children[i].width *= ratio;\n            this.children[i].x *= ratio;\n        }\n        ;\n    }\n    get width() {\n        var width = 0;\n        for (var i = 0; i < this.children.length; i++) {\n            width += this.children[i].width;\n        }\n        ;\n        return width;\n    }\n    set height(value) {\n        console.log(this.height);\n        var ratio = value / this.height;\n        for (var i = 0; i < this.children.length; i++) {\n            this.children[i].height *= ratio;\n            this.children[i].y *= ratio;\n        }\n        ;\n    }\n    get height() {\n        var height = 0;\n        for (var i = 0; i < this.children.length; i++) {\n            height += this.children[i].height;\n        }\n        ;\n        return height;\n    }\n    set mouseChildren(bool) {\n        this.view.mouseChildren = bool;\n    }\n    get mouseChildren() {\n        return this.view.mouseChildren;\n    }\n    addChild(child) {\n        var childElement = (child.isJXComponent) ? child : this.cc(child);\n        if (childElement.render != \"DOM\") {\n            console.error(\"ContainerDOM\", this.id, \" can not add child \", childElement.id, \"with render\", childElement.render);\n            return null;\n        }\n        this.children.push(childElement);\n        childElement.parent = this;\n        // // get highest z-index\n        // var children = this.view.children();\n        // var maxZ = 0;\n        // for (var i = 0; i < children.length; i++) {\n        //     maxZ = Math.max(maxZ, $(children[i]).css(\"z-index\"));\n        // };\n        this.view.append(childElement.view);\n        //childElement.view.css(\"z-index\", maxZ + 1);\n        return childElement;\n    }\n    hasChild(child) {\n        return this.children.indexOf(child) != -1;\n    }\n    removeChild(child) {\n        //console.log(\"removeChild\", child)\n        if (this.view.has(child.view).length > 0) {\n            //console.log(\"removeChild2\")\n            this.view.remove(child.view);\n            this.children.splice(this.children.indexOf(child), 1);\n        }\n        ;\n        //this._selected(0);\n    }\n    removeAllChildren() {\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.view.contains(this.children[i].view)) {\n                this.view.remove(this.children[i].view);\n            }\n            ;\n        }\n        ;\n        this.children.length = 0;\n    }\n    getChildAt(index) {\n        return this.children[index];\n    }\n    getChildById(id) {\n        for (var i = 0; i < this.children.length; i++) {\n            if (this.children[i].id == id) {\n                return this.children[i];\n            }\n        }\n        ;\n        return null;\n    }\n}\n"]}