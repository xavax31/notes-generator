{"version":3,"sources":["../../../../src/jx/comps/slider/SliderDOM.js"],"names":["SliderDOM","dataObject","Object","assign","id","min","max","step","_initialise","_createView","_firstInit","onchange","signals","Signal","onchanged","view","$","prop","css","x","y","_enabled","enabled","width","height","on","proxy","_change","_changed","_clicked","_mousedown","_mouseup","_rollover","_rollout","_mousemove","dispatch","target","itemValue","mod","extendsFrom","mixin"],"mappings":"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","file":"SliderDOM.js","sourcesContent":["import VisualComponentDOM from \"jx/comps/visualcomponent/VisualComponentDOM\";\nexport default class SliderDOM extends VisualComponentDOM {\n    constructor(dataObject) {\n        super(Object.assign({ id: \"\", min: 0, max: null, step: null }, dataObject));\n        this._initialise();\n    }\n    static initialiseMod(mod) {\n        mod.extendsFrom(\"VisualComponent\");\n        mod.mixin([\"_initialise\", \"_createView\", \"_change\", \"_changed\", \"max\", \"value\"], SliderDOM);\n        mod._initialise();\n    }\n    _initialise() {\n        this._createView();\n        this._firstInit();\n        this.onchange = new signals.Signal();\n        this.onchanged = new signals.Signal();\n    }\n    _createView() {\n        this.view = $('<input type=\"range\" id=\"\"/>');\n        this.view.prop(\"id\", this.dataObject.id);\n        if (this.dataObject.min)\n            this.view.prop(\"min\", this.dataObject.min);\n        if (this.dataObject.max)\n            this.view.prop(\"max\", this.dataObject.max);\n        if (this.dataObject.step)\n            this.view.prop(\"step\", this.dataObject.step);\n        // //this.view.prop(\"title\", this.dataObject.id)\n        // this.view.text(this.dataObject.label || this.dataObject.id)\n        // if(this.dataObject.resourceID!=null){\n        // \tvar imageResource= this.jx.db.findOne({id: this.dataObject.resourceID});\n        // \tthis.view = new Image();\n        // \tthis.view.src=imageResource.src;\n        // } else {\n        // \tthis.view = new Image();\n        // \tthis.view.src=imageResource.src;\n        // }\n        //stock properties\n        //set object\n        $(this.view).css(\"position\", \"absolute\");\n        $(this.view).css(\"left\", this.dataObject.x + \"px\");\n        $(this.view).css(\"top\", this.dataObject.y + \"px\");\n        this._enabled = this.dataObject.enabled;\n        if (this.dataObject.width) {\n            $(this.view).css(\"width\", this.dataObject.width + \"px\");\n        }\n        if (this.dataObject.height) {\n            $(this.view).css(\"height\", this.dataObject.width + \"px\");\n        }\n        $(this.view).on(\"input\", $.proxy(this._change, this));\n        $(this.view).on(\"change\", $.proxy(this._changed, this));\n        $(this.view).on(\"click\", $.proxy(this._clicked, this));\n        $(this.view).on(\"mousedown\", $.proxy(this._mousedown, this));\n        $(this.view).on(\"mouseup\", $.proxy(this._mouseup, this));\n        $(this.view).on(\"mouseenter\", $.proxy(this._rollover, this));\n        $(this.view).on(\"mouseout\", $.proxy(this._rollout, this));\n        $(this.view).on(\"mousemove\", $.proxy(this._mousemove, this));\n    }\n    set value(itemValue) {\n        this.view.prop('value', itemValue);\n    }\n    set max(itemValue) {\n        this.view.prop('max', itemValue);\n    }\n    get value() {\n        return this.view.prop('value');\n    }\n    _change() {\n        if (this.enabled) {\n            this.onchange.dispatch({ target: this });\n        }\n    }\n    _changed() {\n        if (this.enabled) {\n            this.onchanged.dispatch({ target: this });\n        }\n    }\n}\n"]}