{"version":3,"sources":["../../../../../src/src/screens/Screen00.js"],"names":["Screen00","dataObject","Object","assign","screenName","notes","indexNotes","modesPatterns","mode1","dorien","phrygien","lydien","mixolydien","eolien","locrien","minor_melodique","javanais","lydien_augm","bartok","hindou","minor_dim","altere","minor_hamonic","locrien_6M","augmented","roumain","phrygien_espagnol","lydien_9diese","altered_7dim","arabe","napolitain","ton_sens","hypo_lydien","lydien_phrygien","orientale","bohemian","sebastian","tzigane","napolitaine_harmonic","gitan_hongrois","hongrois_majeur","gypsy","harmonic_majeur","lydien_dim","infos","y","actualX","notesOffset","createdNotes","generationConfig","random","gamme","tonique","indexMin","indexMax","intervalMin","intervalMax","currentMode","pattern","startNote","console","log","indexOf","index","result","newIndex","i","length","push","callback","modePatternText","cc","type","text","style","fontSize","x","screen","addChild","shape","width","height","color","drawLine","menu","onchange","add","evt","getConfig","onbtn","btnID","generateRandomSequence","view","css","setConfig","createMode","join","deleteAllNotes","currentIndex","note","octave","Math","floor","direction","notesMax","intervalID","setInterval","addNote","offset","jx","tools","math","randomValue","clearInterval","start","end","graphic","graphics","beginStroke","moveTo","lineTo","endStroke","noteName","filled","circle","shapeType","radius","borderColor","borderWidth","search","circleGraf","xPos","removeChild","kill","data","target","_killed"],"mappings":"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","file":"Screen00.js","sourcesContent":["import ScreenFlashBase from \"src/screens/ScreenFlashBase\";\nimport ShapeCJS from \"jx/comps/shape/ShapeCJS\";\nimport ContainerCJS from \"jx/comps/container/ContainerCJS\";\nimport TextCJS from \"jx/comps/text/TextCJS\";\nimport UserMenu from \"src/UserMenu\";\n/**\n */\nexport default class Screen00 extends ScreenFlashBase {\n    constructor(dataObject) {\n        super(Object.assign({ screenName: \"SCREEN_00\" }, dataObject));\n        this.notes = [\n            \"do\",\n            \"do#\",\n            \"ré\",\n            \"ré#\",\n            \"mi\",\n            \"fa\",\n            \"fa#\",\n            \"sol\",\n            \"sol#\",\n            \"la\",\n            \"la#\",\n            \"si\",\n        ];\n        this.indexNotes = [0, 0, 1, 1, 2, 3, 3, 4, 4, 5, 5, 6];\n        this.modesPatterns = {\n            // from https://www.jihef.fr/modes/12-modes.html\n            mode1: [2, 2, 1, 2, 2, 2],\n            dorien: [2, 1, 2, 2, 2, 1],\n            phrygien: [1, 2, 2, 2, 1, 2],\n            lydien: [2, 2, 2, 1, 2, 2],\n            mixolydien: [2, 2, 1, 2, 2, 1],\n            eolien: [2, 1, 2, 2, 1, 2],\n            locrien: [1, 2, 2, 1, 2, 2],\n            minor_melodique: [2, 1, 2, 2, 2, 2],\n            javanais: [1, 2, 2, 2, 2, 1],\n            lydien_augm: [2, 2, 2, 2, 1, 2],\n            bartok: [2, 2, 2, 1, 2, 1],\n            hindou: [2, 2, 1, 2, 1, 2],\n            minor_dim: [2, 1, 2, 1, 2, 2],\n            altere: [1, 2, 1, 2, 2, 2],\n            minor_hamonic: [2, 1, 2, 2, 1, 3],\n            locrien_6M: [1, 2, 2, 1, 3, 1],\n            augmented: [2, 2, 1, 3, 1, 2],\n            roumain: [2, 1, 3, 1, 2, 1],\n            phrygien_espagnol: [1, 3, 1, 2, 1, 2],\n            lydien_9diese: [3, 1, 2, 1, 2, 2],\n            altered_7dim: [1, 2, 1, 2, 2, 1],\n            arabe: [2, 2, 1, 1, 2, 2],\n            napolitain: [1, 2, 2, 2, 2, 2],\n            ton_sens: [2, 2, 2, 2, 2, 1],\n            hypo_lydien: [2, 2, 2, 2, 1, 1],\n            lydien_phrygien: [2, 2, 2, 1, 1, 2],\n            orientale: [1, 3, 1, 1, 3, 1],\n            bohemian: [1, 3, 1, 2, 1, 3],\n            sebastian: [3, 1, 2, 1, 3, 1],\n            tzigane: [2, 1, 3, 1, 1, 3],\n            napolitaine_harmonic: [1, 2, 2, 2, 1, 3],\n            gitan_hongrois: [2, 1, 3, 1, 1, 2],\n            hongrois_majeur: [3, 1, 2, 1, 2, 1],\n            gypsy: [1, 3, 1, 2, 2, 1],\n            harmonic_majeur: [2, 2, 1, 2, 1, 3],\n            lydien_dim: [2, 1, 3, 1, 2, 2],\n        };\n        this.infos = {\n            y: 100,\n            actualX: 10,\n            notesOffset: 30,\n        };\n        this.createdNotes = [];\n        this.generationConfig = {\n            random: true,\n            gamme: \"chromatic\",\n            tonique: \"do\",\n            indexMin: 4,\n            indexMax: 36,\n            intervalMin: 1,\n            intervalMax: 3,\n        };\n        this.currentMode = null;\n    }\n    createMode(pattern, startNote) {\n        console.log(\"createmode\", pattern, startNote, this.notes.indexOf(startNote), this.notes[this.notes.indexOf(startNote)]);\n        let index = this.notes.indexOf(startNote);\n        let result = [this.notes[index]];\n        console.log(\"this.notes[index]\", this.notes[index]);\n        let newIndex;\n        for (let i = 0; i < pattern.length; i++) {\n            newIndex = index + pattern[i];\n            if (newIndex > this.notes.length - 1) {\n                newIndex = newIndex - this.notes.length;\n            }\n            index = newIndex;\n            result.push(this.notes[index]);\n            // console.log(\"result\", result);\n        }\n        // console.log(\"MODE\", result);\n        return result;\n    }\n    init(callback) {\n        super.init(() => {\n            callback();\n        });\n    }\n    _initScreen() {\n        super._initScreen();\n        this.modePatternText = this.cc({\n            type: TextCJS,\n            text: \"2-2-3-2-1-2\",\n            style: { fontSize: 20 },\n        });\n        this.modePatternText.x = 20;\n        this.screen.addChild(this.modePatternText);\n        console.log(\"rr\");\n        this.shape = this.cc({\n            type: ShapeCJS,\n            width: 1280,\n            height: 400,\n            color: \"white\",\n        });\n        this.drawLine(10);\n        this.drawLine(20);\n        this.drawLine(30);\n        this.drawLine(40);\n        this.drawLine(50);\n        this.screen.addChild(this.shape);\n        this.shape.y = this.infos.y;\n        this.menu = this.cc({ type: UserMenu, width: 300, height: 400 });\n        this.menu.onchange.add((evt) => {\n            console.log(evt);\n            this.generationConfig = Object.assign({}, this.menu.getConfig());\n        });\n        this.menu.onbtn.add((evt) => {\n            console.log(evt);\n            switch (evt.btnID) {\n                case \"generateBtn\":\n                    this.generateRandomSequence();\n                    break;\n            }\n        });\n        this.menu.view.css(\"top\", \"250px\");\n        this.menu.view.css(\"left\", \"50px\");\n        this.menu.setConfig(this.generationConfig);\n        // for (let i = 4; i < this.notes.length; i++) {\n        // \tthis.addNote(this.notes[i], -1);\n        // }\n        // for (let i = 0; i < this.notes.length; i++) {\n        // \tthis.addNote(this.notes[i]);\n        // }\n        // for (let i = 0; i < this.notes.length; i++) {\n        // \tthis.addNote(this.notes[i], 1);\n        // }\n        // for (let i = 0; i < this.notes.length; i++) {\n        // \tthis.addNote(this.notes[i], 2);\n        // }\n        this.generateRandomSequence();\n    }\n    generateRandomSequence() {\n        console.log(this.generationConfig);\n        if (this.generationConfig.gamme !== \"chromatic\") {\n            this.currentMode = this.createMode(this.modesPatterns[this.generationConfig.gamme], this.generationConfig.tonique);\n            this.modePatternText.text =\n                this.modesPatterns[this.generationConfig.gamme].join(\" \");\n        }\n        else {\n            this.currentMode = null;\n            this.modePatternText.text = \"\";\n        }\n        console.log(\"Mode\", this.currentMode);\n        this.deleteAllNotes();\n        let notes = [];\n        let indexMin = this.generationConfig.indexMin;\n        let indexMax = this.generationConfig.indexMax;\n        console.log(\"indexLimits\", indexMin, indexMax);\n        let currentIndex = -1;\n        for (let i = 0; i < this.notes.length; i++) {\n            currentIndex++;\n            if (currentIndex < indexMin || currentIndex > indexMax)\n                continue;\n            if (this.currentMode &&\n                this.currentMode.indexOf(this.notes[i]) === -1)\n                continue;\n            notes.push({\n                note: this.notes[i],\n                octave: -1,\n            });\n        }\n        for (let i = 0; i < this.notes.length; i++) {\n            currentIndex++;\n            if (currentIndex < indexMin || currentIndex > indexMax)\n                continue;\n            if (this.currentMode &&\n                this.currentMode.indexOf(this.notes[i]) === -1)\n                continue;\n            notes.push({\n                note: this.notes[i],\n                octave: 0,\n            });\n        }\n        for (let i = 0; i < this.notes.length; i++) {\n            currentIndex++;\n            if (currentIndex < indexMin || currentIndex > indexMax)\n                continue;\n            if (this.currentMode &&\n                this.currentMode.indexOf(this.notes[i]) === -1)\n                continue;\n            notes.push({\n                note: this.notes[i],\n                octave: 1,\n            });\n        }\n        for (let i = 0; i < this.notes.length; i++) {\n            currentIndex++;\n            if (currentIndex < indexMin || currentIndex > indexMax)\n                continue;\n            if (this.currentMode &&\n                this.currentMode.indexOf(this.notes[i]) === -1)\n                continue;\n            notes.push({\n                note: this.notes[i],\n                octave: 2,\n            });\n        }\n        console.log(\"notes\", notes);\n        let index = this.generationConfig.random\n            ? Math.floor(Math.random() * (notes.length - 1))\n            : 0;\n        // let index = Math.floor(notes.length/2);\n        console.log(\"INDEX\", index);\n        let direction = Math.random() > 0.5 ? 1 : -1;\n        let notesMax = 40;\n        let intervalID = setInterval(() => {\n            // this.deleteAllNotes();\n            // console.log(\"NOTE index\", index, notes.length, this.generationConfig.intervalMin, this.generationConfig.intervalMax);\n            let note = notes[index];\n            this.addNote(note.note, note.octave);\n            if (this.generationConfig.random) {\n                direction = Math.random() > 0.5 ? 1 : -1;\n                let offset = this.jx.tools.math.randomValue(this.generationConfig.intervalMin, this.generationConfig.intervalMax);\n                let newIndex = index + direction * offset;\n                console.log(\"offset:\", offset, \"direction:\", direction, \"newIndex:\", newIndex);\n                if (newIndex >= notes.length - 2) {\n                    direction = -1;\n                    newIndex = index + direction * offset;\n                }\n                if (newIndex < 0) {\n                    direction = 1;\n                    newIndex = index + direction * offset;\n                }\n                console.log(\"Newinedex\", newIndex);\n                if (newIndex < 0 || newIndex >= notes.length - 2) {\n                    newIndex = Math.floor(Math.random() * (notes.length - 1));\n                }\n                index = newIndex;\n                notesMax--;\n                if (notesMax <= 0) {\n                    clearInterval(intervalID);\n                }\n            }\n            else {\n                notesMax--;\n                index++;\n                if (notesMax <= 0 || index >= notes.length - 2) {\n                    clearInterval(intervalID);\n                }\n            }\n        }, 10);\n    }\n    drawLine(y) {\n        let start = 0;\n        let end = 1280;\n        let graphic = this.shape.graphics;\n        graphic\n            .beginStroke(\"#000000\")\n            .moveTo(start, y)\n            .lineTo(end, y)\n            .endStroke();\n    }\n    addNote(noteName, octave = 0, length = 1) {\n        let index = this.notes.indexOf(noteName);\n        let filled = length > 1 ? false : true;\n        let note = this.cc({ type: ContainerCJS });\n        let circle = this.cc({\n            type: ShapeCJS,\n            shapeType: \"circle\",\n            radius: 5,\n            borderColor: \"black\",\n            color: filled ? \"black\" : \"rgba(0,0,0,0)\",\n            borderWidth: 2,\n        });\n        note.addChild(circle);\n        if (noteName.search(\"#\") !== -1) {\n            let text = this.cc({ type: TextCJS, text: \"#\" });\n            text.x = -15;\n            text.y = -5;\n            note.addChild(text);\n        }\n        if (octave === 0 && (index === 0 || index === 1)) {\n            // do\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === -1 && noteName.search(/^si/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -5)\n                .lineTo(10, -5)\n                .endStroke();\n        }\n        else if (octave === -1 && noteName.search(/^la/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -10)\n                .lineTo(10, -10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === -1 && noteName.search(/^sol/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -15)\n                .lineTo(10, -15)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -5)\n                .lineTo(10, -5)\n                .endStroke();\n        }\n        else if (octave === -1 && noteName.search(/^fa/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -20)\n                .lineTo(10, -20)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -10)\n                .lineTo(10, -10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === -1 && noteName.search(/^mi/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -25)\n                .lineTo(10, -25)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -15)\n                .lineTo(10, -15)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, -5)\n                .lineTo(10, -5)\n                .endStroke();\n        }\n        else if (octave === 1 && noteName.search(/^la/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === 1 && noteName.search(/^si/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 5)\n                .lineTo(10, 5)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^do/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 10)\n                .lineTo(10, 10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^ré/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 15)\n                .lineTo(10, 15)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 5)\n                .lineTo(10, 5)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^mi/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 20)\n                .lineTo(10, 20)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 10)\n                .lineTo(10, 10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^fa/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 25)\n                .lineTo(10, 25)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 15)\n                .lineTo(10, 15)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 5)\n                .lineTo(10, 5)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^sol/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 30)\n                .lineTo(10, 30)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 20)\n                .lineTo(10, 20)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 10)\n                .lineTo(10, 10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^la/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 35)\n                .lineTo(10, 35)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 25)\n                .lineTo(10, 25)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 15)\n                .lineTo(10, 15)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 5)\n                .lineTo(10, 5)\n                .endStroke();\n        }\n        else if (octave === 2 && noteName.search(/^si/) !== -1) {\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 40)\n                .lineTo(10, 40)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 30)\n                .lineTo(10, 30)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 20)\n                .lineTo(10, 20)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 10)\n                .lineTo(10, 10)\n                .endStroke();\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(-10, 0)\n                .lineTo(10, 0)\n                .endStroke();\n        }\n        if (length < 4) {\n            let direction = octave > 0 ? 1 : -1;\n            let xPos = direction === 1 ? -5 : 5;\n            let circleGraf = circle.graphics;\n            circleGraf\n                .beginStroke(\"#000000\")\n                .moveTo(xPos, 0)\n                .lineTo(xPos, direction * 40)\n                .endStroke();\n        }\n        this.screen.addChild(note);\n        this.infos.actualX += this.infos.notesOffset;\n        note.x = this.infos.actualX;\n        note.y =\n            this.infos.y + 60 - this.indexNotes[index] * 5 - octave * 7 * 5;\n        this.createdNotes.push(note);\n    }\n    deleteAllNotes() {\n        for (let i = 0; i < this.createdNotes.length; i++) {\n            this.screen.removeChild(this.createdNotes[i]);\n            this.createdNotes[i].kill();\n        }\n        this.infos.actualX = 10;\n    }\n    show(callback, data) {\n        super.show(() => {\n            callback({ target: this });\n        }, data);\n    }\n    kill() {\n        if (this._killed)\n            return;\n        super.kill();\n    }\n}\n"]}