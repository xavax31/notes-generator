{"version":3,"sources":["../../../../src/src/UserMenu.js"],"names":["UserMenu","dataObject","Object","assign","scenes","addEventDispatcher","view","css","width","notes","options","index","i","length","push","id","String","desc","console","log","allNotesInfo","addComboBox","description","onchange","evt","target","value","_refresh","type","addNumberItem","min","max","step","setConfig","indexMin","findNoteIndex","indexMax","intervalMin","intervalMax","random","addButton","label","onclick","onbtn","dispatch","btnID","noteStr","Number","find","x","y","parent","item","cc","render","add","addChild","ccid","imgID","colorIndex","rid","height","color","noteMin","tonique","gamme","noteMax","title","sceneName","text","sceneDesc","replace"],"mappings":"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","file":"UserMenu.js","sourcesContent":["import SimpleDOMView from \"jx/comps/SimpleDOMView\";\nimport ComboBox from \"jx/comps/ComboBox\";\nexport default class UserMenu extends SimpleDOMView {\n    constructor(dataObject) {\n        super(Object.assign({ scenes: null }, dataObject));\n        this.addEventDispatcher(\"onchange\", \"onbtn\");\n    }\n    /*******************************************************************************\n    * INIT\n    */\n    _initSync() {\n        super._initSync();\n        this.view.css(\"position\", \"absolute\");\n        this.view.css(\"padding\", \"3px\");\n        this.view.css(\"top\", \"40px\");\n        this.width = this.dataObject.width;\n        // this.background = this.cc({rid: \"BACKGROUND\", render: \"DOM\", alpha: 0.3, width: this.dataObject.width, height: this.dataObject.height});\n        // this.addChild(this.background);\n        // this.addButton({id:\"prevBTN\", label: \"Prev\", onclick: evt=>this._prevScene() });\n        // this.addButton({id:\"nextBTN\", label: \"Next\", onclick: evt=>this._nextScene() });\n        // this.addChild(this.ccid({id:\"sceneName\", type: \"Text\", render: \"DOM\", x: 2}));\n        // this.sceneName.view.css(\"position\", \"relative\");\n        // this.addChild(this.ccid({id:\"sceneDesc\", type: \"Text\", render: \"DOM\", x: 2, width: 200}));\n        // this.sceneDesc.view.find(\"#text\").css(\"width\", \"150px\");\n        // this.sceneDesc.view.css(\"position\", \"relative\");\n        let notes = [\"do\", \"do#\", \"ré\", \"ré#\", \"mi\", \"fa\", \"fa#\", \"sol\", \"sol#\", \"la\", \"la#\", \"si\"];\n        let options = [];\n        let index = 0;\n        for (let i = 0; i < notes.length; i++) {\n            options.push({\n                id: String(index),\n                desc: notes[i] + \"-1\"\n            });\n            index++;\n        }\n        for (let i = 0; i < notes.length; i++) {\n            options.push({\n                id: String(index),\n                desc: notes[i]\n            });\n            index++;\n        }\n        for (let i = 0; i < notes.length; i++) {\n            options.push({\n                id: String(index),\n                desc: notes[i] + \"1\"\n            });\n            index++;\n        }\n        for (let i = 0; i < notes.length; i++) {\n            options.push({\n                id: String(index),\n                desc: notes[i] + \"2\"\n            });\n            index++;\n        }\n        console.log(options);\n        this.allNotesInfo = options;\n        this.addComboBox({ id: \"tonique\", description: \"Tonique\",\n            options: notes,\n            onchange: evt => {\n                console.log(evt.target.value);\n                this._refresh();\n            } });\n        this.addComboBox({ id: \"gamme\", description: \"Gamme/Mode\", width: \"300px\",\n            options: [\n                { id: \"chromatic\", desc: \"Chromatique\" },\n                // Gamme Majeur\n                { id: \"gamme_majeure\", desc: \"GAMME MAJEURE\", type: \"section\" },\n                { id: \"mode1\", desc: \"Mode de Do - Mode 1 [2,1,2,2,2,1]\" },\n                { id: \"dorien\", desc: \"Mode de Ré - Dorien (II) [2,1,2,2,2,1]\" },\n                { id: \"phrygien\", desc: \"Mode de Mi - Phrygien (III) [1,2,2,2,1,2]\" },\n                { id: \"lydien\", desc: \"Mode de Fa - Lydien (IV) [2,2,2,1,2,2]\" },\n                { id: \"mixolydien\", desc: \"Mode de Sol - Mixolydien (V) [2,2,1,2,2,1]\" },\n                { id: \"eolien\", desc: \"Mode de La - éolien (VI) - Mineur naturel [2,1,2,2,1,2]\" },\n                { id: \"locrien\", desc: \"Mode de Si - locrien (VII) [1,2,2,1,2,2]\" },\n                { id: \"gamme_mineure_melodique\", desc: \"GAMME MINEURE MELODIQUE\", type: \"section\" },\n                { id: \"minor_melodique\", desc: \"Mode Mélodique (I) [2,1,2,2,2,2]\" },\n                { id: \"javanais\", desc: \"Mode Javanais (II) [1,2,2,2,2,1]\" },\n                { id: \"lydien_augm\", desc: \"Mode Lydien augm. (III) [2,2,2,2,1,2]\" },\n                { id: \"bartok\", desc: \"Mode de Bartok (IV) [2,2,2,1,2,1]\" },\n                { id: \"hindou\", desc: \"Mode Hindou (V) [2,2,1,2,1,2]\" },\n                { id: \"minor_dim\", desc: \"Mode mineur diminué (VI) [2,1,2,1,2,2]\" },\n                { id: \"altere\", desc: \"Mode altéré (VII) [1,2,1,2,2,2]\" },\n                { id: \"gamme_mineure_harmonique\", desc: \"GAMME MINEURE HARMONIQUE\", type: \"section\" },\n                { id: \"minor_hamonic\", desc: \"Mineur Harmonique (I) [2,1,2,2,1,3]\" },\n                { id: \"locrien_6M\", desc: \"Mode Locrien 6M (II) [1,2,2,1,3,1]\" },\n                { id: \"augmented\", desc: \"Mode Augmenté (III) [2,2,1,3,1,2]\" },\n                { id: \"roumain\", desc: \"Mode Roumain (IV) [2,1,3,1,2,1]\" },\n                { id: \"phrygien_espagnol\", desc: \"Mode Phrygien espagnol (V) [1,3,1,2,1,2]\" },\n                { id: \"lydien_9diese\", desc: \"Mode Lydien 9# (VI) [3,1,2,1,2,2]\" },\n                { id: \"altered_7dim\", desc: \"Mode altéré 7dim (VII) [1,2,1,2,2,1]\" },\n                { id: \"gamme_arabe\", desc: \"GAMME ARABE\", type: \"section\" },\n                { id: \"arabe\", desc: \"Mode arabe (I) [2,2,1,1,2,2]\" },\n                { id: \"napolitain\", desc: \"Mode Napolitain (IV) [1,2,2,2,2,2]\" },\n                { id: \"ton_sens\", desc: \"Mode ton + sens (V) [2,2,2,2,2,1]\" },\n                { id: \"hypo_lydien\", desc: \"Mode Hypo Lydien (VI) [2,2,2,2,1,1]\" },\n                { id: \"lydien_phrygien\", desc: \"Mode lydien/phrygien (VII) [2,2,2,1,1,2]\" },\n                { id: \"gamme_orientale\", desc: \"GAMME ORIENTALE\", type: \"section\" },\n                { id: \"orientale\", desc: \"Gamme Orientale (I) [1,3,1,1,3,1]\" },\n                { id: \"bohemian\", desc: \"Mode Bohémien (IV) [1,3,1,2,1,3]\" },\n                { id: \"sebastian\", desc: \"Mode Sebastian (V) [3,1,2,1,3,1]\" },\n                { id: \"tzigane\", desc: \"Mode Tzigane (VII) [2,1,3,1,1,3]\" },\n                { id: \"gamme_napolitaine_harmonique\", desc: \"GAMME NAPOLITAINE HARMONIQUE\", type: \"section\" },\n                { id: \"napolitaine_harmonic\", desc: \"Gamme Napolitaine Harmonique (I) [1,2,2,2,1,3]\" },\n                { id: \"gitan_hongrois\", desc: \"Mode Gitan Hongrois (IV) [2,1,3,1,1,2]\" },\n                { id: \"gamme_hongroise_majeure\", desc: \"GAMME HONGROISE MAJEUR\", type: \"section\" },\n                { id: \"hongrois_majeur\", desc: \"Gamme Hongrois Majeur (I) [3,1,2,1,2,1]\" },\n                { id: \"gamme_gypsy\", desc: \"GAMME GYPSY\", type: \"section\" },\n                { id: \"gypsy\", desc: \"Gamme Gypsy (I) [1,3,1,2,2,1]\" },\n                { id: \"harmonic_majeur\", desc: \"Mode Harmonique Majeur (IV) [2,2,1,2,1,3]\" },\n                { id: \"lydien_dim\", desc: \"Mode Lydien diminué (VII) [2,1,3,1,2,2]\" },\n            ],\n            onchange: evt => {\n                console.log(evt.target.value);\n                this._refresh();\n            } });\n        this.addComboBox({ id: \"noteMin\", description: \"Note min\",\n            options,\n            onchange: evt => {\n                console.log(evt.target.value);\n                this._refresh();\n            } });\n        this.addComboBox({ id: \"noteMax\", description: \"Note max\",\n            options,\n            onchange: evt => {\n                console.log(evt.target.value);\n                this._refresh();\n            }, value: 47 });\n        this.addComboBox({ id: \"random\", description: \"Random\",\n            options: [\"oui\", \"non\"],\n            onchange: evt => {\n                console.log(evt.target.value);\n                this._refresh();\n            }, value: \"oui\" });\n        // this.addNumberItem({id: \"indexMin\", description: \"indexMin\", min: 0, max:100, step: 1, value: 0});\n        // this.addNumberItem({id: \"indexMax\", description: \"indexMax\", min: 0, max:100, step: 1, value: 20});\n        this.addNumberItem({ id: \"intervalMin\", description: \"Interval Min (en 1/2 tons)\", min: 0, max: 20, step: 1, value: 1 });\n        this.addNumberItem({ id: \"intervalMax\", description: \"Interval Max (en 1/2 tons)\", min: 0, max: 20, step: 1, value: 3 });\n        this.addComboBox({ id: \"preset\", width: \"300px\", description: \"Preset\",\n            options: [\n                { id: \"all\", desc: \"Toute la tessiture\" },\n                { id: \"basses\", desc: \"Basses sans clé de quinte\" },\n                { id: \"aigus\", desc: \"Aigus clé de quinte avec\" },\n                { id: \"transition\", desc: \"Travail de la transition graves-aigus\" },\n            ],\n            onchange: evt => {\n                console.log(evt);\n                switch (evt.target.value) {\n                    case \"all\":\n                        this.setConfig({\n                            indexMin: this.findNoteIndex(\"mi-1\"),\n                            indexMax: this.findNoteIndex(\"do1\"),\n                            intervalMin: 1,\n                            intervalMax: 3,\n                            random: true\n                        });\n                        break;\n                    case \"basses\":\n                        this.setConfig({\n                            indexMin: this.findNoteIndex(\"mi-1\"),\n                            indexMax: this.findNoteIndex(\"do1\"),\n                            intervalMin: 1,\n                            intervalMax: 3,\n                            random: true\n                        });\n                        break;\n                    case \"aigus\":\n                        this.setConfig({\n                            indexMin: this.findNoteIndex(\"si\"),\n                            indexMax: this.findNoteIndex(\"ré2\"),\n                            intervalMin: 1,\n                            intervalMax: 3,\n                            random: true\n                        });\n                        break;\n                    case \"transition\":\n                        this.setConfig({\n                            indexMin: this.findNoteIndex(\"sol\"),\n                            indexMax: this.findNoteIndex(\"la1\"),\n                            intervalMin: 1,\n                            intervalMax: 3,\n                            random: true\n                        });\n                        break;\n                    default:\n                        break;\n                }\n                this._refresh();\n            } });\n        // this.addNumberItem({id: \"easing\", description: \"elasticité\", min: 0, step: 0.1, value: 0.1});\n        // this.addNumberItem({id: \"factor\", description: \"factor\", min: 0, step: 0.1, value: 0.8});\n        // this.addNumberItem({id: \"release\", description: \"temps de coulure après relachement souris\", min: 0, step: 1, value: 200});\n        // this.color = -1;\n        // this.addPaletteColor({id: \"tache1\",label:\"Vert\",imgID: \"tache1\", colorIndex: 0});\n        // this.addPaletteColor({id: \"tache2\",label:\"Jaune\",imgID: \"tache2\", colorIndex: 1});\n        // this.addPaletteColor({id: \"tache3\",label:\"Rouge\",imgID: \"tache3\", colorIndex: 2});\n        // this.addPaletteColor({id: \"mix\",label:\"Mix\",imgID: \"tache1\", colorIndex: -1});\n        this.addButton({ id: \"generateBtn\", label: \"Générer\", onclick: evt => {\n                this.onbtn.dispatch({ target: this, btnID: evt.target.id });\n            } });\n    }\n    findNoteIndex(noteStr) {\n        let id = Number(this.allNotesInfo.find(value => value.desc === noteStr).id);\n        console.log(noteStr, id);\n        return id;\n    }\n    addNumberItem({ id, x = 0, y = 0, description = \"\", min = 0, max = 0, step = 1, value = 0, parent = this }) {\n        var item = this.cc({ type: \"InputNumber\", render: \"DOM\", x: x, y: y, description: description, min: min, max: max, step: step });\n        item.view.css(\"position\", \"relative\");\n        item.view.css(\"display\", \"block\");\n        item.view.css(\"marginBottom\", \"5px\");\n        item.view.find(\"#value\").css(\"width\", \"100px\");\n        item.value = value;\n        item.onchange.add(evt => {\n            this._refresh();\n        });\n        parent.addChild(item);\n        // item.width = this.dataObject.width;\n        this[id] = item;\n    }\n    addButton({ id, label, onclick }) {\n        this.addChild(this.ccid({ id: id, label: label, type: \"SimpleButton\", render: \"DOM\", onclick: onclick }));\n        this[id].view.css(\"position\", \"relative\");\n        this[id].view.css(\"display\", \"block\");\n        this[id].view.css(\"marginTop\", \"10px\");\n        this[id].view.css(\"width\", \"100px\");\n    }\n    addComboBox({ id, options, onchange, description, value, width = \"100px\" }) {\n        let item = this.cc({ type: ComboBox, render: \"DOM\", x: 0, y: 0, description, options });\n        item.view.css(\"position\", \"relative\");\n        item.view.css(\"display\", \"block\");\n        item.view.css(\"marginBottom\", \"5px\");\n        item.view.find(\"#value\").css(\"width\", width);\n        item.value = value;\n        item.onchange.add(onchange);\n        this.addChild(item);\n        // item.width = this.dataObject.width;\n        this[id] = item;\n    }\n    addPaletteColor({ id, label, imgID, colorIndex = -1 }) {\n        this.addChild(this.ccid({ id: id, rid: imgID, render: \"DOM\", width: 40, height: 40, onclick: evt => {\n                this.color = evt.target.colorIndex;\n                this._refresh();\n            } }));\n        this[id].view.css(\"position\", \"relative\");\n        this[id].colorIndex = colorIndex;\n    }\n    _refresh() {\n        this.onchange.dispatch({ target: this });\n    }\n    getConfig() {\n        console.log(\"this.noteMin.value\", this.noteMin.value);\n        return {\n            random: this.random.value === \"oui\",\n            tonique: this.tonique.value,\n            gamme: this.gamme.value,\n            indexMin: Number(this.noteMin.value),\n            // indexMin: Number(this.indexMin.value),\n            indexMax: Number(this.noteMax.value),\n            intervalMin: Number(this.intervalMin.value),\n            intervalMax: Number(this.intervalMax.value),\n        };\n    }\n    setConfig({ random = false, tonique = \"do\", gamme = \"chromatic\", indexMin, indexMax, intervalMin, intervalMax }) {\n        this.random.value = random ? \"oui\" : \"non\";\n        this.gamme.value = gamme;\n        this.tonique.value = tonique;\n        this.noteMin.value = indexMin;\n        this.noteMax.value = indexMax;\n        this.intervalMin.value = intervalMin;\n        this.intervalMax.value = intervalMax;\n    }\n    /*******************************************************************************\n    * START\n    */\n    start() {\n    }\n    setInfo({ title = \"\", desc = \"\" }) {\n        this.sceneName.text = title;\n        this.sceneDesc.text = desc.replace(/\\n/g, \"<br>\");\n    }\n}\n"]}