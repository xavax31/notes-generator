/**
     * JX Engine v 1.0
     * @license: MIT
     */

define("jx/core/Resource",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function i(e){e.id,e.type,e.src;t(this,i),this.ready=!1,this.id="",this.type="",this.src="",this.preload=!1,this.data=null;for(var n in arguments[0])this[n]=arguments[0][n]};e["default"]=n}),define("jx/core/loaders/ClassLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"kill",value:function(){this.jx&&(this.onFinished=null,this.resource=null,this.jx=null)}},{key:"load",value:function(){var e=this;this.jx.db.importClass([this.resource.src],function(t){e.resource.data=t,e.resource.ready=!0,e.onFinished({target:e,resource:e.resource,success:!0})},function(t){console.log(e.resource.id,e.resource.src,t),e.onFinished({target:e,resource:e.resource,success:!1})})}}]),e}();e["default"]=i}),define("jx/core/BatchLoader",["exports","jx/core/loaders/ClassLoader"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={text:"TextLoader",json:"JSONLoader",image:"ImageLoader",imagesequence:"ImageSequenceLoader",flashtml:"FlashtmlLoader",Flashtml:"FlashtmlLoader",spritesheet:"SpriteSheetLoader"},a=function(){function e(t,n,o){var a=this;i(this,e),this.jx=o,this.onResourcesLoaded=n,this._loaders=[],this.loadedResources=[],this.failedResources=[];for(var u=t.length,c=0;u>c;c++){var l=t[c],h=l.type;switch(l.type=l.type.toLowerCase(),l.type){case"video":break;case"class":this._loaders.unshift(new r["default"](l,$.proxy(this._onResourceLoaded,this),this.jx));break;case"sound":this.jx.config.system.audio.isWebAudioSupported?this._loaders.push(new(this.jx.db.findOne({id:"SoundLoader"}).data)(l,function(e){return a._onResourceLoaded(e)},this.jx)):this._loaders.push(new(this.jx.db.findOne({id:"SoundLoaderMediaElement"}).data)(l,function(e){return a._onResourceLoaded(e)},this.jx));break;default:if(s[l.type])this._loaders.push(new(this.jx.db.findOne({id:s[l.type]}).data)(l,function(e){return a._onResourceLoaded(e)},this.jx));else{l.type=h;var f=h.replace(new RegExp(/\./g),"/"),d=this.jx.db.getClass(f);if(d){this.jx.comp[h]=d;var p=d.getLoaderClass();this._loaders.push(new p({resource:l,onloaded:function(e){return a._onResourceLoaded(e)},jx:this.jx}))}else this.jx.debug.error("no loader defined for type ",d),this._onResourceLoaded({resource:l,success:!1})}}}}return o(e,[{key:"kill",value:function(){if(this.jx){for(var e=0;e<this._loaders.length;e++)this._loaders[e].kill();this._loaders=null,this.loadedResources=null,this.failedResources=null,this.jx=null}}},{key:"load",value:function(){if(0==this._loaders.length)this.onResourcesLoaded(this);else for(var e=0;e<this._loaders.length;e++)this._loaders[e].load()}},{key:"_onResourceLoaded",value:function(e){var t=this,n=e.target,i=e.resource,r=e.success,o=this._loaders.indexOf(n);-1==o&&console.error("loader not referenced in BatchLoader",n,i),this._loaders.splice(o,1),r?this.loadedResources.push(i):this.failedResources.push(i),n.kill(),0==this._loaders.length?setTimeout(function(){t.onResourcesLoaded(t)},0):this.jx.debug.log("loaders",this._loaders)}}]),e}();e["default"]=a}),define("jx/core/DBManager",["exports","jx/core/Resource","jx/core/BatchLoader"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(t),s=i(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={Number:"NumberItem",Sound:"SoundItem",Image:"ImageItem",Boolean:"BooleanItem",Flashtml:"FlashtmlItem",FlashtmlPack:"FlashtmlPackItem",ImageSequence:"ImageSequenceItem",FLA:"FLAItem",Video:"VideoItem",SpriteSheet:"SpriteSheetItem","class":"ClassFile",QuizManager:"QuizManagerItem",QuizData:"QuizDataItem",QuizTheme:"QuizThemeItem"},c=function(){function e(t){r(this,e),this.jx=t,this.resourceDB={},this.batchLoadersInfoArray=[]}return a(e,[{key:"kill",value:function(){this.jx&&(this.removeResources(),this.jx=null)}},{key:"addResources",value:function(e){for(var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=this.jx.tools.makeArrayIfSingleObject(e),i=[],r=0;r<n.length;r++){var e=n[r];if("package"==e.type)for(var s=0;s<e.itemsID.length;s++){e.packageID=e.packageID||"";var a=""!==e.packageID?e.packageID+"."+e.itemsID[s]:e.itemsID[s],u={type:e.itemsType,preload:e.preload,id:a,src:e.path+"/"+e.itemsID[s]},c=new o["default"](u);this.resourceDB[c.id]=this.resourceDB[c.id]||c,i.push(this.resourceDB[c.id])}else if("ImageSequence"!=e.type&&void 0!=e.start&&void 0!=e.end)for(var l=e.start;l<=e.end;l++){var u={type:e.type,preload:e.preload,id:this.jx.tools.str.replaceChar({string:e.id,index:l,numberChar:"#",letterChar:"£",mode:"uppercase",a:0}),src:this.jx.tools.str.replaceChar({string:e.src,index:l,numberChar:"#",letterChar:"£",mode:"uppercase",a:0})};i=i.concat(this.addResources([u],t))}else if(e.value!=e.data&&(e.data=e.value),e.src&&t&&("class"==e.type.toLowerCase()&&-1!=e.src.search("^src")?e.src=t+"/js/"+e.src+".js":e.src=t+"/"+e.src),"Sound"==e.type){for(var h=-1!=e.src.search(/\$\{lang\}/),l=0;l<this.jx.config.langs.length;l++){var f=Object.assign({},e);f.id=f.id+"_"+this.jx.config.langs[l],f.lang=this.jx.config.langs[l],f.src=f.src.replace("${lang}",this.jx.config.langs[l]),f.preload=h&&this.jx.config.lang!=this.jx.config.langs[l]?!1:f.preload;var c=new o["default"](f);if(this.resourceDB[c.id]=this.resourceDB[c.id]||c,i.push(this.resourceDB[c.id]),!h)break}e.isMultiLang=!0,e.preload=!1;var d=new o["default"](e);this.resourceDB[d.id]=this.resourceDB[d.id]||d,i.push(this.resourceDB[d.id])}else{var c=new o["default"](e);this.resourceDB[c.id]=this.resourceDB[c.id]||c,i.push(this.resourceDB[c.id])}}return i}},{key:"removeResources",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(e){e=this.jx.tools.makeArrayIfSingleObject(e);for(var t=0;t<e.length;t++)this._removeResource(this.findOne(e[t]))}else{for(var t=0;t<this.batchLoadersInfoArray.length;t++)this.batchLoadersInfoArray[t].batchLoader.kill();this.batchLoadersInfoArray.length=0;for(var n in this.resourceDB)this.resourceDB[n].data=null,"class"==this.resourceDB[n].type&&requirejs.undef(this.resourceDB[n].src),delete this.resourceDB[n]}}},{key:"_removeResource",value:function(e){for(var t in this.resourceDB)if(this.jx.tools.testObjectsEgality([e,this.resourceDB[t]]))return void delete this.resourceDB[t];this.jx.debug.warn("Can't remove resource",e.id,"doesn't exist in DBManager")}},{key:"addAndLoad",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=this.addResources(e,n);i=i.filter(function(e){return!("Sound"==e.type&&void 0==e.lang)}),this.load(i,t)}},{key:"load",value:function(e,t){for(var n,i,r=this,a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e=this.jx.tools.makeArrayIfSingleObject(e),u=new Array,c=0;c<e.length;c++){n=e[c];var l,h=0;for(var f in this.resourceDB){l=this.resourceDB[f],i=!0;for(var d in n)if("data"!=d&&n[d]!=l[d]&&("string"!=this.jx.tools.instanceType(l[d])||-1==l[d].search(new RegExp(n[d])))){i=!1;break}i&&(h++,(!l.ready||a.reload)&&u.push(l))}if(0==h&&n.src){var p=new o["default"]({id:n.src,src:n.src,type:n.type});u.push(p),h++}0==h&&this.jx.debug.warn("> DB: No resource found for request: ",n)}var v=new s["default"](u,function(e){return r._onResourceLoaded(e)},this.jx);this.batchLoadersInfoArray.push({batchLoader:v,onResourcesLoaded:t}),v.load()}},{key:"_onResourceLoaded",value:function(e){for(var t=0;t<this.batchLoadersInfoArray.length;t++){var n=this.batchLoadersInfoArray[t];if(n.batchLoader===e){var i={resources:{},failed:[],loaded:[],resourcesArr:[]};if(e.failedResources.length>0)for(var r=0;r<e.failedResources.length;r++){var o=e.failedResources[r];console.warn("failed resource ",o),i.resources[o.id]=o,i.failed.push(o),i.resourcesArr.push(o)}if(e.loadedResources.length>0)for(var s=0;s<e.loadedResources.length;s++){var o=e.loadedResources[s];this.jx.debug.log("loaded resource ",o),"class"==o.type?this.jx.comp[o.id]=o.data:"flashtml"==o.type.toLowerCase()&&(o.data=this.jx.cc({type:"FlashLib",id:o.id,resourceID:o.id})),i.resources[o.id]=o,i.loaded.push(o),i.resourcesArr.push(o)}e.kill(),this.batchLoadersInfoArray.splice(t,1),n.onResourcesLoaded(i);break}}}},{key:"find",value:function(e){var t=[],n=!1;if("array"!=this.jx.tools.instanceType(e)){var i=e.lang;delete e.lang;for(var r in this.resourceDB){n=!0;for(var o in e)if("id"==o&&e[o]instanceof RegExp){if(-1==this.resourceDB[r][o].search(e[o])){n=!1;break}}else if(e[o]!=this.resourceDB[r][o]){n=!1;break}if(n){if(this.resourceDB[r].isMultiLang)if(i){var s=this.find({id:r+"_"+i});s=s.length>0&&s[0].data?s[0]:this.find({id:r+"_"+this.jx.config.langs[0]})[0]}else s=this.find({id:r+"_"+this.jx.config.langs[0]})[0];else var s=this.resourceDB[r];t.push(s)}}return null==t.length&&this.jx.debug.warn("No resources found on DBManager for ",e),t}for(var a=0;a<e.length;a++)t.concat(this.find(e[a]))}},{key:"findOne",value:function(e){var t=this.find(e)[0];return void 0==t||"DataObject"!=t.type&&"TextStyle"!=t.type||this.cascadeDataObject(t.data),t}},{key:"exists",value:function(e){return this.resourceDB[e.id]?!0:!1}},{key:"cascadeDataObject",value:function(e){var t=e["->"];if(t){delete e["->"];var n=this.styleDB[t];if(n){for(var i in n)e.hasOwnProperty(i)||(e[i]=n[i]);e=this.cascadeStyle(e)}else this.jx.debug.warn("Failed to inherit Style",e["->"])}return e}},{key:"log",value:function(){function e(e,t){return"jx"==e?"jx":"data"==e&&void 0!=t&&void 0!==t._lib?"flashlibData":"parent"==e?"parent":t}var t={resources:this.resourceDB};try{var n=JSON.stringify(t,e,4);return console.log(n),JSON.stringify(t,e,4)}catch(i){return console.warn("DBManager.log json cannot be constructed from resourceDB"),console.log(this.resourceDB),this.resourceDB}}},{key:"getClass",value:function(e){if(!requirejs.defined(e))return null;var t=requirejs(e);return t=t["default"]||t}},{key:"importClass",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?function(e){}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?function(e){}:arguments[2];requirejs(e,function(e){var n=e["default"]||e;t(n)},function(e){n(e)})}},{key:"importJSFile",value:function(e,t){requirejs(e,t,function(e){return t({error:e})})}},{key:"classDefined",value:function(e){return requirejs.defined(e)}},{key:"classFromID",value:function(e){return this.getParameter({id:e})}},{key:"getClassFromItemData",value:function(e){var t,n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("string"==typeof e.type){var i=null,r=null,o=e.type.split(".");o.length>1?(r=o[o.length-1],o.pop(),i=o.join("/")):r=o[0],i||(i=void 0!=e.editor&&void 0!=e.editor.type?e.editor.type:n),r=u[r]||r,this.jx.db.classDefined("jx/editor/"+i+"/"+r)?t=this.jx.db.getClass("jx/editor/"+i+"/"+r):this.jx.db.findOne({id:e.type})?t=this.jx.db.findOne({id:e.type}).data:this.jx.db.classDefined(i+"/"+r)&&(t=this.jx.db.getClass(i+"/"+r))}else console.log(e),t=e.type;return t}},{key:"createComp",value:function(e,t){var n=this.classFromID(e);return new n(t)}},{key:"getParameter",value:function(e){var t=this.findOne({id:e});return t?t.data:null}},{key:"getDataGroup",value:function(e){for(var t={},n=this.jx.db.find({id:new RegExp("^"+e+".")}),i=void 0,r=0;r<n.length;r++){var o=n[r].id.split(".");i=t;for(var s=0;s<o.length;s++)s<o.length-1?(i[o[s]]=i[o[s]]||{},i=i[o[s]]):i[o[s]]=n[r]}return t}},{key:"getFlashSymbol",value:function(e){var t=e.libRID,n=e.symbolID,i=this.jx.db.findOne({id:t});if(!i)return console.error("FlashLib ",t,"not found"),null;if(!i.data)return console.error("FlashLib ",t,"not loaded"),null;var r=i.data;console.log(r);var o=r.getFromSymbol(n);return o?o:(console.error("Flash symbol",n,"not found in FlashLib",t),null)}},{key:"importConfig",value:function(e,t){var n=this,i=arguments.length<=2||void 0===arguments[2]?null:arguments[2];this.importClass(["jx/projecttypes/"+e.toLowerCase()+"/Importer"],function(e){new e(n.jx,i).importConfig(t)})}},{key:"exportConfig",value:function(e,t,n){var i=this;this.importClass(["jx/projecttypes/"+e.toLowerCase()+"/Exporter"],function(e){new e(i.jx,n).exportConfig(t)})}},{key:"loadText",value:function(e,t){$.ajax({type:"GET",url:e,dataType:"text",success:function(e){t(e)},error:function(e,n,i){t({error:!0,message:i})}})}},{key:"loadTextPromise",value:function(e){return new Promise(function(t){$.ajax({type:"GET",url:e,dataType:"text",success:function(e){t(e)},error:function(e,n,i){t({error:!0,message:i})}})})}},{key:"saveText",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];this._callService("writefile",{url:e,text:t},function(){n()})}},{key:"saveTextPromise",value:function(e,t){var n=this;return new Promise(function(i){n._callService("writefile",{url:e,text:t},function(){i(!0)})})}},{key:"saveJSON",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];this.saveText(e,JSON.stringify(t,null,4),n)}},{key:"saveJSONPromise",value:function(e,t){var n=this;arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];return new Promise(function(i){n.saveText(e,JSON.stringify(t,null,4),function(){return i(!0)})})}},{key:"saveJSONCompressed",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(){}:arguments[2];this.saveText(e,JSON.stringify(t),n)}},{key:"_callService",value:function(e,t,n){$.ajax({type:"POST",url:"services/"+e,dataType:"json",data:{params:JSON.stringify(t)},success:function(e){n(e)},beforeSend:function(e,t){},error:function(e,t,n){console.error(e.responseText)}})}}]),e}();e["default"]=c}),define("jx/core/Factory",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i={Visual:"VisualComponent"},r=function(){function e(n){t(this,e),this.jx=n,this._uniqID=0,this.defaultComponents={image:"Image",video:"Video",imagesequence:"ImageSequence",text:"Text",flashtml:"Clip"}}return n(e,[{key:"kill",value:function(){this._killed||(this._killed=!0,this.jx=null)}},{key:"createComp",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.parentComponent=e.parentComponent||null,e.isJXComponent)return e;if("string"==this.jx.tools.instanceType(e)&&(e=this.jx.db.findOne({id:e}).data),"array"==this.jx.tools.instanceType(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.createComp(e[n]));return t}e=Object.assign({},e),e=this._deductComponentTypeToUse(e);var i=this._getClassComponentToUse(e);e.jx=this.jx,e.id=e.id||("string"==typeof e.type?e.type:"Component")+ ++this._uniqID,window.jx._lastJX=this.jx,window.jx._lastRender=e.render;var r=new i(e);return r}},{key:"_deductComponentTypeToUse",value:function(e){if(e.type=e.type||"auto",e.type=i[e.type]||e.type,(e.resourceID||e.rid)&&(e.resourceID=e.resourceID||e.rid),delete e.rid,"auto"==e.type&&void 0==e.resourceID)e.type="Component";else if("auto"==e.type||"VisualComponent"==e.type||"Animation"==e.type){var t=this.jx.db.findOne({id:e.resourceID});if(null==t)return void this.jx.debug.error("Component type not defined in createComp",e,t);if(e.type=t.compType||this.defaultComponents[t.type]||t.type,null!=t.data&&("dataobject"==e.type.toLowerCase()||"FlashtmlPack"==e.type||"FlashtmlResource"==e.type)){var n=this.jx.db.findOne({id:t.data.resourceID});e.type=this.defaultComponents[n.type]||n.type,e=this.jx.tools.mergeObject(e,t.data)}}return e}},{key:"_getClassComponentToUse",value:function(e){var t=void 0;switch(jx.tools.instanceType(e.type)){case"string":e.render=this.jx.config.app.defaultRenderers[e.type.toLowerCase()]||e.render||(e.parentComponent?e.parentComponent.render:!1)||this.jx.config.app.defaultViewType;var n=e.type+e.render;t=this.jx.comp[n]||this.jx.comp[e.type];break;default:t=e.type}return null==t&&console.warn("Component type not exists",e),t}}]),e}();e["default"]=r}),define("jx/core/Config",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n){t(this,e),this.jx=n,this._detectDevice(),this.langs=["fr"],this.lang="fr",this.urlParams=this.jx.tools.getURLParameters(),this._system=new s(this),this._projectInfo=new r,this._flashOptimizer=new o,this.system.host.type=-1==window.location.href.search("localhost")?"server":"local",this.system.needUserActionToWork=void 0==this.urlParams.startbtn?this.system.needUserActionToWork:this.urlParams.startbtn,this.useClickOnTouchScreens=!0}return n(e,[{key:"kill",value:function(){this._system.kill(),this._system=null,this._projectInfo=null,this._flashOptimizer=null,this.jx=null}},{key:"setProjectInfo",value:function(e){e&&(Object.assign(this._projectInfo,e.project||{}),Object.assign(this._projectInfo,e.engine||{}),Object.assign(this._projectInfo,e.config||{}))}},{key:"init",value:function(){var e=this.jx.db.findOne({id:"ScreenRatio"});if(e){var t=e.data.split("/");this.app.ratio=Number(t[0])/Number(t[1])}}},{key:"_detectDevice",value:function(){!function(e){var t=/iPhone/i,n=/iPod/i,i=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,u=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,l=/BlackBerry/i,h=/BB10/i,f=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,p=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,v=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),g=function(e,t){return e.test(t)},y=function(e){var y=e||navigator.userAgent,m=y.split("[FBAN");return"undefined"!=typeof m[1]&&(y=m[0]),m=y.split("Twitter"),"undefined"!=typeof m[1]&&(y=m[0]),this.apple={phone:g(t,y),ipod:g(n,y),tablet:!g(t,y)&&g(i,y),device:g(t,y)||g(n,y)||g(i,y)},this.amazon={phone:g(s,y),tablet:!g(s,y)&&g(a,y),device:g(s,y)||g(a,y)},this.android={phone:g(s,y)||g(r,y),tablet:!g(s,y)&&!g(r,y)&&(g(a,y)||g(o,y)),device:g(s,y)||g(a,y)||g(r,y)||g(o,y)},this.windows={phone:g(u,y),tablet:g(c,y),device:g(u,y)||g(c,y)},this.other={blackberry:g(l,y),blackberry10:g(h,y),opera:g(f,y),firefox:g(p,y),chrome:g(d,y),device:g(l,y)||g(h,y)||g(f,y)||g(p,y)||g(d,y)},this.seven_inch=g(v,y),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},m=function(){var e=new y;return e.Class=y,e};e.isMobile=m()}(window)}},{key:"system",get:function(){return this._system}},{key:"flashOptimizer",get:function(){return this._flashOptimizer}},{key:"app",get:function(){return this._projectInfo}},{key:"useClickOnTouchScreens",set:function(e){this._useClickOnTouchScreens=e},get:function(){return"mobile"!==this._system.device.support||this._useClickOnTouchScreens}}]),e}();e["default"]=i;var r=e.ProjectInfos=function a(){t(this,a),this.quality=1,this.monitor={enabled:!0},this.framerate=50,this.ratio=4/3,this.defaultStageResolution={width:800,height:600},this.defaultRenderers={video:"DOM"},this.defaultViewType="DOM",this.lockDelayAfterClick=0},o=e.FlashOptimizer=function u(){t(this,u),this.spriteSheetMaxWidth=2048,this.spriteSheetMaxHeight=2048,this.cacheStatics="always",this.quality="good"},s=e.SystemInfo=function(){function e(n){var i=this;t(this,e),this._config=n,this.device={support:"desktop",type:"mac",version:"book2013"},this.os={type:"os",version:"10.10.5"},this.host={type:"server"},this.container={type:"browser",name:"chrome"},$(window).on("resize",function(e){i.screen.resolutionUser.width=$(window).width(),i.screen.resolutionUser.height=$(window).height()}),this.screen={resolutionUser:{width:$(window).width(),height:$(window).height()},resolution:{width:screen.width,height:screen.height},ratio:4/3,pixelRatio:window.devicePixelRatio},this.audio={needUserActionToWork:!1,isWebAudioSupported:!1,isHTMLAudioSupported:createjs.HTMLAudioPlugin.isSupported()},this.video={needUserActionToWork:!1},this.battery=null,this.connection={online:navigator.onLine},this.needUserActionToWork=!1,this._init()}return n(e,[{key:"kill",value:function(){this._batteryRemoveListeners()}},{key:"_init",value:function(){var e=this;this.device.support=isMobile.any?"mobile":"desktop",this.blockMobileContextualMenu=!0,this.blockMobileScroll=!0,-1!=navigator.userAgent.search(/ipad/i)?this.device.type="ipad":-1!=navigator.userAgent.search(/android/i)?this.device.type="android":(-1!=navigator.userAgent.search(/Macintosh/i)&&(this.device.type="mac"),-1!=navigator.userAgent.search(/Windows/i)&&(this.device.type="windows")),"cordova"==this._config.urlParams.context?(this.container.type="cordova",this.container.name=""):"bayam"==this._config.urlParams.context?(this.container.type="bayam",this.container.name=""):"azoomee"==this._config.urlParams.context||"azoomee"==window.overrideJXConfig.context?(this.container.type="azoomee",this.container.name=""):-1!=navigator.userAgent.search(/Chrome/i)?(this.container.type="browser",this.container.name="chrome"):-1!=navigator.userAgent.search(/Safari/i)?(this.container.type="browser",this.container.name="safari"):-1!=navigator.userAgent.search(/Firefox/i)?(this.container.type="browser",this.container.name="firefox"):(this.container.type="browser",this.container.name="unknown"),this.audio.needUserActionToWork="browser"==this.container.type,this.video.needUserActionToWork="browser"==this.container.type,this.needUserActionToWork=this.video.needUserActionToWork||this.audio.needUserActionToWork,this.audio.isWebAudioSupported="aquafadas"!=this.container.type&&"azoomee"!=this.container.type,this._getBatteryInfos(),window.addEventListener("offline",function(t){e.connection.online=!1}),window.addEventListener("online",function(t){e.connection.online=!0})}},{key:"_getBatteryInfos",value:function(){var e=this;navigator.battery&&navigator.getBattery().then(function(t){e.battery={core:t,charging:t.charging,level:t.level,chargingTime:t.chargingTime,dischargingTime:t.dischargingTime},e.battery._listeners={charging:function(){return e.battery.charging=t.charging},level:function(){return e.battery.level=t.level},chargingTime:function(){return e.battery.chargingTime=t.chargingTime},dischargingTime:function(){return e.battery.dischargingTime=t.dischargingTime}},e._batteryAddListeners()})}},{key:"_batteryAddListeners",value:function(){navigator.battery&&(battery.addEventListener("chargingchange",this.battery._listeners.charging),battery.addEventListener("levelchange",this.battery._listeners.level),battery.addEventListener("chargingtimechange",this.battery._listeners.chargingTime),battery.addEventListener("dischargingtimechange",this.battery._listeners.dischargingTime))}},{key:"_batteryRemoveListeners",value:function(){navigator.battery&&(battery.removeEventListener("chargingchange",this.battery._listeners.charging),battery.removeEventListener("levelchange",this.battery._listeners.level),battery.removeEventListener("chargingtimechange",this.battery._listeners.chargingTime),battery.removeEventListener("dischargingtimechange",this.battery._listeners.dischargingTime))}},{key:"blockMobileContextualMenu",set:function(e){$("body").css("-webkit-touch-callout",e?"none":"default")},get:function(){return"none"==$("body").css("-webkit-touch-callout")?!0:!1}},{key:"blockMobileScroll",set:function(e){jx._blockMobileScroll!==e&&(jx._blockMobileScroll=e,jx._blockMobileScroll?(jx._blockMobileScrollListener=jx._blockMobileScrollListener||function(e){e.preventDefault()},document.removeEventListener("touchmove",jx._blockMobileScrollListener),document.addEventListener("touchmove",jx._blockMobileScrollListener)):document.removeEventListener("touchmove",jx._blockMobileScrollListener))},get:function(){return this._blockMobileScroll}}]),e}()}),define("jx/core/utils/Tools",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=void 0,o=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],s=function(){function e(){t(this,e),this.cjs=l,this.str=a,this.obj=u,this.arr=c,this.math=h,this.date=f,this.color=d,r=this}return i(e,[{key:"intToString",value:function(e,t){for(var n=String(e),i=n.length,r=[],o=0;t>o;o++)r.unshift(void 0==n[i-1-o]?"0":n[i-1-o]);return r.join("")}},{key:"gd",value:function(){return this.intToString.apply(this,arguments)}},{key:"instanceType",value:function(e){return Array.isArray(e)?"array":"undefined"==typeof e?"undefined":n(e)}},{key:"forChar",value:function(e,t,n){for(var i=e.toLowerCase(),r=i!==e,o=t.toLowerCase(),s=this.str.getLetterIndex(i),a=this.str.getLetterIndex(o),u=s;a>=u;u++)n(r?this.str.getLetterFromIndex(u).toUpperCase():this.str.getLetterFromIndex(u),u)}},{key:"getURLParameters",value:function(){for(var e=window.location.search.substring(1),t=e.split("&"),n={},i=0;i<t.length;i++){var r=t[i].split("=");n[r[0]]=r[1]}return n}},{key:"openURL",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];window.open(e,t)}},{key:"arrayContains",value:function(e,t){return $.inArray(t,e)}},{key:"arrayContainsAllIdentical",value:function(e){for(var t=1;t<e.length;t++)if(e[t]!=e[0])return!1;return!0}},{key:"arrayRemoveDouble",value:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.indexOf(i)<0&&t.push(i)}return t}},{key:"makeArrayIfSingleObject",value:function(e){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e}},{key:"mergeObject",value:function(e,t){if(t&&e)for(var i in t)void 0!=t[i]&&(Array.isArray(e[i])||"object"!=n(e[i])||null==e[i]?e[i]=t[i]:this.mergeObject(e[i],t[i]));return e}},{key:"mergeObjectIn",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(t&&e)for(var n in t)void 0!=t[n]&&"object"==this.instanceType(t[n])?(e[n]=e[n]||{},this.mergeObjectIn(e[n],t[n])):e[n]=t[n];return e}},{key:"updateObject",value:function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n]);return e}},{key:"fillObject",value:function(e,t){return Object.assign(e,t)}},{key:"cloneObject",value:function(e){var t,n={};for(t in e)"object"==this.instanceType(e[t])?n[t]=this.cloneObject(e[t]):n[t]=e[t];return n}},{key:"testObjectsEgality",value:function(e){for(var t=e[0],n=1;n<e.length;n++)for(var i in e[n])if(t[i]!=e[n][i])return!1;return!0}},{key:"capitalizeEachWord",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"getLetterFromIndex",value:function(e){return o[e]}},{key:"replaceCharByNumber",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"#":arguments[2],i=arguments.length<=3||void 0===arguments[3]?4:arguments[3];if(!e)return e;for(var r=e,o=i;o>0;o--)r=r.replace(this.stringRepeat(n,o),this.intToString(t,o));return r}},{key:"stringRepeat",value:function(e,t){for(var n="",i=0;t>i;i++)n+=e;return n}}]),e}();e["default"]=s;var a=e.StringFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"getLetterFromIndex",value:function(e){return o[e]}},{key:"getLetterIndex",value:function(e){return o.indexOf(e.toLowerCase())}},{key:"capitalizeEachWord",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"replaceCharByNumber",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=arguments.length<=2||void 0===arguments[2]?"#":arguments[2],o=arguments.length<=3||void 0===arguments[3]?4:arguments[3];if(!t)return t;var s,a=t;for(s=o;s>0;s--)a=a.replace(e.stringRepeat(i,s),r.intToString(n,s));return a}},{key:"replaceCharByLetter",value:function(t){var n=t.string,i=t.letter,r=void 0===i?0:i,o=t["char"],s=void 0===o?"#":o,a=t.mode,u=void 0===a?"lowercase":a,c=t.a,l=void 0===c?0:c;if(!n)return n;switch("number"==typeof r&&(r=e.getLetterFromIndex(r-l)),u){case"lowercase":r=r.toLowerCase();break;case"uppercase":r=r.toUpperCase()}return n.replace(s,r)}},{key:"replaceChar",value:function(t){var n=t.string,i=t.index,r=void 0===i?0:i,o=t.numberChar,s=void 0===o?"#":o,a=t.letterChar,u=void 0===a?"£":a,c=t.mode,l=void 0===c?"none":c,h=t.a,f=void 0===h?0:h;return e.replaceCharByLetter({string:e.replaceCharByNumber(n,r,s),letter:r,"char":u,mode:l,a:f})}},{key:"underscoreToCamelCase",value:function(e){for(var t="",n=!1,i=0;i<e.length;i++)"_"==e[i]?n=!0:n?(t+=e[i].toUpperCase(),n=!1):t+=e[i].toLowerCase();return t}},{key:"stringRepeat",value:function(e,t){for(var n="",i=0;t>i;i++)n+=e;return n}}]),e}(),u=e.ObjectFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"merge",value:function(t,i){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];for(var o in i)void 0!=t[o]&&r&&!Array.isArray(t[o])&&"object"==n(t[o])&&null!=t[o]?e.merge(t[o],i[o],r):t[o]=i[o];return t}},{key:"clone",value:function o(e){var o={};for(var t in e)"object"==this.instanceType(e[t])?o[t]=this.cloneObject(e[t]):o[t]=e[t];return o}},{key:"filter",value:function(e,t){for(var n in t)void 0!==e[n]&&(t[n]=e[n]);return t}},{key:"egality",value:function(e){for(var t=e[0],n=1;n<e.length;n++)for(var i in e[n])if(t[i]!=e[n][i])return!1;return!0}},{key:"addObjectProperties",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"*":arguments[2],i=void 0;"*"!=n?(i=n.split(","),i.forEach(function(e,t,n){n[t]=e.trim()})):i="*";for(var r in t)("*"==i||-1!==i.indexOf(r))&&(e[r]=t[r]);return e}},{key:"createPropertiesFromPattern",value:function(e){var t=e.obj,n=void 0===t?{}:t,i=e.string,o=e.start,s=e.end,a=e.value,u=void 0===a?null:a,c=e.mode,l=void 0===c?"none":c,h=e.a,f=void 0===h?0:h;if("number"==typeof o&&"number"==typeof s)for(var d=o;s>=d;d++)n[r.str.replaceChar({
string:i,index:d,mode:l,a:f})]=u;else"string"==typeof o&&"string"==typeof s?jx.tools.forChar(o,s,function(e,t){n[i.replace(new RegExp("£","g"),e)]=u}):console.error("Tools.createPropertiesFromPattern: wrong parameters");return n}}]),e}(),c=e.ArrayFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"contains",value:function(e,t){return $.inArray(t,e)}},{key:"containsAllIdentical",value:function(e){for(var t=1;t<e.length;t++)if(e[t]!=e[0])return!1;return!0}},{key:"removeDouble",value:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.indexOf(i)<0&&t.push(i)}return t}},{key:"makeArrayIfSingleObject",value:function(e){return"[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e}},{key:"randomise",value:function(e){for(var t,n=e.slice(),i=[],r=n.length,o=0;r>o;o++)t=h.randomValue(0,n.length-1),i.push(n[t]),n.splice(t,1);return i}}]),e}(),l=e.CJS=function(){function e(){t(this,e)}return i(e,null,[{key:"getChildrenByName",value:function(e,t){for(var n=[],i=new RegExp(t,"g"),r=0;r<e.children.length;r++){var o=e.children[r];null!=o.name&&-1!=o.name.search(i)&&n.push(o)}return n}},{key:"arrangeFlashClipsNames",value:function(t){var n=arguments.length<=1||void 0===arguments[1]?4:arguments[1];for(var i in t)"parent"!=i&&"shape"!=i&&t[i]instanceof createjs.DisplayObject&&(t[i].name=i,n>0&&void 0!=t[i].children&&e.arrangeFlashClipsNames(t[i],n-1))}},{key:"getAbsolutePath",value:function(e){for(var t=e.parent,n=e.name;t;)n=t.name+"."+n,t=t.parent;return n}}]),e}(),h=e.MathFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"randomValue",value:function(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;return n}},{key:"distance",value:function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},{key:"radian2degrees",value:function(e){return 180*e/Math.PI}}]),e}(),f=e.DateFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"getToday",value:function(){var e=new Date;return{timestamp:Date.now(),fr:e.toLocaleString(),utc:e.toUTCString(),file:e.getFullYear()+"-"+Number(e.getMonth()+1)+"-"+e.getDate()+"-"+Number(e.getHours()+1)+"h"+Number(e.getMinutes()+1)+"m"+Number(e.getSeconds()+1)+"s"}}}]),e}(),d=e.ColorFunctions=function(){function e(){t(this,e)}return i(e,null,[{key:"hexToRGB",value:function(e,t){var n=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return{r:n,g:i,b:r,alpha:t}}}]),e}()}),define("jx/core/Debugger",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n){var i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];t(this,e),this.jx=n,this.monitor=null,this._timeMarkers=[],this._timeMarkersGroups={},this.setDebug(i)}return n(e,[{key:"kill",value:function(){this.jx&&(this.jx=null)}},{key:"log",value:function(){var e;this.debugging&&(e=console).log.apply(e,arguments)}},{key:"info",value:function(){var e;this.debugging&&(e=console).info.apply(e,arguments)}},{key:"warn",value:function(){var e;this.debugging&&(e=console).error.apply(e,arguments)}},{key:"error",value:function(){var e;this.debugging&&(e=console).error.apply(e,arguments)}},{key:"alert",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.debugging&&alert(this._convertArguments(e))})},{key:"fatal",value:function(){if(this.debugging){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];throw new(Function.prototype.bind.apply(Error,[null].concat(t)))}}},{key:"_convertArguments",value:function(e){if(this.debugging){for(var t=new Array,n=0;n<arguments.length;n++)t.push(arguments[n]);return t}}},{key:"setDebug",value:function(e){"boolean"==typeof e?this._debugOptions={enabled:e,monitor:e,alert:!1}:this._debugOptions=Object.assign({enabled:!1,monitor:!1,alert:!1},e),this.debugging=this._debugOptions.enabled,this._debugOptions.monitor?this.showMonitor():this.hideMonitor(),this._debugOptions.alert?window.onerror=function(e,t,n,i,r){-1==e.search("afdp")&&alert("Error: "+e+" Script: "+t+" Line: "+n+" Column: "+i+" StackTrace: "+r)}:window.onerror=null}},{key:"showMonitor",value:function(){var e=this;this.monitor||(this.monitor=$('<div id="monitor" style="font-size: 14px; left:0px; padding: 1px 5px; position:absolute; top:0px; z-index:1000;background:#000;color:#FFF;"></div>')),$("body").append(this.monitor),this._tickListener=createjs.Ticker.addEventListener("tick",function(){e.monitor.html("FPS: "+Math.round(createjs.Ticker.getMeasuredFPS())+"/"+Math.round(createjs.Ticker.framerate))})}},{key:"hideMonitor",value:function(){this.monitor&&(this.monitor.remove(),createjs.Ticker.removeEventListener("tick",this._tickListener))}},{key:"logTime",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"none":arguments[1];this._logTimerMarker(this.addTimeMarker(e,t))}},{key:"_getAllFromGroups",value:function(e){for(var t=[],n=0;n<this._timeMarkers.length;n++)this._timeMarkers[n].group==e&&t.push(this._timeMarkers[n]);return t}},{key:"_logTimerMarker",value:function(e){var t=e.group+" 	A:"+e.absolute/1e3+"s 	G:"+e.timeS/1e3+"s I:	"+e.interval/1e3+"s 	"+e.text;console.log(t)}},{key:"addTimeMarker",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"none":arguments[1];this._timeMarkersGroups[t]=this._timeMarkersGroups[t]||[];var n=this._timeMarkersGroups[t],i={text:e,group:t,time:Date.now()};return n.push(i),this._timeMarkers.push(i),i.absolute=i.time-this._timeMarkers[0].time,i.timeS=i.time-n[0].time,i.interval=n.length>1?i.time-n[n.length-2].time:0,i}},{key:"logTimeMarkers",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(console.log("_________\nLOG"),t)for(var n=0;n<this._timeMarkers.length;n++)(null==e||-1!=e.indexOf(this._timeMarkers[n].group))&&this._logTimerMarker(this._timeMarkers[n]);else{if(!e){e=[];for(var i in this._timeMarkersGroups)e.push(i)}for(var n=0;n<e.length;n++)for(var r=this._timeMarkersGroups[e[n]]||[],o=0;o<r.length;o++)this._logTimerMarker(r[o])}console.log("END LOG\n_________")}}]),e}();e["default"]=i}),define("jx/core/JXCore",["exports","jx/core/DBManager","jx/core/Factory","jx/core/Config","jx/core/utils/Tools","jx/core/Debugger"],function(e,t,n,i,r,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var u=s(t),c=s(n),l=s(i),h=s(r),f=s(o),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p="0.2.0",v=function(){function e(t){var n=this,i=t.debug,r=void 0===i?!1:i;a(this,e),window.jx=this,r&&(window.onerror=function(e,t,n,i,r){-1==e.search("afdp")&&alert("Error: "+e+" Script: "+t+" Line: "+n+" Column: "+i+" StackTrace: "+r)}),this.comp={},this.tools=new h["default"],Object.assign instanceof Function||(Object.assign=this.tools.mergeObject),Object.is||(Object.is=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this.config=new l["default"](this),this.db=new u["default"](this),this.factory=new c["default"](this),this.debug=new f["default"](this,r),this.cc=function(e){return n.factory.createComp(e)},this.log=console.log.bind(console)}return d(e,[{key:"kill",value:function(){if(!this._killed){this._killed=!0;try{this.db.kill(),this.db=null,this.config.kill(),this.config=null,this.factory.kill(),this.factory=null,this.debug.kill(),this.debug=null,this.comp=null,this.ticker=null,this.memo=null,this.layout=null,this.fx=null,this.log=null,this.global=null,this.tools=null,this.cc=null,this.log=null,this._lastJX=null,window.jx=null,window.jxCore=null,requirejs.undef("jx/core/DBManager")}catch(e){console.warn("errors while killing application",e)}}}},{key:"_initialise",value:function(){this.loadingScreen=new(this.db.findOne({id:"BusyScreen"}).data)({jx:this}),this.memo=new(this.db.findOne({id:"MemoManager"}).data)({jx:this}),this.layout=new(this.db.findOne({id:"Layout"}).data)({jx:this}),this.fx=new(this.db.findOne({id:"FXManager"}).data)({jx:this}),this.dj=new(this.db.findOne({id:"SoundManager"}).data)({jx:this})}},{key:"extendsFrom",value:function(e){return console.log("extendsFrom",this._lastJX),this._lastJX?this._lastJX.db.findOne({id:e+this._lastRender}).data:null}},{key:"toString",value:function(){return"JXCore v"+p}},{key:"version",get:function(){return p}}]),e}();e["default"]=v}),!function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return r(n||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){(function(t){"use strict";function n(e,t,n){e[t]||Object[i](e,t,{writable:!0,configurable:!0,value:n})}if(e(327),e(328),e(2),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var i="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(e,t,n){e(130),t.exports=e(23).RegExp.escape},{130:130,23:23}],3:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],4:[function(e,t,n){var i=e(18);t.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},{18:18}],5:[function(e,t,n){var i=e(128)("unscopables"),r=Array.prototype;void 0==r[i]&&e(42)(r,i,{}),t.exports=function(e){r[i][e]=!0}},{128:128,42:42}],6:[function(e,t,n){t.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},{}],7:[function(e,t,n){var i=e(51);t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{51:51}],8:[function(e,t,n){"use strict";var i=e(119),r=e(114),o=e(118);t.exports=[].copyWithin||function(e,t){var n=i(this),s=o(n.length),a=r(e,s),u=r(t,s),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?s:r(c,s))-u,s-a),h=1;for(a>u&&u+l>a&&(h=-1,u+=l-1,a+=l-1);l-- >0;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},{114:114,118:118,119:119}],9:[function(e,t,n){"use strict";var i=e(119),r=e(114),o=e(118);t.exports=function(e){for(var t=i(this),n=o(t.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),u=s>2?arguments[2]:void 0,c=void 0===u?n:r(u,n);c>a;)t[a++]=e;return t}},{114:114,118:118,119:119}],10:[function(e,t,n){var i=e(39);t.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},{39:39}],11:[function(e,t,n){var i=e(117),r=e(118),o=e(114);t.exports=function(e){return function(t,n,s){var a,u=i(t),c=r(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},{114:114,117:117,118:118}],12:[function(e,t,n){var i=e(25),r=e(47),o=e(119),s=e(118),a=e(15);t.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,h=6==e,f=5==e||h,d=t||a;return function(t,a,p){for(var v,g,y=o(t),m=r(y),b=i(a,p,3),_=s(m.length),w=0,j=n?d(t,_):u?d(t,0):void 0;_>w;w++)if((f||w in m)&&(v=m[w],g=b(v,w,y),e))if(n)j[w]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:j.push(v)}else if(l)return!1;return h?-1:c||l?l:j}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(e,t,n){var i=e(3),r=e(119),o=e(47),s=e(118);t.exports=function(e,t,n,a,u){i(t);var c=r(e),l=o(c),h=s(c.length),f=u?h-1:0,d=u?-1:1;if(2>n)for(;;){if(f in l){a=l[f],f+=d;break}if(f+=d,u?0>f:f>=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:h>f;f+=d)f in l&&(a=t(a,l[f],f,c));return a}},{118:118,119:119,3:3,47:47}],14:[function(e,t,n){var i=e(51),r=e(49),o=e(128)("species");t.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{128:128,49:49,51:51}],15:[function(e,t,n){var i=e(14);t.exports=function(e,t){return new(i(e))(t)}},{14:14}],16:[function(e,t,n){"use strict";var i=e(3),r=e(51),o=e(46),s=[].slice,a={},u=function(e,t,n){if(!(t in a)){for(var i=[],r=0;t>r;r++)i[r]="a["+r+"]";a[t]=Function("F,a","return new F("+i.join(",")+")")}return a[t](e,n)};t.exports=Function.bind||function(e){var t=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?u(t,i.length,i):o(t,i,e)};return r(t.prototype)&&(a.prototype=t.prototype),a}},{3:3,46:46,51:51}],17:[function(e,t,n){var i=e(18),r=e(128)("toStringTag"),o="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},{128:128,18:18}],18:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],19:[function(e,t,n){"use strict";var i=e(72).f,r=e(71),o=e(93),s=e(25),a=e(6),u=e(39),c=e(55),l=e(57),h=e(100),f=e(29),d=e(66).fastKey,p=e(125),v=f?"_s":"size",g=function(e,t){var n,i=d(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var l=e(function(e,i){a(e,l,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=i&&u(i,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=p(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[v]=0},"delete":function(e){var n=p(this,t),i=g(n,e);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(e){p(this,t);for(var n,i=s(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(p(this,t),e)}}),f&&i(l.prototype,"size",{get:function(){return p(this,t)[v]}}),l},def:function(e,t,n){var i,r,o=g(e,t);return o?o.v=n:(e._l=o={i:r=d(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[v]++,"F"!==r&&(e._i[r]=o)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?l(0,n.k):"values"==t?l(0,n.v):l(0,[n.k,n.v]):(e._t=void 0,l(1))},n?"entries":"values",!n,!0),h(t)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(e,t,n){var i=e(17),r=e(10);t.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(e,t,n){"use strict";var i=e(93),r=e(66).getWeak,o=e(7),s=e(51),a=e(6),u=e(39),c=e(12),l=e(41),h=e(125),f=c(5),d=c(6),p=0,v=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},y=function(e,t){return f(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=y(this,e);return t?t[1]:void 0},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){var c=e(function(e,i){a(e,c,t,"_i"),e._t=t,e._i=p++,e._l=void 0,void 0!=i&&u(i,n,e[o],e)});return i(c.prototype,{"delete":function(e){if(!s(e))return!1;var n=r(e);return!0===n?v(h(this,t))["delete"](e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=r(e);return!0===n?v(h(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var i=r(o(t),!0);return!0===i?v(e).set(t,n):i[e._i]=n,e},ufstore:v}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(e,t,n){"use strict";var i=e(40),r=e(33),o=e(94),s=e(93),a=e(66),u=e(39),c=e(6),l=e(51),h=e(35),f=e(56),d=e(101),p=e(45);t.exports=function(e,t,n,v,g,y){var m=i[e],b=m,_=g?"set":"add",w=b&&b.prototype,j={},x=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||w.forEach&&!h(function(){(new b).entries().next()}))){var O=new b,k=O[_](y?{}:-0,1)!=O,S=h(function(){O.has(1)}),C=f(function(e){new b(e)}),P=!y&&h(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});C||(b=t(function(t,n){c(t,b,e);var i=p(new m,t,b);return void 0!=n&&u(n,g,i[_],i),i}),b.prototype=w,w.constructor=b),(S||P)&&(x("delete"),x("has"),g&&x("get")),(P||k)&&x(_),y&&w.clear&&delete w.clear}else b=v.getConstructor(t,e,g,_),s(b.prototype,n),a.NEED=!0;return d(b,e),j[e]=b,r(r.G+r.W+r.F*(b!=m),j),y||v.setStrong(b,e,g),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(e,t,n){var i=t.exports={version:"2.5.0"};"number"==typeof __e&&(__e=i)},{}],24:[function(e,t,n){"use strict";var i=e(72),r=e(92);t.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},{72:72,92:92}],25:[function(e,t,n){var i=e(3);t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{3:3}],26:[function(e,t,n){"use strict";var i=e(35),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(e){return e>9?e:"0"+e};t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!i(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=0>t?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},{35:35}],27:[function(e,t,n){"use strict";var i=e(7),r=e(120);t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!=e)}},{120:120,7:7}],28:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],29:[function(e,t,n){t.exports=!e(35)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{35:35}],30:[function(e,t,n){var i=e(51),r=e(40).document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{40:40,51:51}],31:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(e,t,n){var i=e(81),r=e(78),o=e(82);t.exports=function(e){var t=i(e),n=r.f;if(n)for(var s,a=n(e),u=o.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},{78:78,81:81,82:82}],33:[function(e,t,n){var i=e(40),r=e(23),o=e(42),s=e(94),a=e(25),u=function(e,t,n){var c,l,h,f,d=e&u.F,p=e&u.G,v=e&u.S,g=e&u.P,y=e&u.B,m=p?i:v?i[t]||(i[t]={}):(i[t]||{}).prototype,b=p?r:r[t]||(r[t]={}),_=b.prototype||(b.prototype={});p&&(n=t);for(c in n)l=!d&&m&&void 0!==m[c],h=(l?m:n)[c],f=y&&l?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,m&&s(m,c,h,e&u.U),b[c]!=h&&o(b,c,f),g&&_[c]!=h&&(_[c]=h)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},{23:23,25:25,40:40,42:42,94:94}],34:[function(e,t,n){var i=e(128)("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},{128:128}],35:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],36:[function(e,t,n){"use strict";var i=e(42),r=e(94),o=e(35),s=e(28),a=e(128);t.exports=function(e,t,n){var u=a(e),c=n(s,u,""[e]),l=c[0],h=c[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,l),i(RegExp.prototype,u,2==t?function(e,t){return h.call(e,this,t)}:function(e){return h.call(e,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(e,t,n){"use strict";var i=e(7);t.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{7:7}],38:[function(e,t,n){"use strict";function i(e,t,n,c,l,h,f,d){for(var p,v,g=l,y=0,m=!!f&&a(f,d,3);c>y;){if(y in n){if(p=m?m(n[y],y,t):n[y],v=!1,o(p)&&(v=p[u],v=void 0!==v?!!v:r(p)),v&&h>0)g=i(e,t,p,s(p.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=p}g++}y++}return g}var r=e(49),o=e(51),s=e(118),a=e(25),u=e(128)("isConcatSpreadable");t.exports=i},{118:118,128:128,25:25,49:49,51:51}],39:[function(e,t,n){var i=e(25),r=e(53),o=e(48),s=e(7),a=e(118),u=e(129),c={},l={},n=t.exports=function(e,t,n,h,f){var d,p,v,g,y=f?function(){return e}:u(e),m=i(n,h,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(o(y)){for(d=a(e.length);d>b;b++)if((g=t?m(s(p=e[b])[0],p[1]):m(e[b]))===c||g===l)return g}else for(v=y.call(e);!(p=v.next()).done;)if((g=r(v,m,p.value,t))===c||g===l)return g};n.BREAK=c,n.RETURN=l},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],41:[function(e,t,n){var i={}.hasOwnProperty;t.exports=function(e,t){return i.call(e,t)}},{}],42:[function(e,t,n){var i=e(72),r=e(92);t.exports=e(29)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{29:29,72:72,92:92}],43:[function(e,t,n){var i=e(40).document;t.exports=i&&i.documentElement},{40:40}],44:[function(e,t,n){t.exports=!e(29)&&!e(35)(function(){return 7!=Object.defineProperty(e(30)("div"),"a",{get:function(){return 7}}).a})},{29:29,30:30,35:35}],45:[function(e,t,n){var i=e(51),r=e(99).set;t.exports=function(e,t,n){var o,s=t.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(e,o),e}},{51:51,99:99}],46:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],47:[function(e,t,n){var i=e(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},{18:18}],48:[function(e,t,n){var i=e(58),r=e(128)("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},{128:128,58:58}],49:[function(e,t,n){var i=e(18);t.exports=Array.isArray||function(e){return"Array"==i(e)}},{18:18}],50:[function(e,t,n){var i=e(51),r=Math.floor;t.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},{51:51}],51:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],52:[function(e,t,n){var i=e(51),r=e(18),o=e(128)("match");t.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},{128:128,18:18,51:51}],53:[function(e,t,n){var i=e(7);t.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e["return"];throw void 0!==o&&i(o.call(e)),t}}},{7:7}],54:[function(e,t,n){"use strict";var i=e(71),r=e(92),o=e(101),s={};e(42)(s,e(128)("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=i(s,{next:r(1,n)}),o(e,t+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(e,t,n){"use strict";var i=e(60),r=e(33),o=e(94),s=e(42),a=e(41),u=e(58),c=e(54),l=e(101),h=e(79),f=e(128)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,v,g,y,m){c(n,t,v);var b,_,w,j=function(e){if(!d&&e in S)return S[e];switch(e){case"keys":return function(){return new n(this,e)};case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",O="values"==g,k=!1,S=e.prototype,C=S[f]||S["@@iterator"]||g&&S[g],P=C||j(g),M=g?O?j("entries"):P:void 0,T="Array"==t?S.entries||C:C;if(T&&(w=h(T.call(new e)))!==Object.prototype&&w.next&&(l(w,x,!0),i||a(w,f)||s(w,f,p)),O&&C&&"values"!==C.name&&(k=!0,P=function(){return C.call(this)}),i&&!m||!d&&!k&&S[f]||s(S,f,P),u[t]=P,u[x]=p,g)if(b={values:O?P:j("values"),keys:y?P:j("keys"),entries:M},m)for(_ in b)_ in S||o(S,_,b[_]);else r(r.P+r.F*(d||k),t,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(e,t,n){var i=e(128)("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},e(o)}catch(e){}return n}},{128:128}],57:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],58:[function(e,t,n){t.exports={}},{}],59:[function(e,t,n){var i=e(81),r=e(117);t.exports=function(e,t){for(var n,o=r(e),s=i(o),a=s.length,u=0;a>u;)if(o[n=s[u++]]===t)return n}},{117:117,81:81}],60:[function(e,t,n){t.exports=!1},{}],61:[function(e,t,n){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&1e-6>e?e+e*e/2:Math.exp(e)-1}:i},{}],62:[function(e,t,n){var i=e(65),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),u=r(2,-126),c=function(e){return e+1/o-1/o};t.exports=Math.fround||function(e){var t,n,r=Math.abs(e),l=i(e);return u>r?l*c(r/u/s)*u*s:(t=(1+s/o)*r,n=t-(t-r),n>a||n!=n?l*(1/0):l*n)}},{65:65}],63:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&1e-8>e?e-e*e/2:Math.log(1+e)}},{}],64:[function(e,t,n){t.exports=Math.scale||function(e,t,n,i,r){return 0===arguments.length||e!=e||t!=t||n!=n||i!=i||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-i)/(n-t)+i}},{}],65:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}},{}],66:[function(e,t,n){var i=e(124)("meta"),r=e(51),o=e(41),s=e(72).f,a=0,u=Object.isExtensible||function(){return!0},c=!e(35)(function(){return u(Object.preventExtensions({}))}),l=function(e){s(e,i,{value:{i:"O"+ ++a,w:{}}})},h=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,i)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[i].i},f=function(e,t){if(!o(e,i)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[i].w},d=function(e){return c&&p.NEED&&u(e)&&!o(e,i)&&l(e),e},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},{124:124,35:35,41:41,51:51,72:72}],67:[function(e,t,n){var i=e(160),r=e(33),o=e(103)("metadata"),s=o.store||(o.store=new(e(266))),a=function(e,t,n){var r=s.get(e);if(!r){if(!n)return;s.set(e,r=new i)}var o=r.get(t);if(!o){if(!n)return;r.set(t,o=new i)}return o},u=function(e,t,n){var i=a(t,n,!1);return void 0!==i&&i.has(e)},c=function(e,t,n){var i=a(t,n,!1);return void 0===i?void 0:i.get(e)},l=function(e,t,n,i){a(n,i,!0).set(e,t)},h=function(e,t){var n=a(e,t,!1),i=[];return n&&n.forEach(function(e,t){i.push(t)}),i},f=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},d=function(e){r(r.S,"Reflect",e)};t.exports={store:s,map:a,has:u,get:c,set:l,keys:h,key:f,exp:d}},{103:103,160:160,266:266,33:33}],68:[function(e,t,n){var i=e(40),r=e(113).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,u="process"==e(18)(s);t.exports=function(){var e,t,n,c=function(){var i,r;for(u&&(i=s.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(u)n=function(){s.nextTick(c)};else if(o){var l=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}else if(a&&a.resolve){var f=a.resolve();n=function(){f.then(c)}}else n=function(){r.call(i,c)};return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},{113:113,18:18,40:40}],69:[function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=e(3);t.exports.f=function(e){return new i(e)}},{3:3}],70:[function(e,t,n){"use strict";var i=e(81),r=e(78),o=e(82),s=e(119),a=e(47),u=Object.assign;t.exports=!u||e(35)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var n=s(e),u=arguments.length,c=1,l=r.f,h=o.f;u>c;)for(var f,d=a(arguments[c++]),p=l?i(d).concat(l(d)):i(d),v=p.length,g=0;v>g;)h.call(d,f=p[g++])&&(n[f]=d[f]);return n}:u},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(e,t,n){var i=e(7),r=e(73),o=e(31),s=e(102)("IE_PROTO"),a=function(){},u=function(){var t,n=e(30)("iframe"),i=o.length;for(n.style.display="none",e(43).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object</script>"),t.close(),u=t.F;i--;)delete u.prototype[o[i]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=i(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:r(n,t)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(e,t,n){var i=e(7),r=e(44),o=e(120),s=Object.defineProperty;n.f=e(29)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{120:120,29:29,44:44,7:7}],73:[function(e,t,n){var i=e(72),r=e(7),o=e(81);t.exports=e(29)?Object.defineProperties:function(e,t){r(e);for(var n,s=o(t),a=s.length,u=0;a>u;)i.f(e,n=s[u++],t[n]);return e}},{29:29,7:7,72:72,81:81}],74:[function(e,t,n){"use strict";t.exports=e(60)||!e(35)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e(40)[t]})},{35:35,40:40,60:60}],75:[function(e,t,n){var i=e(82),r=e(92),o=e(117),s=e(120),a=e(41),u=e(44),c=Object.getOwnPropertyDescriptor;n.f=e(29)?c:function(e,t){if(e=o(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}return a(e,t)?r(!i.f.call(e,t),e[t]):void 0}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(e,t,n){var i=e(117),r=e(77).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(i(e))}},{117:117,77:77}],77:[function(e,t,n){var i=e(80),r=e(31).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},{31:31,80:80}],78:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],79:[function(e,t,n){var i=e(41),r=e(119),o=e(102)("IE_PROTO"),s=Object.prototype;
t.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{102:102,119:119,41:41}],80:[function(e,t,n){var i=e(41),r=e(117),o=e(11)(!1),s=e(102)("IE_PROTO");t.exports=function(e,t){var n,a=r(e),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;t.length>u;)i(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},{102:102,11:11,117:117,41:41}],81:[function(e,t,n){var i=e(80),r=e(31);t.exports=Object.keys||function(e){return i(e,r)}},{31:31,80:80}],82:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],83:[function(e,t,n){var i=e(33),r=e(23),o=e(35);t.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",s)}},{23:23,33:33,35:35}],84:[function(e,t,n){var i=e(81),r=e(117),o=e(82).f;t.exports=function(e){return function(t){for(var n,s=r(t),a=i(s),u=a.length,c=0,l=[];u>c;)o.call(s,n=a[c++])&&l.push(e?[n,s[n]]:s[n]);return l}}},{117:117,81:81,82:82}],85:[function(e,t,n){var i=e(77),r=e(78),o=e(7),s=e(40).Reflect;t.exports=s&&s.ownKeys||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}},{40:40,7:7,77:77,78:78}],86:[function(e,t,n){var i=e(40).parseFloat,r=e(111).trim;t.exports=1/i(e(112)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},{111:111,112:112,40:40}],87:[function(e,t,n){var i=e(40).parseInt,r=e(111).trim,o=e(112),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(s.test(n)?16:10))}:i},{111:111,112:112,40:40}],88:[function(e,t,n){"use strict";var i=e(89),r=e(46),o=e(3);t.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),s=0,a=i._,u=!1;t>s;)(n[s]=arguments[s++])===a&&(u=!0);return function(){var i,o=this,s=arguments.length,c=0,l=0;if(!u&&!s)return r(e,n,o);if(i=n.slice(),u)for(;t>c;c++)i[c]===a&&(i[c]=arguments[l++]);for(;s>l;)i.push(arguments[l++]);return r(e,i,o)}}},{3:3,46:46,89:89}],89:[function(e,t,n){t.exports=e(40)},{40:40}],90:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],91:[function(e,t,n){var i=e(69);t.exports=function(e,t){var n=i.f(e);return(0,n.resolve)(t),n.promise}},{69:69}],92:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,n){var i=e(94);t.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},{94:94}],94:[function(e,t,n){var i=e(40),r=e(42),o=e(41),s=e(124)("src"),a=Function.toString,u=(""+a).split("toString");e(23).inspectSource=function(e){return a.call(e)},(t.exports=function(e,t,n,a){var c="function"==typeof n;c&&(o(n,"name")||r(n,"name",t)),e[t]!==n&&(c&&(o(n,s)||r(n,s,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[s]||a.call(this)})},{124:124,23:23,40:40,41:41,42:42}],95:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],96:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],97:[function(e,t,n){"use strict";var i=e(33),r=e(3),o=e(25),s=e(39);t.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,a,u=arguments[1];return r(this),t=void 0!==u,t&&r(u),void 0==e?new this:(n=[],t?(i=0,a=o(u,arguments[2],2),s(e,!1,function(e){n.push(a(e,i++))})):s(e,!1,n.push,n),new this(n))}})}},{25:25,3:3,33:33,39:39}],98:[function(e,t,n){"use strict";var i=e(33);t.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{33:33}],99:[function(e,t,n){var i=e(51),r=e(7),o=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=i(25)(Function.call,i(75).f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,i){return o(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:o}},{25:25,51:51,7:7,75:75}],100:[function(e,t,n){"use strict";var i=e(40),r=e(72),o=e(29),s=e(128)("species");t.exports=function(e){var t=i[e];o&&t&&!t[s]&&r.f(t,s,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(e,t,n){var i=e(72).f,r=e(41),o=e(128)("toStringTag");t.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},{128:128,41:41,72:72}],102:[function(e,t,n){var i=e(103)("keys"),r=e(124);t.exports=function(e){return i[e]||(i[e]=r(e))}},{103:103,124:124}],103:[function(e,t,n){var i=e(40),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(e){return r[e]||(r[e]={})}},{40:40}],104:[function(e,t,n){var i=e(7),r=e(3),o=e(128)("species");t.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[o])?t:r(n)}},{128:128,3:3,7:7}],105:[function(e,t,n){"use strict";var i=e(35);t.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},{35:35}],106:[function(e,t,n){var i=e(116),r=e(28);t.exports=function(e){return function(t,n){var o,s,a=String(r(t)),u=i(n),c=a.length;return 0>u||u>=c?e?"":void 0:(o=a.charCodeAt(u),55296>o||o>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):o:e?a.slice(u,u+2):s-56320+(o-55296<<10)+65536)}}},{116:116,28:28}],107:[function(e,t,n){var i=e(52),r=e(28);t.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},{28:28,52:52}],108:[function(e,t,n){var i=e(33),r=e(35),o=e(28),s=/"/g,a=function(e,t,n,i){var r=String(o(e)),a="<"+t;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(a),i(i.P+i.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},{28:28,33:33,35:35}],109:[function(e,t,n){var i=e(118),r=e(110),o=e(28);t.exports=function(e,t,n,s){var a=String(o(e)),u=a.length,c=void 0===n?" ":String(n),l=i(t);if(u>=l||""==c)return a;var h=l-u,f=r.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},{110:110,118:118,28:28}],110:[function(e,t,n){"use strict";var i=e(116),r=e(28);t.exports=function(e){var t=String(r(this)),n="",o=i(e);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},{116:116,28:28}],111:[function(e,t,n){var i=e(33),r=e(28),o=e(35),s=e(112),a="["+s+"]",u="​",c=RegExp("^"+a+a+"*"),l=RegExp(a+a+"*$"),h=function(e,t,n){var r={},a=o(function(){return!!s[e]()||u[e]()!=u}),c=r[e]=a?t(f):s[e];n&&(r[n]=c),i(i.P+i.F*a,"String",r)},f=h.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};t.exports=h},{112:112,28:28,33:33,35:35}],112:[function(e,t,n){t.exports="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(e,t,n){var i,r,o,s=e(25),a=e(46),u=e(43),c=e(30),l=e(40),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,g=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){m.call(e.data)};f&&d||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){a("function"==typeof e?e:Function(e),t)},i(g),g},d=function(e){delete y[e]},"process"==e(18)(h)?i=function(e){h.nextTick(s(m,e,1))}:v&&v.now?i=function(e){v.now(s(m,e,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):i="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),t.exports={set:f,clear:d}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(e,t,n){var i=e(116),r=Math.max,o=Math.min;t.exports=function(e,t){return e=i(e),0>e?r(e+t,0):o(e,t)}},{116:116}],115:[function(e,t,n){var i=e(116),r=e(118);t.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},{116:116,118:118}],116:[function(e,t,n){var i=Math.ceil,r=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?r:i)(e)}},{}],117:[function(e,t,n){var i=e(47),r=e(28);t.exports=function(e){return i(r(e))}},{28:28,47:47}],118:[function(e,t,n){var i=e(116),r=Math.min;t.exports=function(e){return e>0?r(i(e),9007199254740991):0}},{116:116}],119:[function(e,t,n){var i=e(28);t.exports=function(e){return Object(i(e))}},{28:28}],120:[function(e,t,n){var i=e(51);t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(e,t,n){"use strict";if(e(29)){var i=e(60),r=e(40),o=e(35),s=e(33),a=e(123),u=e(122),c=e(25),l=e(6),h=e(92),f=e(42),d=e(93),p=e(116),v=e(118),g=e(115),y=e(114),m=e(120),b=e(41),_=e(17),w=e(51),j=e(119),x=e(48),O=e(71),k=e(79),S=e(77).f,C=e(129),P=e(124),M=e(128),T=e(12),I=e(11),L=e(104),E=e(141),F=e(58),D=e(56),A=e(100),R=e(9),B=e(8),z=e(72),N=e(75),V=z.f,J=N.f,W=r.RangeError,U=r.TypeError,G=r.Uint8Array,X=Array.prototype,q=u.ArrayBuffer,$=u.DataView,H=T(0),Y=T(2),Z=T(3),K=T(4),Q=T(5),ee=T(6),te=I(!0),ne=I(!1),ie=E.values,re=E.keys,oe=E.entries,se=X.lastIndexOf,ae=X.reduce,ue=X.reduceRight,ce=X.join,le=X.sort,he=X.slice,fe=X.toString,de=X.toLocaleString,pe=M("iterator"),ve=M("toStringTag"),ge=P("typed_constructor"),ye=P("def_constructor"),me=a.CONSTR,be=a.TYPED,_e=a.VIEW,we=T(1,function(e,t){return Se(L(e,e[ye]),t)}),je=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),xe=!!G&&!!G.prototype.set&&o(function(){new G(1).set({})}),Oe=function(e,t){var n=p(e);if(0>n||n%t)throw W("Wrong offset!");return n},ke=function(e){if(w(e)&&be in e)return e;throw U(e+" is not a typed array!")},Se=function(e,t){if(!(w(e)&&ge in e))throw U("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Pe(L(e,e[ye]),t)},Pe=function(e,t){for(var n=0,i=t.length,r=Se(e,i);i>n;)r[n]=t[n++];return r},Me=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},Te=function(e){var t,n,i,r,o,s,a=j(e),u=arguments.length,l=u>1?arguments[1]:void 0,h=void 0!==l,f=C(a);if(void 0!=f&&!x(f)){for(s=f.call(a),i=[],t=0;!(o=s.next()).done;t++)i.push(o.value);a=i}for(h&&u>2&&(l=c(l,arguments[2],2)),t=0,n=v(a.length),r=Se(this,n);n>t;t++)r[t]=h?l(a[t],t):a[t];return r},Ie=function(){for(var e=0,t=arguments.length,n=Se(this,t);t>e;)n[e]=arguments[e++];return n},Le=!!G&&o(function(){de.call(new G(1))}),Ee=function(){return de.apply(Le?he.call(ke(this)):ke(this),arguments)},Fe={copyWithin:function(e,t){return B.call(ke(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return K(ke(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return R.apply(ke(this),arguments)},filter:function(e){return Ce(this,Y(ke(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(ke(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(ke(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){H(ke(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(ke(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(ke(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(ke(this),arguments)},lastIndexOf:function(e){return se.apply(ke(this),arguments)},map:function(e){return we(ke(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ae.apply(ke(this),arguments)},reduceRight:function(e){return ue.apply(ke(this),arguments)},reverse:function(){for(var e,t=this,n=ke(t).length,i=Math.floor(n/2),r=0;i>r;)e=t[r],t[r++]=t[--n],t[n]=e;return t},some:function(e){return Z(ke(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return le.call(ke(this),e)},subarray:function(e,t){var n=ke(this),i=n.length,r=y(e,i);return new(L(n,n[ye]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===t?i:y(t,i))-r))}},De=function(e,t){return Ce(this,he.call(ke(this),e,t))},Ae=function(e){ke(this);var t=Oe(arguments[1],1),n=this.length,i=j(e),r=v(i.length),o=0;if(r+t>n)throw W("Wrong length!");for(;r>o;)this[t+o]=i[o++]},Re={entries:function(){return oe.call(ke(this))},keys:function(){return re.call(ke(this))},values:function(){return ie.call(ke(this))}},Be=function(e,t){return w(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},ze=function(e,t){return Be(e,t=m(t,!0))?h(2,e[t]):J(e,t)},Ne=function(e,t,n){return!(Be(e,t=m(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};me||(N.f=ze,z.f=Ne),s(s.S+s.F*!me,"Object",{getOwnPropertyDescriptor:ze,defineProperty:Ne}),o(function(){fe.call({})})&&(fe=de=function(){return ce.call(this)});var Ve=d({},Fe);d(Ve,Re),f(Ve,pe,Re.values),d(Ve,{slice:De,set:Ae,constructor:function(){},toString:fe,toLocaleString:Ee}),Me(Ve,"buffer","b"),Me(Ve,"byteOffset","o"),Me(Ve,"byteLength","l"),Me(Ve,"length","e"),V(Ve,ve,{get:function(){return this[be]}}),t.exports=function(e,t,n,u){u=!!u;var c=e+(u?"Clamped":"")+"Array",h="get"+e,d="set"+e,p=r[c],y=p||{},m=p&&k(p),b=!p||!a.ABV,j={},x=p&&p.prototype,C=function(e,n){var i=e._d;return i.v[h](n*t+i.o,je)},P=function(e,n,i){var r=e._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[d](n*t+r.o,i,je)},M=function(e,t){V(e,t,{get:function(){return C(this,t)},set:function(e){return P(this,t,e)},enumerable:!0})};b?(p=n(function(e,n,i,r){l(e,p,c,"_d");var o,s,a,u,h=0,d=0;if(w(n)){if(!(n instanceof q||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Pe(p,n):Te.call(p,n);o=n,d=Oe(i,t);var y=n.byteLength;if(void 0===r){if(y%t)throw W("Wrong length!");if((s=y-d)<0)throw W("Wrong length!")}else if((s=v(r)*t)+d>y)throw W("Wrong length!");a=s/t}else a=g(n),s=a*t,o=new q(s);for(f(e,"_d",{b:o,o:d,l:s,e:a,v:new $(o)});a>h;)M(e,h++)}),x=p.prototype=O(Ve),f(x,"constructor",p)):o(function(){p(1)})&&o(function(){new p(-1)})&&D(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=n(function(e,n,i,r){l(e,p,c);var o;return w(n)?n instanceof q||"ArrayBuffer"==(o=_(n))||"SharedArrayBuffer"==o?void 0!==r?new y(n,Oe(i,t),r):void 0!==i?new y(n,Oe(i,t)):new y(n):be in n?Pe(p,n):Te.call(p,n):new y(g(n))}),H(m!==Function.prototype?S(y).concat(S(m)):S(y),function(e){e in p||f(p,e,y[e])}),p.prototype=x,i||(x.constructor=p));var T=x[pe],I=!!T&&("values"==T.name||void 0==T.name),L=Re.values;f(p,ge,!0),f(x,be,c),f(x,_e,!0),f(x,ye,p),(u?new p(1)[ve]==c:ve in x)||V(x,ve,{get:function(){return c}}),j[c]=p,s(s.G+s.W+s.F*(p!=y),j),s(s.S,c,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*o(function(){y.of.call(p,1)}),c,{from:Te,of:Ie}),"BYTES_PER_ELEMENT"in x||f(x,"BYTES_PER_ELEMENT",t),s(s.P,c,Fe),A(c),s(s.P+s.F*xe,c,{set:Ae}),s(s.P+s.F*!I,c,Re),i||x.toString==fe||(x.toString=fe),s(s.P+s.F*o(function(){new p(1).slice()}),c,{slice:De}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Ee}),F[c]=I?T:L,i||I||f(x,pe,L)}}else t.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(e,t,n){"use strict";function i(e,t,n){var i,r,o,s=Array(n),a=8*n-t-1,u=(1<<a)-1,c=u>>1,l=23===t?B(2,-24)-B(2,-77):0,h=0,f=0>e||0===e&&0>1/e?1:0;for(e=R(e),e!=e||e===D?(r=e!=e?1:0,i=u):(i=z(N(e)/V),e*(o=B(2,-i))<1&&(i--,o*=2),e+=i+c>=1?l/o:l*B(2,1-c),e*o>=2&&(i++,o/=2),i+c>=u?(r=0,i=u):i+c>=1?(r=(e*o-1)*B(2,t),i+=c):(r=e*B(2,c-1)*B(2,t),i=0));t>=8;s[h++]=255&r,r/=256,t-=8);for(i=i<<t|r,a+=t;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function r(e,t,n){var i,r=8*n-t-1,o=(1<<r)-1,s=o>>1,a=r-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;a>0;l=256*l+e[u],u--,a-=8);for(i=l&(1<<-a)-1,l>>=-a,a+=t;a>0;i=256*i+e[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return i?NaN:c?-D:D;i+=B(2,t),l-=s}return(c?-1:1)*i*B(2,l-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return[255&e]}function a(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return i(e,52,8)}function l(e){return i(e,23,4)}function h(e,t,n){S(e[M],t,{get:function(){return this[n]}})}function f(e,t,n,i){var r=+n,o=O(r);if(o+t>e[W])throw F(T);var s=e[J]._b,a=o+e[U],u=s.slice(a,a+t);return i?u:u.reverse()}function d(e,t,n,i,r,o){var s=+n,a=O(s);if(a+t>e[W])throw F(T);for(var u=e[J]._b,c=a+e[U],l=i(+r),h=0;t>h;h++)u[c+h]=l[o?h:t-h-1]}var p=e(40),v=e(29),g=e(60),y=e(123),m=e(42),b=e(93),_=e(35),w=e(6),j=e(116),x=e(118),O=e(115),k=e(77).f,S=e(72).f,C=e(9),P=e(101),M="prototype",T="Wrong index!",I=p.ArrayBuffer,L=p.DataView,E=p.Math,F=p.RangeError,D=p.Infinity,A=I,R=E.abs,B=E.pow,z=E.floor,N=E.log,V=E.LN2,J=v?"_b":"buffer",W=v?"_l":"byteLength",U=v?"_o":"byteOffset";if(y.ABV){if(!_(function(){I(1)})||!_(function(){new I(-1)})||_(function(){return new I,new I(1.5),new I(NaN),"ArrayBuffer"!=I.name})){I=function(e){return w(this,I),new A(O(e))};for(var G,X=I[M]=A[M],q=k(A),$=0;q.length>$;)(G=q[$++])in I||m(I,G,A[G]);g||(X.constructor=I)}var H=new L(new I(2)),Y=L[M].setInt8;H.setInt8(0,2147483648),H.setInt8(1,2147483649),!H.getInt8(0)&&H.getInt8(1)||b(L[M],{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else I=function(e){w(this,I,"ArrayBuffer");var t=O(e);this._b=C.call(Array(t),0),this[W]=t},L=function(e,t,n){w(this,L,"DataView"),w(e,I,"DataView");var i=e[W],r=j(t);if(0>r||r>i)throw F("Wrong offset!");if(n=void 0===n?i-r:x(n),r+n>i)throw F("Wrong length!");this[J]=e,this[U]=r,this[W]=n},v&&(h(I,"byteLength","_l"),h(L,"buffer","_b"),h(L,"byteLength","_l"),h(L,"byteOffset","_o")),b(L[M],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(f(this,4,e,arguments[1]))},getUint32:function(e){return o(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){d(this,1,e,s,t)},setUint8:function(e,t){d(this,1,e,s,t)},setInt16:function(e,t){d(this,2,e,a,t,arguments[2])},setUint16:function(e,t){d(this,2,e,a,t,arguments[2])},setInt32:function(e,t){d(this,4,e,u,t,arguments[2])},setUint32:function(e,t){d(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){d(this,4,e,l,t,arguments[2])},setFloat64:function(e,t){d(this,8,e,c,t,arguments[2])}});P(I,"ArrayBuffer"),P(L,"DataView"),m(L[M],y.VIEW,!0),n.ArrayBuffer=I,n.DataView=L},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(e,t,n){for(var i,r=e(40),o=e(42),s=e(124),a=s("typed_array"),u=s("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");9>h;)(i=r[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},{124:124,40:40,42:42}],124:[function(e,t,n){var i=0,r=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+r).toString(36))}},{}],125:[function(e,t,n){var i=e(51);t.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{51:51}],126:[function(e,t,n){var i=e(40),r=e(23),o=e(60),s=e(127),a=e(72).f;t.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(e,t,n){n.f=e(128)},{128:128}],128:[function(e,t,n){var i=e(103)("wks"),r=e(124),o=e(40).Symbol,s="function"==typeof o;(t.exports=function(e){return i[e]||(i[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=i},{103:103,124:124,40:40}],129:[function(e,t,n){var i=e(17),r=e(128)("iterator"),o=e(58);t.exports=e(23).getIteratorMethod=function(e){return void 0!=e?e[r]||e["@@iterator"]||o[i(e)]:void 0}},{128:128,17:17,23:23,58:58}],130:[function(e,t,n){var i=e(33),r=e(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return r(e)}})},{33:33,95:95}],131:[function(e,t,n){var i=e(33);i(i.P,"Array",{copyWithin:e(8)}),e(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(e,t,n){"use strict";var i=e(33),r=e(12)(4);i(i.P+i.F*!e(105)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],133:[function(e,t,n){var i=e(33);i(i.P,"Array",{fill:e(9)}),e(5)("fill")},{33:33,5:5,9:9}],134:[function(e,t,n){"use strict";var i=e(33),r=e(12)(2);i(i.P+i.F*!e(105)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],135:[function(e,t,n){"use strict";var i=e(33),r=e(12)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)(o)},{12:12,33:33,5:5}],136:[function(e,t,n){"use strict";var i=e(33),r=e(12)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)("find")},{12:12,33:33,5:5}],137:[function(e,t,n){"use strict";var i=e(33),r=e(12)(0),o=e(105)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],138:[function(e,t,n){"use strict";var i=e(25),r=e(33),o=e(119),s=e(53),a=e(48),u=e(118),c=e(24),l=e(129);r(r.S+r.F*!e(56)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,h,f=o(e),d="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,g=void 0!==v,y=0,m=l(f);if(g&&(v=i(v,p>2?arguments[2]:void 0,2)),void 0==m||d==Array&&a(m))for(t=u(f.length),n=new d(t);t>y;y++)c(n,y,g?v(f[y],y):f[y]);else for(h=m.call(f),n=new d;!(r=h.next()).done;y++)c(n,y,g?s(h,v,[r.value,y],!0):r.value);return n.length=y,n}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(e,t,n){"use strict";var i=e(33),r=e(11)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!e(105)(o)),"Array",{indexOf:function(e){return s?o.apply(this,arguments)||0:r(this,e,arguments[1])}})},{105:105,11:11,33:33}],140:[function(e,t,n){var i=e(33);i(i.S,"Array",{isArray:e(49)})},{33:33,49:49}],141:[function(e,t,n){"use strict";var i=e(5),r=e(57),o=e(58),s=e(117);t.exports=e(55)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(e,t,n){"use strict";var i=e(33),r=e(117),o=[].join;i(i.P+i.F*(e(47)!=Object||!e(105)(o)),"Array",{join:function(e){return o.call(r(this),void 0===e?",":e)}})},{105:105,117:117,33:33,47:47}],143:[function(e,t,n){"use strict";var i=e(33),r=e(117),o=e(116),s=e(118),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!e(105)(a)),"Array",{lastIndexOf:function(e){if(u)return a.apply(this,arguments)||0;var t=r(this),n=s(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),0>i&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(e,t,n){"use strict";var i=e(33),r=e(12)(1);i(i.P+i.F*!e(105)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],145:[function(e,t,n){"use strict";var i=e(33),r=e(24);i(i.S+i.F*e(35)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},{24:24,33:33,35:35}],146:[function(e,t,n){"use strict";var i=e(33),r=e(13);i(i.P+i.F*!e(105)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(e,t,n){"use strict";var i=e(33),r=e(13);i(i.P+i.F*!e(105)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(e,t,n){"use strict";var i=e(33),r=e(43),o=e(18),s=e(114),a=e(118),u=[].slice;i(i.P+i.F*e(35)(function(){r&&u.call(r)}),"Array",{slice:function(e,t){var n=a(this.length),i=o(this);if(t=void 0===t?n:t,"Array"==i)return u.call(this,e,t);for(var r=s(e,n),c=s(t,n),l=a(c-r),h=Array(l),f=0;l>f;f++)h[f]="String"==i?this.charAt(r+f):this[r+f];return h}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(e,t,n){"use strict";var i=e(33),r=e(12)(3);i(i.P+i.F*!e(105)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},{105:105,12:12,33:33}],150:[function(e,t,n){"use strict";var i=e(33),r=e(3),o=e(119),s=e(35),a=[].sort,u=[1,2,3];i(i.P+i.F*(s(function(){u.sort(void 0)})||!s(function(){u.sort(null)})||!e(105)(a)),"Array",{sort:function(e){return void 0===e?a.call(o(this)):a.call(o(this),r(e))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(e,t,n){e(100)("Array")},{100:100}],152:[function(e,t,n){var i=e(33);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(e,t,n){var i=e(33),r=e(26);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(e,t,n){"use strict";var i=e(33),r=e(119),o=e(120);i(i.P+i.F*e(35)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(e,t,n){var i=e(128)("toPrimitive"),r=Date.prototype;i in r||e(42)(r,i,e(27))},{128:128,27:27,42:42}],156:[function(e,t,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&e(94)(i,"toString",function(){var e=o.call(this);return e===e?r.call(this):"Invalid Date"})},{94:94}],157:[function(e,t,n){var i=e(33);i(i.P,"Function",{bind:e(16)})},{16:16,33:33}],158:[function(e,t,n){"use strict";var i=e(51),r=e(79),o=e(128)("hasInstance"),s=Function.prototype;o in s||e(72).f(s,o,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(e,t,n){var i=e(72).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||e(29)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{29:29,72:72}],160:[function(e,t,n){"use strict";var i=e(19),r=e(125);t.exports=e(22)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},{125:125,19:19,22:22}],161:[function(e,t,n){var i=e(33),r=e(63),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+o(e-1)*o(e+1))}})},{33:33,63:63}],162:[function(e,t,n){function i(e){return isFinite(e=+e)&&0!=e?0>e?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=e(33),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:i})},{33:33}],163:[function(e,t,n){var i=e(33),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{33:33}],164:[function(e,t,n){var i=e(33),r=e(65);i(i.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},{33:33,65:65}],165:[function(e,t,n){var i=e(33);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{33:33}],166:[function(e,t,n){var i=e(33),r=Math.exp;i(i.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},{33:33}],167:[function(e,t,n){var i=e(33),r=e(61);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(e,t,n){var i=e(33);i(i.S,"Math",{fround:e(62)})},{33:33,62:62}],169:[function(e,t,n){var i=e(33),r=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var n,i,o=0,s=0,a=arguments.length,u=0;a>s;)n=r(arguments[s++]),n>u?(i=u/n,o=o*i*i+1,u=n):n>0?(i=n/u,o+=i*i):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},{33:33}],170:[function(e,t,n){var i=e(33),r=Math.imul;i(i.S+i.F*e(35)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(e,t,n){var i=e(33);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{33:33}],172:[function(e,t,n){var i=e(33);i(i.S,"Math",{log1p:e(63)})},{33:33,63:63}],173:[function(e,t,n){var i=e(33);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{33:33}],174:[function(e,t,n){var i=e(33);i(i.S,"Math",{sign:e(65)})},{33:33,65:65}],175:[function(e,t,n){var i=e(33),r=e(61),o=Math.exp;i(i.S+i.F*e(35)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(e,t,n){var i=e(33),r=e(61),o=Math.exp;i(i.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},{33:33,61:61}],177:[function(e,t,n){var i=e(33);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{33:33}],178:[function(e,t,n){"use strict";var i=e(40),r=e(41),o=e(18),s=e(45),a=e(120),u=e(35),c=e(77).f,l=e(75).f,h=e(72).f,f=e(111).trim,d=i.Number,p=d,v=d.prototype,g="Number"==o(e(71)(v)),y="trim"in String.prototype,m=function(e){var t=a(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():f(t,3);var n,i,r,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var s,u=t.slice(2),c=0,l=u.length;l>c;c++)if((s=u.charCodeAt(c))<48||s>r)return NaN;return parseInt(u,i)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(g?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?s(new p(m(t)),n,d):m(t)};for(var b,_=e(29)?c(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)r(p,b=_[w])&&!r(d,b)&&h(d,b,l(p,b));d.prototype=v,v.constructor=d,e(94)(i,"Number",d)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(e,t,n){var i=e(33);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(e,t,n){var i=e(33),r=e(40).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},{33:33,40:40}],181:[function(e,t,n){var i=e(33);i(i.S,"Number",{isInteger:e(50)})},{33:33,50:50}],182:[function(e,t,n){var i=e(33);i(i.S,"Number",{isNaN:function(e){return e!=e}})},{33:33}],183:[function(e,t,n){var i=e(33),r=e(50),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&o(e)<=9007199254740991}})},{33:33,50:50}],184:[function(e,t,n){var i=e(33);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(e,t,n){
var i=e(33);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(e,t,n){var i=e(33),r=e(86);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(e,t,n){var i=e(33),r=e(87);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(e,t,n){"use strict";var i=e(33),r=e(116),o=e(4),s=e(110),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*c[n],c[n]=i%1e7,i=u(i/1e7)},f=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+s.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!e(35)(function(){a.call({})})),"Number",{toFixed:function(e){var t,n,i,a,u=o(this,l),c=r(e),g="",y="0";if(0>c||c>20)throw RangeError(l);if(u!=u)return"NaN";if(-1e21>=u||u>=1e21)return String(u);if(0>u&&(g="-",u=-u),u>1e-21)if(t=v(u*p(2,69,1))-69,n=0>t?u*p(2,-t,1):u/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),i=c;i>=7;)h(1e7,0),i-=7;for(h(p(10,i,1),0),i=t-1;i>=23;)f(1<<23),i-=23;f(1<<i),h(1,1),f(2),y=d()}else h(0,n),h(1<<-t,0),y=d()+s.call("0",c);return c>0?(a=y.length,y=g+(c>=a?"0."+s.call("0",c-a)+y:y.slice(0,a-c)+"."+y.slice(a-c))):y=g+y,y}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(e,t,n){"use strict";var i=e(33),r=e(35),o=e(4),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?s.call(t):s.call(t,e)}})},{33:33,35:35,4:4}],190:[function(e,t,n){var i=e(33);i(i.S+i.F,"Object",{assign:e(70)})},{33:33,70:70}],191:[function(e,t,n){var i=e(33);i(i.S,"Object",{create:e(71)})},{33:33,71:71}],192:[function(e,t,n){var i=e(33);i(i.S+i.F*!e(29),"Object",{defineProperties:e(73)})},{29:29,33:33,73:73}],193:[function(e,t,n){var i=e(33);i(i.S+i.F*!e(29),"Object",{defineProperty:e(72).f})},{29:29,33:33,72:72}],194:[function(e,t,n){var i=e(51),r=e(66).onFreeze;e(83)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],195:[function(e,t,n){var i=e(117),r=e(75).f;e(83)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},{117:117,75:75,83:83}],196:[function(e,t,n){e(83)("getOwnPropertyNames",function(){return e(76).f})},{76:76,83:83}],197:[function(e,t,n){var i=e(119),r=e(79);e(83)("getPrototypeOf",function(){return function(e){return r(i(e))}})},{119:119,79:79,83:83}],198:[function(e,t,n){var i=e(51);e(83)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},{51:51,83:83}],199:[function(e,t,n){var i=e(51);e(83)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{51:51,83:83}],200:[function(e,t,n){var i=e(51);e(83)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},{51:51,83:83}],201:[function(e,t,n){var i=e(33);i(i.S,"Object",{is:e(96)})},{33:33,96:96}],202:[function(e,t,n){var i=e(119),r=e(81);e(83)("keys",function(){return function(e){return r(i(e))}})},{119:119,81:81,83:83}],203:[function(e,t,n){var i=e(51),r=e(66).onFreeze;e(83)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],204:[function(e,t,n){var i=e(51),r=e(66).onFreeze;e(83)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},{51:51,66:66,83:83}],205:[function(e,t,n){var i=e(33);i(i.S,"Object",{setPrototypeOf:e(99).set})},{33:33,99:99}],206:[function(e,t,n){"use strict";var i=e(17),r={};r[e(128)("toStringTag")]="z",r+""!="[object z]"&&e(94)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},{128:128,17:17,94:94}],207:[function(e,t,n){var i=e(33),r=e(86);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(e,t,n){var i=e(33),r=e(87);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(e,t,n){"use strict";var i,r,o,s,a=e(60),u=e(40),c=e(25),l=e(17),h=e(33),f=e(51),d=e(3),p=e(6),v=e(39),g=e(104),y=e(113).set,m=e(68)(),b=e(69),_=e(90),w=e(91),j=u.TypeError,x=u.process,O=u.Promise,k="process"==l(x),S=function(){},C=r=b.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(128)("species")]=function(e){e(S,S)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(n){}}(),M=a?function(e,t){return e===t||e===O&&t===s}:function(e,t){return e===t},T=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var i=e._v,r=1==e._s,o=0;n.length>o;)!function(e){var t,n,o=r?e.ok:e.fail,s=e.resolve,a=e.reject,u=e.domain;try{o?(r||(2==c._h&&F(c),c._h=1),!0===o?t=i:(u&&u.enter(),t=o(i),u&&u.exit()),t===e.promise?a(j("Promise-chain cycle")):(n=T(t))?n.call(t,s,a):s(t)):a(i)}catch(c){a(c)}}(n[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){y.call(u,function(){var t,n,i,r=e._v,o=E(e);if(o&&(t=_(function(){k?x.emit("unhandledRejection",r,e):(n=u.onunhandledrejection)?n({promise:e,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=k||E(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},E=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!E(t.promise))return!1;return!0},F=function(e){y.call(u,function(){var t;k?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},A=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw j("Promise can't be resolved itself");(t=T(e))?m(function(){var e={_w:n,_d:!1};try{t.call(i,c(A,e,1),c(D,e,1))}catch(i){D.call(e,i)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};P||(O=function(e){p(this,O,"Promise","_h"),d(e),i.call(this);try{e(c(A,this,1),c(D,this,1))}catch(e){D.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=e(93)(O.prototype,{then:function(e,t){var n=C(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?x.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},"catch":function(e){return this.then(void 0,e)}}),o=function(){var e=new i;this.promise=e,this.resolve=c(A,e,1),this.reject=c(D,e,1)},b.f=C=function(e){return M(O,e)?new o(e):r(e)}),h(h.G+h.W+h.F*!P,{Promise:O}),e(101)(O,"Promise"),e(100)("Promise"),s=e(23).Promise,h(h.S+h.F*!P,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(a||!P),"Promise",{resolve:function(e){return e instanceof O&&M(e.constructor,this)?e:w(this,e)}}),h(h.S+h.F*!(P&&e(56)(function(e){O.all(e)["catch"](S)})),"Promise",{all:function(e){var t=this,n=C(t),i=n.resolve,r=n.reject,o=_(function(){var n=[],o=0,s=1;v(e,!1,function(e){var a=o++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(e){var t=this,n=C(t),i=n.reject,r=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(e,t,n){var i=e(33),r=e(3),o=e(7),s=(e(40).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!e(35)(function(){s(function(){})}),"Reflect",{apply:function(e,t,n){var i=r(e),u=o(n);return s?s(i,t,u):a.call(i,t,u)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(e,t,n){var i=e(33),r=e(71),o=e(3),s=e(7),a=e(51),u=e(35),c=e(16),l=(e(40).Reflect||{}).construct,h=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),f=!u(function(){l(function(){})});i(i.S+i.F*(h||f),"Reflect",{construct:function(e,t){o(e),s(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!h)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(c.apply(e,i))}var u=n.prototype,d=r(a(u)?u:Object.prototype),p=Function.apply.call(e,d,t);return a(p)?p:d}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(e,t,n){var i=e(72),r=e(33),o=e(7),s=e(120);r(r.S+r.F*e(35)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=s(t,!0),o(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(e,t,n){var i=e(33),r=e(75).f,o=e(7);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=r(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{33:33,7:7,75:75}],214:[function(e,t,n){"use strict";var i=e(33),r=e(7),o=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e(54)(o,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new o(e)}})},{33:33,54:54,7:7}],215:[function(e,t,n){var i=e(75),r=e(33),o=e(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(o(e),t)}})},{33:33,7:7,75:75}],216:[function(e,t,n){var i=e(33),r=e(79),o=e(7);i(i.S,"Reflect",{getPrototypeOf:function(e){return r(o(e))}})},{33:33,7:7,79:79}],217:[function(e,t,n){function i(e,t){var n,a,l=arguments.length<3?e:arguments[2];return c(e)===l?e[t]:(n=r.f(e,t))?s(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:u(a=o(e))?i(a,t,l):void 0}var r=e(75),o=e(79),s=e(41),a=e(33),u=e(51),c=e(7);a(a.S,"Reflect",{get:i})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(e,t,n){var i=e(33);i(i.S,"Reflect",{has:function(e,t){return t in e}})},{33:33}],219:[function(e,t,n){var i=e(33),r=e(7),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return r(e),!o||o(e)}})},{33:33,7:7}],220:[function(e,t,n){var i=e(33);i(i.S,"Reflect",{ownKeys:e(85)})},{33:33,85:85}],221:[function(e,t,n){var i=e(33),r=e(7),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){r(e);try{return o&&o(e),!0}catch(e){return!1}}})},{33:33,7:7}],222:[function(e,t,n){var i=e(33),r=e(99);r&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},{33:33,99:99}],223:[function(e,t,n){function i(e,t,n){var u,f,d=arguments.length<4?e:arguments[3],p=o.f(l(e),t);if(!p){if(h(f=s(e)))return i(f,t,n,d);p=c(0)}return a(p,"value")?!(!1===p.writable||!h(d)||(u=o.f(d,t)||c(0),u.value=n,r.f(d,t,u),0)):void 0!==p.set&&(p.set.call(d,n),!0)}var r=e(72),o=e(75),s=e(79),a=e(41),u=e(33),c=e(92),l=e(7),h=e(51);u(u.S,"Reflect",{set:i})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(e,t,n){var i=e(40),r=e(45),o=e(72).f,s=e(77).f,a=e(52),u=e(37),c=i.RegExp,l=c,h=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(e(29)&&(!p||e(35)(function(){return d[e(128)("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,i=a(e),o=void 0===t;return!n&&i&&e.constructor===c&&o?e:r(p?new l(i&&!o?e.source:e,t):l((i=e instanceof c)?e.source:e,i&&o?u.call(e):t),n?this:h,c)};for(var v=s(l),g=0;v.length>g;)!function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}(v[g++]);h.constructor=c,c.prototype=h,e(94)(i,"RegExp",c)}e(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(e,t,n){e(29)&&"g"!=/./g.flags&&e(72).f(RegExp.prototype,"flags",{configurable:!0,get:e(37)})},{29:29,37:37,72:72}],226:[function(e,t,n){e(36)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},{36:36}],227:[function(e,t,n){e(36)("replace",2,function(e,t,n){return[function(i,r){"use strict";var o=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]})},{36:36}],228:[function(e,t,n){e(36)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},{36:36}],229:[function(e,t,n){e(36)("split",2,function(t,n,i){"use strict";var r=e(52),o=i,s=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var u=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return o.call(n,e,t);var i,c,l,h,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,g=void 0===t?4294967295:t>>>0,y=new RegExp(e.source,p+"g");for(u||(i=new RegExp("^"+y.source+"$(?!\\s)",p));(c=y.exec(n))&&!((l=c.index+c[0][a])>v&&(d.push(n.slice(v,c.index)),!u&&c[a]>1&&c[0].replace(i,function(){for(f=1;f<arguments[a]-2;f++)void 0===arguments[f]&&(c[f]=void 0)}),c[a]>1&&c.index<n[a]&&s.apply(d,c.slice(1)),h=c[0][a],v=l,d[a]>=g));)y.lastIndex===c.index&&y.lastIndex++;return v===n[a]?!h&&y.test("")||d.push(""):d.push(n.slice(v)),d[a]>g?d.slice(0,g):d}}else"0".split(void 0,0)[a]&&(i=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(e,r){var o=t(this),s=void 0==e?void 0:e[n];return void 0!==s?s.call(e,o,r):i.call(String(o),e,r)},i]})},{36:36,52:52}],230:[function(e,t,n){"use strict";e(225);var i=e(7),r=e(37),o=e(29),s=/./.toString,a=function(t){e(94)(RegExp.prototype,"toString",t,!0)};e(35)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?a(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=s.name&&a(function(){return s.call(this)})},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(e,t,n){"use strict";var i=e(19),r=e(125);t.exports=e(22)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},{125:125,19:19,22:22}],232:[function(e,t,n){"use strict";e(108)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{108:108}],233:[function(e,t,n){"use strict";e(108)("big",function(e){return function(){return e(this,"big","","")}})},{108:108}],234:[function(e,t,n){"use strict";e(108)("blink",function(e){return function(){return e(this,"blink","","")}})},{108:108}],235:[function(e,t,n){"use strict";e(108)("bold",function(e){return function(){return e(this,"b","","")}})},{108:108}],236:[function(e,t,n){"use strict";var i=e(33),r=e(106)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},{106:106,33:33}],237:[function(e,t,n){"use strict";var i=e(33),r=e(118),o=e(107),s="".endsWith;i(i.P+i.F*e(34)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),a=void 0===n?i:Math.min(r(n),i),u=String(e);return s?s.call(t,u,a):t.slice(a-u.length,a)===u}})},{107:107,118:118,33:33,34:34}],238:[function(e,t,n){"use strict";e(108)("fixed",function(e){return function(){return e(this,"tt","","")}})},{108:108}],239:[function(e,t,n){"use strict";e(108)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{108:108}],240:[function(e,t,n){"use strict";e(108)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{108:108}],241:[function(e,t,n){var i=e(33),r=e(114),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,s=0;i>s;){if(t=+arguments[s++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(65536>t?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{114:114,33:33}],242:[function(e,t,n){"use strict";var i=e(33),r=e(107);i(i.P+i.F*e(34)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(e,t,n){"use strict";e(108)("italics",function(e){return function(){return e(this,"i","","")}})},{108:108}],244:[function(e,t,n){"use strict";var i=e(106)(!0);e(55)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},{106:106,55:55}],245:[function(e,t,n){"use strict";e(108)("link",function(e){return function(t){return e(this,"a","href",t)}})},{108:108}],246:[function(e,t,n){var i=e(33),r=e(117),o=e(118);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=o(t.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(t[a++])),i>a&&s.push(String(arguments[a]));return s.join("")}})},{117:117,118:118,33:33}],247:[function(e,t,n){var i=e(33);i(i.P,"String",{repeat:e(110)})},{110:110,33:33}],248:[function(e,t,n){"use strict";e(108)("small",function(e){return function(){return e(this,"small","","")}})},{108:108}],249:[function(e,t,n){"use strict";var i=e(33),r=e(118),o=e(107),s="".startsWith;i(i.P+i.F*e(34)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return s?s.call(t,i,n):t.slice(n,n+i.length)===i}})},{107:107,118:118,33:33,34:34}],250:[function(e,t,n){"use strict";e(108)("strike",function(e){return function(){return e(this,"strike","","")}})},{108:108}],251:[function(e,t,n){"use strict";e(108)("sub",function(e){return function(){return e(this,"sub","","")}})},{108:108}],252:[function(e,t,n){"use strict";e(108)("sup",function(e){return function(){return e(this,"sup","","")}})},{108:108}],253:[function(e,t,n){"use strict";e(111)("trim",function(e){return function(){return e(this,3)}})},{111:111}],254:[function(e,t,n){"use strict";var i=e(40),r=e(41),o=e(29),s=e(33),a=e(94),u=e(66).KEY,c=e(35),l=e(103),h=e(101),f=e(124),d=e(128),p=e(127),v=e(126),g=e(59),y=e(32),m=e(49),b=e(7),_=e(117),w=e(120),j=e(92),x=e(71),O=e(76),k=e(75),S=e(72),C=e(81),P=k.f,M=S.f,T=O.f,I=i.Symbol,L=i.JSON,E=L&&L.stringify,F=d("_hidden"),D=d("toPrimitive"),A={}.propertyIsEnumerable,R=l("symbol-registry"),B=l("symbols"),z=l("op-symbols"),N=Object.prototype,V="function"==typeof I,J=i.QObject,W=!J||!J.prototype||!J.prototype.findChild,U=o&&c(function(){return 7!=x(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=P(N,t);i&&delete N[t],M(e,t,n),i&&e!==N&&M(N,t,i)}:M,G=function(e){var t=B[e]=x(I.prototype);return t._k=e,t},X=V&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},q=function(e,t,n){return e===N&&q(z,t,n),b(e),t=w(t,!0),b(n),r(B,t)?(n.enumerable?(r(e,F)&&e[F][t]&&(e[F][t]=!1),n=x(n,{enumerable:j(0,!1)})):(r(e,F)||M(e,F,j(1,{})),e[F][t]=!0),U(e,t,n)):M(e,t,n)},$=function(e,t){b(e);for(var n,i=y(t=_(t)),r=0,o=i.length;o>r;)q(e,n=i[r++],t[n]);return e},H=function(e,t){return void 0===t?x(e):$(x(e),t)},Y=function(e){var t=A.call(this,e=w(e,!0));return!(this===N&&r(B,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(B,e)||r(this,F)&&this[F][e])||t)},Z=function(e,t){if(e=_(e),t=w(t,!0),e!==N||!r(B,t)||r(z,t)){var n=P(e,t);return!n||!r(B,t)||r(e,F)&&e[F][t]||(n.enumerable=!0),n}},K=function(e){for(var t,n=T(_(e)),i=[],o=0;n.length>o;)r(B,t=n[o++])||t==F||t==u||i.push(t);return i},Q=function(e){for(var t,n=e===N,i=T(n?z:_(e)),o=[],s=0;i.length>s;)!r(B,t=i[s++])||n&&!r(N,t)||o.push(B[t]);return o};V||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===N&&t.call(z,n),r(this,F)&&r(this[F],e)&&(this[F][e]=!1),U(this,e,j(1,n))};return o&&W&&U(N,e,{configurable:!0,set:t}),G(e)},a(I.prototype,"toString",function(){return this._k}),k.f=Z,S.f=q,e(77).f=O.f=K,e(82).f=Y,e(78).f=Q,o&&!e(60)&&a(N,"propertyIsEnumerable",Y,!0),p.f=function(e){return G(d(e))}),s(s.G+s.W+s.F*!V,{Symbol:I});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)d(ee[te++]);for(var ne=C(d.store),ie=0;ne.length>ie;)v(ne[ie++]);s(s.S+s.F*!V,"Symbol",{"for":function(e){return r(R,e+="")?R[e]:R[e]=I(e)},keyFor:function(e){if(X(e))return g(R,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!V,"Object",{create:H,defineProperty:q,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:K,getOwnPropertySymbols:Q}),L&&s(s.S+s.F*(!V||c(function(){var e=I();return"[null]"!=E([e])||"{}"!=E({a:e})||"{}"!=E(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!X(e)){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);return t=i[1],"function"==typeof t&&(n=t),!n&&m(t)||(t=function(e,t){return n&&(t=n.call(this,e,t)),X(t)?void 0:t}),i[1]=t,E.apply(L,i)}}}),I.prototype[D]||e(42)(I.prototype,D,I.prototype.valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(e,t,n){"use strict";var i=e(33),r=e(123),o=e(122),s=e(7),a=e(114),u=e(118),c=e(51),l=e(40).ArrayBuffer,h=e(104),f=o.ArrayBuffer,d=o.DataView,p=r.ABV&&l.isView,v=f.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(l!==f),{ArrayBuffer:f}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return p&&p(e)||c(e)&&g in e}}),i(i.P+i.U+i.F*e(35)(function(){return!new f(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(s(this),e);for(var n=s(this).byteLength,i=a(e,n),r=a(void 0===t?n:t,n),o=new(h(this,f))(u(r-i)),c=new d(this),l=new d(o),p=0;r>i;)l.setUint8(p++,c.getUint8(i++));return o}}),e(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(e,t,n){var i=e(33);i(i.G+i.W+i.F*!e(123).ABV,{DataView:e(122).DataView})},{122:122,123:123,33:33}],257:[function(e,t,n){e(121)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],258:[function(e,t,n){e(121)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],259:[function(e,t,n){e(121)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],260:[function(e,t,n){e(121)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],261:[function(e,t,n){e(121)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],262:[function(e,t,n){e(121)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],263:[function(e,t,n){e(121)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],264:[function(e,t,n){e(121)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},{121:121}],265:[function(e,t,n){e(121)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},{121:121}],266:[function(e,t,n){"use strict";var i,r=e(12)(0),o=e(94),s=e(66),a=e(70),u=e(21),c=e(51),l=e(35),h=e(125),f=s.getWeak,d=Object.isExtensible,p=u.ufstore,v={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(c(e)){var t=f(e);return!0===t?p(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(h(this,"WeakMap"),e,t)}},m=t.exports=e(22)("WeakMap",g,y,u,!0,!0);l(function(){return 7!=(new m).set((Object.freeze||Object)(v),7).get(v)})&&(i=u.getConstructor(g,"WeakMap"),a(i.prototype,y),s.NEED=!0,r(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];o(t,e,function(t,r){if(c(t)&&!d(t)){this._f||(this._f=new i);var o=this._f[e](t,r);return"set"==e?this:o}return n.call(this,t,r)})}))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(e,t,n){"use strict";var i=e(21),r=e(125);e(22)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},{125:125,21:21,22:22}],268:[function(e,t,n){"use strict";var i=e(33),r=e(38),o=e(119),s=e(118),a=e(3),u=e(15);i(i.P,"Array",{flatMap:function(e){var t,n,i=o(this);return a(e),t=s(i.length),n=u(i,0),r(n,i,i,t,0,1,e,arguments[1]),n}}),e(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(e,t,n){"use strict";var i=e(33),r=e(38),o=e(119),s=e(118),a=e(116),u=e(15);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=s(t.length),i=u(t,0);return r(i,t,t,n,0,void 0===e?1:a(e)),i}}),e(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(e,t,n){"use strict";var i=e(33),r=e(11)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),e(5)("includes")},{11:11,33:33,5:5}],271:[function(e,t,n){var i=e(33),r=e(68)(),o=e(40).process,s="process"==e(18)(o);i(i.G,{asap:function(e){var t=s&&o.domain;r(t?t.bind(e):e)}})},{18:18,33:33,40:40,68:68}],272:[function(e,t,n){var i=e(33),r=e(18);i(i.S,"Error",{isError:function(e){return"Error"===r(e)}})},{18:18,33:33}],273:[function(e,t,n){var i=e(33);i(i.G,{global:e(40)})},{33:33,40:40}],274:[function(e,t,n){e(97)("Map")},{97:97}],275:[function(e,t,n){e(98)("Map")},{98:98}],276:[function(e,t,n){var i=e(33);i(i.P+i.R,"Map",{toJSON:e(20)("Map")})},{20:20,33:33}],277:[function(e,t,n){var i=e(33);i(i.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},{33:33}],278:[function(e,t,n){var i=e(33);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(e,t,n){var i=e(33),r=180/Math.PI;i(i.S,"Math",{degrees:function(e){return e*r}})},{33:33}],280:[function(e,t,n){var i=e(33),r=e(64),o=e(62);i(i.S,"Math",{fscale:function(e,t,n,i,s){return o(r(e,t,n,i,s))}})},{33:33,62:62,64:64}],281:[function(e,t,n){var i=e(33);i(i.S,"Math",{iaddh:function(e,t,n,i){var r=e>>>0,o=t>>>0,s=n>>>0;return o+(i>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},{33:33}],282:[function(e,t,n){var i=e(33);i(i.S,"Math",{imulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,s=n>>16,a=i>>16,u=(s*o>>>0)+(r*o>>>16);return s*a+(u>>16)+((r*a>>>0)+(65535&u)>>16)}})},{33:33}],283:[function(e,t,n){var i=e(33);i(i.S,"Math",{isubh:function(e,t,n,i){var r=e>>>0,o=t>>>0,s=n>>>0;return o-(i>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},{33:33}],284:[function(e,t,n){var i=e(33);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(e,t,n){var i=e(33),r=Math.PI/180;i(i.S,"Math",{radians:function(e){return e*r}})},{33:33}],286:[function(e,t,n){var i=e(33);i(i.S,"Math",{scale:e(64)})},{33:33,64:64}],287:[function(e,t,n){var i=e(33);i(i.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},{33:33}],288:[function(e,t,n){var i=e(33);i(i.S,"Math",{umulh:function(e,t){var n=+e,i=+t,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,u=(s*o>>>0)+(r*o>>>16);return s*a+(u>>>16)+((r*a>>>0)+(65535&u)>>>16)}})},{33:33}],289:[function(e,t,n){"use strict";var i=e(33),r=e(119),o=e(3),s=e(72);e(29)&&i(i.P+e(74),"Object",{__defineGetter__:function(e,t){s.f(r(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(e,t,n){"use strict";var i=e(33),r=e(119),o=e(3),s=e(72);e(29)&&i(i.P+e(74),"Object",{__defineSetter__:function(e,t){s.f(r(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(e,t,n){var i=e(33),r=e(84)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},{33:33,84:84}],292:[function(e,t,n){var i=e(33),r=e(85),o=e(117),s=e(75),a=e(24);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=o(e),u=s.f,c=r(i),l={},h=0;c.length>h;)void 0!==(n=u(i,t=c[h++]))&&a(l,t,n);return l}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(e,t,n){"use strict";var i=e(33),r=e(119),o=e(120),s=e(79),a=e(75).f;e(29)&&i(i.P+e(74),"Object",{__lookupGetter__:function(e){var t,n=r(this),i=o(e,!0);do if(t=a(n,i))return t.get;while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(e,t,n){"use strict";var i=e(33),r=e(119),o=e(120),s=e(79),a=e(75).f;e(29)&&i(i.P+e(74),"Object",{__lookupSetter__:function(e){var t,n=r(this),i=o(e,!0);do if(t=a(n,i))return t.set;while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(e,t,n){var i=e(33),r=e(84)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},{33:33,84:84}],296:[function(e,t,n){"use strict";var i=e(33),r=e(40),o=e(23),s=e(68)(),a=e(128)("observable"),u=e(3),c=e(7),l=e(6),h=e(93),f=e(42),d=e(39),p=d.RETURN,v=function(e){return null==e?void 0:u(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},y=function(e){return void 0===e._o},m=function(e){y(e)||(e._o=void 0,g(e))},b=function(e,t){c(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}y(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){m(this)}});var _=function(e){this._s=e};_.prototype=h({},{next:function(e){var t=this._s;if(!y(t)){var n=t._o;try{var i=v(n.next);if(i)return i.call(n,e)}catch(e){try{m(t)}finally{throw e}}}},error:function(e){var t=this._s;if(y(t))throw e;var n=t._o;t._o=void 0;try{var i=v(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!y(t)){var n=t._o;t._o=void 0;try{var i=v(n.complete);e=i?i.call(n,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var w=function(e){l(this,w,"Observable","_f")._f=u(e)};h(w.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||r.Promise)(function(n,i){u(e);var r=t.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})})}}),h(w,{from:function(e){var t="function"==typeof this?this:w,n=v(c(e)[a]);if(n){var i=c(n.call(e));return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}return new t(function(e){var t=!1;return s(function(){if(!t){try{if(d(n,!1,function(n){return e.next(n),t?p:void 0})===p)return}catch(n){if(t)throw n;return void e.error(n)}e.complete()}}),function(){t=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);t>e;)n[e]=arguments[e++];return new("function"==typeof this?this:w)(function(e){var t=!1;return s(function(){if(!t){for(var i=0;i<n.length;++i)if(e.next(n[i]),t)return;e.complete()}}),function(){t=!0}})}}),f(w.prototype,a,function(){return this}),i(i.G,{Observable:w}),e(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(e,t,n){"use strict";var i=e(33),r=e(23),o=e(40),s=e(104),a=e(91);i(i.P+i.R,"Promise",{"finally":function(e){var t=s(this,r.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(e,t,n){"use strict";var i=e(33),r=e(69),o=e(90);i(i.S,"Promise",{"try":function(e){var t=r.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{33:33,69:69,90:90}],299:[function(e,t,n){var i=e(67),r=e(7),o=i.key,s=i.set;i.exp({defineMetadata:function(e,t,n,i){s(e,t,r(n),o(i))}})},{67:67,7:7}],300:[function(e,t,n){var i=e(67),r=e(7),o=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),i=s(r(t),n,!1);if(void 0===i||!i["delete"](e))return!1;if(i.size)return!0;var u=a.get(t);return u["delete"](n),!!u.size||a["delete"](t)}})},{67:67,7:7}],301:[function(e,t,n){var i=e(231),r=e(10),o=e(67),s=e(7),a=e(79),u=o.keys,c=o.key,l=function(e,t){var n=u(e,t),o=a(e);
if(null===o)return n;var s=l(o,t);return s.length?n.length?r(new i(n.concat(s))):s:n};o.exp({getMetadataKeys:function(e){return l(s(e),arguments.length<2?void 0:c(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(e,t,n){var i=e(67),r=e(7),o=e(79),s=i.has,a=i.get,u=i.key,c=function(e,t,n){if(s(e,t,n))return a(e,t,n);var i=o(t);return null!==i?c(e,i,n):void 0};i.exp({getMetadata:function(e,t){return c(e,r(t),arguments.length<3?void 0:u(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(e,t,n){var i=e(67),r=e(7),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(e){return o(r(e),arguments.length<2?void 0:s(arguments[1]))}})},{67:67,7:7}],304:[function(e,t,n){var i=e(67),r=e(7),o=i.get,s=i.key;i.exp({getOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],305:[function(e,t,n){var i=e(67),r=e(7),o=e(79),s=i.has,a=i.key,u=function(e,t,n){if(s(e,t,n))return!0;var i=o(t);return null!==i&&u(e,i,n)};i.exp({hasMetadata:function(e,t){return u(e,r(t),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(e,t,n){var i=e(67),r=e(7),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(e,t){return o(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],307:[function(e,t,n){var i=e(67),r=e(7),o=e(3),s=i.key,a=i.set;i.exp({metadata:function(e,t){return function(n,i){a(e,t,(void 0!==i?r:o)(n),s(i))}}})},{3:3,67:67,7:7}],308:[function(e,t,n){e(97)("Set")},{97:97}],309:[function(e,t,n){e(98)("Set")},{98:98}],310:[function(e,t,n){var i=e(33);i(i.P+i.R,"Set",{toJSON:e(20)("Set")})},{20:20,33:33}],311:[function(e,t,n){"use strict";var i=e(33),r=e(106)(!0);i(i.P,"String",{at:function(e){return r(this,e)}})},{106:106,33:33}],312:[function(e,t,n){"use strict";var i=e(33),r=e(28),o=e(118),s=e(52),a=e(37),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e(54)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(r(this),!s(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):a.call(e),i=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(e.lastIndex),new c(i,t)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(e,t,n){"use strict";var i=e(33),r=e(109);i(i.P,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(e,t,n){"use strict";var i=e(33),r=e(109);i(i.P,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(e,t,n){"use strict";e(111)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{111:111}],316:[function(e,t,n){"use strict";e(111)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{111:111}],317:[function(e,t,n){e(126)("asyncIterator")},{126:126}],318:[function(e,t,n){e(126)("observable")},{126:126}],319:[function(e,t,n){var i=e(33);i(i.S,"System",{global:e(40)})},{33:33,40:40}],320:[function(e,t,n){e(97)("WeakMap")},{97:97}],321:[function(e,t,n){e(98)("WeakMap")},{98:98}],322:[function(e,t,n){e(97)("WeakSet")},{97:97}],323:[function(e,t,n){e(98)("WeakSet")},{98:98}],324:[function(e,t,n){for(var i=e(141),r=e(81),o=e(94),s=e(40),a=e(42),u=e(58),c=e(128),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),v=0;v<p.length;v++){var g,y=p[v],m=d[y],b=s[y],_=b&&b.prototype;if(_&&(_[l]||a(_,l,f),_[h]||a(_,h,y),u[y]=f,m))for(g in i)_[g]||o(_,g,i[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(e,t,n){var i=e(33),r=e(113);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(e,t,n){var i=e(40),r=e(33),o=e(46),s=e(88),a=i.navigator,u=!!a&&/MSIE .\./.test(a.userAgent),c=function(e){return u?function(t,n){return e(o(s,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};r(r.G+r.B+r.F*u,{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(e,t,n){e(254),e(191),e(193),e(192),e(195),e(197),e(202),e(196),e(194),e(204),e(203),e(199),e(200),e(198),e(190),e(201),e(205),e(206),e(157),e(159),e(158),e(208),e(207),e(178),e(188),e(189),e(179),e(180),e(181),e(182),e(183),e(184),e(185),e(186),e(187),e(161),e(162),e(163),e(164),e(165),e(166),e(167),e(168),e(169),e(170),e(171),e(172),e(173),e(174),e(175),e(176),e(177),e(241),e(246),e(253),e(244),e(236),e(237),e(242),e(247),e(249),e(232),e(233),e(234),e(235),e(238),e(239),e(240),e(243),e(245),e(248),e(250),e(251),e(252),e(152),e(154),e(153),e(156),e(155),e(140),e(138),e(145),e(142),e(148),e(150),e(137),e(144),e(134),e(149),e(132),e(147),e(146),e(139),e(143),e(131),e(133),e(136),e(135),e(151),e(141),e(224),e(230),e(225),e(226),e(227),e(228),e(229),e(209),e(160),e(231),e(266),e(267),e(255),e(256),e(261),e(264),e(265),e(259),e(262),e(260),e(263),e(257),e(258),e(210),e(211),e(212),e(213),e(214),e(217),e(215),e(216),e(218),e(219),e(220),e(221),e(223),e(222),e(270),e(268),e(269),e(311),e(314),e(313),e(315),e(316),e(312),e(317),e(318),e(292),e(295),e(291),e(289),e(290),e(293),e(294),e(276),e(310),e(275),e(309),e(321),e(323),e(274),e(308),e(320),e(322),e(273),e(319),e(272),e(277),e(278),e(279),e(280),e(281),e(283),e(282),e(284),e(285),e(286),e(288),e(287),e(297),e(298),e(299),e(300),e(302),e(301),e(304),e(303),e(305),e(306),e(307),e(271),e(296),e(326),e(325),e(324),t.exports=e(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(e,t,n){(function(e){!function(e){"use strict";function n(e,t,n,i){var o=t&&t.prototype instanceof r?t:r,s=Object.create(o.prototype),a=new d(i||[]);return s._invoke=c(e,n,a),s}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function o(){}function s(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(t){function n(e,r,o,s){var a=i(t[e],t,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&m.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},s)}s(a.arg)}function r(e,t){function i(){return new Promise(function(i,r){n(e,t,i,r)})}return o=o?o.then(i,i):i()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var o;this._invoke=r}function c(e,t,n){var r=k;return function(o,s){if(r===C)throw new Error("Generator is already running");if(r===P){if("throw"===o)throw s;return v()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===M)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===k)throw r=P,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var c=i(e,t,n);if("normal"===c.type){if(r=n.done?P:S,c.arg===M)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=P,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=g,l(e,t),"throw"===t.method))return M;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,M;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,M):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,M)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(m.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=g,r.done=!0,r};return i.next=i}}return{next:v}}function v(){return{value:g,done:!0}}var g,y=Object.prototype,m=y.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",j=b.toStringTag||"@@toStringTag",x="object"==typeof t,O=e.regeneratorRuntime;if(O)return void(x&&(t.exports=O));O=e.regeneratorRuntime=x?t.exports:{},O.wrap=n;var k="suspendedStart",S="suspendedYield",C="executing",P="completed",M={},T={};T[_]=function(){return this};var I=Object.getPrototypeOf,L=I&&I(I(p([])));L&&L!==y&&m.call(L,_)&&(T=L);var E=s.prototype=r.prototype=Object.create(T);o.prototype=E.constructor=s,s.constructor=o,s[j]=o.displayName="GeneratorFunction",O.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},O.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,j in e||(e[j]="GeneratorFunction")),e.prototype=Object.create(E),e},O.awrap=function(e){return{__await:e}},a(u.prototype),u.prototype[w]=function(){return this},O.AsyncIterator=u,O.async=function(e,t,i,r){var o=new u(n(e,t,i,r));return O.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},a(E),E[j]="Generator",E[_]=function(){return this},E.toString=function(){return"[object Generator]"},O.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},O.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=m.call(r,"catchLoc"),a=m.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,M):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),M},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),M}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;f(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),M}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),define("jx/polyfill.min",function(){}),define("jx/core/Launcher",["exports","jx/core/JXCore","jx/polyfill.min"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){var n=this;i(this,e),window.jxTiming.push({launcher:Date.now()}),console.log("\n		     ___  __  _____ _   _  ____ ___ _   _ _____ \n		    | \\ \\/ / | ____| \\ | |/ ___|_ _| \\ | | ____|\n		 _  | |\\  /  |  _| |  \\| | |  _ | ||  \\| |  _|  \n		| |_| |/  \\  | |___| |\\  | |_| || || |\\  | |___ \n		 \\___//_/\\_\\ |_____|_| \\_|\\____|___|_| \\_|_____|\n		                                                   1.0		                                                  \n		"),this.dataObject=t;var o=new r["default"]({debug:this.dataObject.debug});window.jx=o,this.dataObject.mode&&o.tools.mergeObjectIn(this.dataObject,this.dataObject.modes[this.dataObject.mode]);var s=this.dataObject;this.onInitialised=s.onInitialised,s.onInitialised=function(e){window.jxTiming.push({moduleInitialised:Date.now()}),void 0!==n.onInitialised&&n.onInitialised(e)},window.addEventListener("message",function(e){},!1),this._launchModule(s)}return o(e,[{key:"_launchModule",value:function(e){var t=this,n=window.jx;void 0!=n.config.urlParams.rid?n.db.importClass(["jx/core/presets/Preview"],function(n){t.mainCtrl=new n(e),t.mainCtrl.initialise(e.onInitialised)}):void 0!=this.dataObject.preset?n.db.importClass(["jx/core/presets/"+this.dataObject.preset],function(n){t.mainCtrl=new n(e),t.mainCtrl.initialise(e.onInitialised)}):void 0!=this.dataObject.src&&(window.jxTiming.push({moduleLoad:Date.now()}),n.db.addResources({id:"Module1",type:"class",src:this.dataObject.src}),n.db.load({id:"Module1"},function(i){window.jxTiming.push({moduleLoaded:Date.now()});var r=n.db.findOne({id:"Module1"}).data;t.mainCtrl=new r(e),window.jxTiming.push({moduleInstancied:Date.now()}),t.mainCtrl.initialise(e.onInitialised)}))}}]),e}();e["default"]=s}),define("jx/core/Core",["exports","jx/core/DBManager","jx/core/Factory","jx/core/Config","jx/core/utils/Tools"],function(e,t,n,i,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=o(t),u=o(n),c=o(i),l=o(r),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f="1.0.0",d={core:[{id:"Component",src:"jx/core/comps/Component"},{id:"BusyScreen",src:"jx/comps/BusyScreen"},{id:"SoundManager",src:"jx/core/sound/SoundManager"},{id:"BatchLoader",src:"jx/core/BatchLoader"},{id:"FXManager",src:"jx/core/FXManager"},{id:"MemoManager",src:"jx/core/memos/MemoManager"},{id:"MemoLocalStorage",src:"jx/core/memos/MemoLocalStorage"},{id:"MemoCookie",src:"jx/core/memos/MemoCookie"},{id:"TransitionManager",src:"jx/core/transitions/TransitionManager"},{id:"Layout",src:"jx/core/layout/Layout"},{id:"Request",src:"jx/core/Request"},{id:"Debugger",src:"jx/core/Debugger"},{id:"List",src:"jx/core/utils/List"},{id:"GroupList",src:"jx/comps/GroupList"},{id:"JSONLoader",src:"jx/core/loaders/JSONLoader"},{id:"ImageLoader",src:"jx/core/loaders/ImageLoader"},{id:"SoundLoader",src:"jx/core/loaders/SoundLoader"},{id:"SoundLoaderMediaElement",src:"jx/core/loaders/SoundLoaderMediaElement"},{id:"TextLoader",src:"jx/core/loaders/TextLoader"},{id:"JSONLoader",src:"jx/core/loaders/JSONLoader"},{id:"FlashtmlLoader",src:"jx/core/loaders/FlashtmlLoader"},{id:"ImageSequenceLoader",src:"jx/core/loaders/ImageSequenceLoader"},{id:"SpriteSheetLoader",src:"jx/core/loaders/SpriteSheetLoader"},{id:"SwapTransition",src:"jx/core/transitions/SwapTransition"},{id:"FlashLib",src:"jx/comps/flashlib/FlashLib"},{id:"StartButton",src:"jx/comps/StartButton"},{id:"ScreensManager",src:"jx/comps/screensmanager/ScreensManager"},{id:"ScreenVideo",src:"jx/comps/screensmanager/ScreenVideo"},{id:"ScreenPhoto",src:"jx/comps/screensmanager/ScreenPhoto"}],CJS:[{id:"VisualComponentCJS",src:"jx/comps/visualcomponent/VisualComponentCJS"},{id:"StageView",src:"jx/comps/StageView"},{id:"ShapeCJS",src:"jx/comps/shape/ShapeCJS"},{id:"ImageCJS",src:"jx/comps/image/ImageCJS"},{id:"TextCJS",src:"jx/comps/text/TextCJS"},{id:"TextMultiRender",src:"jx/comps/text/TextMultiRender"},{id:"ContainerCJS",src:"jx/comps/container/ContainerCJS"},{id:"ImageSequenceCJS",src:"jx/comps/imagesequence/ImageSequenceCJS"},{id:"ClipCJS",src:"jx/comps/clip/ClipCJS"},{id:"SimpleButtonCJS",src:"jx/comps/simplebutton/SimpleButtonCJS"}],DOM:[{id:"VisualComponentDOM",src:"jx/comps/visualcomponent/VisualComponentDOM"},{id:"TextDOM",src:"jx/comps/text/TextDOM"},{id:"InputText",src:"jx/comps/InputText"},{id:"InputNumber",src:"jx/comps/InputNumber"},{id:"ImageDOM",src:"jx/comps/image/ImageDOM"},{id:"ContainerDOM",src:"jx/comps/container/ContainerDOM"},{id:"ImageSequenceDOM",src:"jx/comps/imagesequence/ImageSequenceDOM"},{id:"VideoDOM",src:"jx/comps/video/VideoDOM"},{id:"SimpleButtonDOM",src:"jx/comps/simplebutton/SimpleButtonDOM"},{id:"SimpleDOMView",src:"jx/comps/SimpleDOMView"}]},p=function(){function e(t){var n=this;s(this,e),this.ticker=createjs.Ticker,this.editor=null,window["jx"+f]=window["jx"+f]||this,window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,this.tick=function(e){return window.requestAnimationFrame(e)},this._setTimeoutIDs=[],this._setIntervalIDs=[],this.onappfreeze=new signals.Signal,this.onappunfreeze=new signals.Signal,this.loadedPlugs=[],this.global=window.jx,this.debug=this.global.debug,this.app=t,this.comp={},this.tools=new l["default"],Object.assign instanceof Function||(Object.assign=this.tools.mergeObject),this.config=new c["default"](this),this.db=new a["default"](this),this.factory=new u["default"](this),this.cc=function(e){return n.factory.createComp(e)},this.syslog=this.debug.debugging?console.log.bind(console):function(){},this.sysinfo=this.debug.debugging?console.info.bind(console):function(){},this.syswarn=this.debug.debugging?console.warn.bind(console):function(){},this.syserror=this.debug.debugging?console.error.bind(console):function(){},this.log=window.jxAppDebug?console.log.bind(console):function(){},this.info=window.jxAppDebug?console.info.bind(console):function(){},this.warn=window.jxAppDebug?console.warn.bind(console):function(){},this.error=window.jxAppDebug?console.error.bind(console):function(){}}return h(e,[{key:"closeApplication",value:function(){try{this.app&&this.app.kill()}catch(e){console.warn("errors while killing application")}this.app=null,this.kill(),this._bayamFrontCom&&this._bayamFrontCom.sendCloseFinalizedRequest()}},{key:"restartApplication",value:function(){this.kill(),window.self.location.reload()}},{key:"blockInteractivity",value:function(){var e=arguments.length<=0||void 0===arguments[0]?function(e){}:arguments[0];this.clipZap.clickHandler.add(e),$("body").append(this.clipZap),this.clipZap.css("display","inline")}},{key:"unblockInteractivity",value:function(){this.clipZap.css("display","none"),this.clipZap.detach(),this.clipZap.clickHandler.removeAll()}},{key:"pauseApplication",value:function(){this._freezed||(this._freezed=!0,console.log("JX Pause"),this.appFreezeClipZap=this._clipZapInit({zIndex:1e4,opacity:0}),$("body").append(this.appFreezeClipZap),this.appFreezeClipZap.css("display","inline"),this._stateBeforeFreeze={framerate:createjs.Ticker.framerate},this.onappfreeze.dispatch(),this.dj.appFreeze())}},{key:"resumeApplication",value:function(){this._freezed&&(this._freezed=!1,console.log("JX Resume"),this.onappunfreeze.dispatch(),this.dj.appUnfreeze(),this.appFreezeClipZap.remove,this.appFreezeClipZap.detach(),this.appFreezeClipZap=null)}},{key:"kill",value:function(){if(!this._killed){this._killed=!0,console.info("killing",this);try{this.clearAllIntervals(),this.dj.kill(),this.dj=null,this.db.kill(),this.db=null,this.config.kill(),this.config=null,this.factory.kill(),this.factory=null,this.loadingScreen.kill(),this.loadingScreen=null,this.debug.kill(),this.debug=null,this.comp=null,this.ticker=null,this.memo=null,this.layout=null,this.fx=null,this.log=null,this.tools=null,window["jx"+f]=null,this.onappfreeze.removeAll(),this.onappunfreeze.removeAll(),this.onappfreeze=null,this.onappunfreeze=null}catch(e){console.warn("errors while killing engine")}this.global.kill(),this.global=null,console.info("killed",this)}}},{key:"_initialise",value:function(e,t){var n=e.plugs,i=void 0===n?[]:n,r=e.moduleData,o=void 0===r?{}:r;this.loadingScreen=new(this.db.findOne({id:"BusyScreen"}).data)({jx:this}),this.ticker=createjs.Ticker,this.memo=new(this.db.findOne({id:"MemoManager"}).data)({jx:this}),this.layout=new(this.db.findOne({id:"Layout"}).data)({jx:this}),this.fx=new(this.db.findOne({id:"FXManager"}).data)({jx:this}),this.dj=new(this.db.findOne({id:"SoundManager"}).data)({jx:this}),this.clipZap=this._clipZapInit(),this.config.setProjectInfo(o.projectInformations),this.loadPlugs(i,t)}},{key:"loadPlugs",value:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments[1];window.jxTiming.push({jxPlugsLoad:Date.now()}),this.comp.Component||(e=this.tools.arrayRemoveDouble(["core"].concat(e)));for(var n=[],i=0;i<e.length;i++)"string"==this.tools.instanceType(e[i])?n=n.concat(d[e[i]]):n.push(e[i]);for(var i=0;i<n.length;i++)n[i].type=n[i].type||"class",n[i].preload=!0;this.loadedPlugs=this.loadedPlugs.concat(n),this.db.addResources(n),this.db.load({type:"class"},function(e){window.jxTiming.push({jxPlugsLoaded:Date.now()}),t(e)})}},{key:"_clipZapInit",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.zIndex,n=void 0===t?1e3:t,i=e.opacity,r=void 0===i?0:i,o=$("<div/>");o.prop("id","clipzap"),o.prop("class","canvasHolder"),o.css("background-color","#ff0000"),o.css("position","absolute"),o.css("opacity",r),o.css("top","0px"),o.css("left","0px"),o.css("bottom","0px"),o.css("right","0px"),o.css("margin","0px"),o.css("padding","0px"),o.css("display","none"),o.css("z-index",n),o.addClass("child"),o.clickHandler=new signals.Signal,o.setConfig=function(e){var t=e.opacity,n=e.eventType;t&&o.css("opacity",t),n&&(o.off(),o.on(n,function(e){console.log("clickzap clicked",e.type),setTimeout(function(e){return o.clickHandler.dispatch()},1)}),o.on("touchmove",function(e){e.preventDefault()},!1))};var s="mobile"!==this.config.system.device.support?"mousedown":"touchstart";return o.setConfig({opacity:r,eventType:s}),o}},{key:"toString",value:function(){return"JXCore v"+f}},{key:"wait",value:function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?function(e){}:arguments[1],n=setTimeout(t,e);return this._setTimeoutIDs.push(n),n}},{key:"waitReset",value:function(e){e&&clearTimeout(e),this._setTimeoutIDs.splice(this._setTimeoutIDs.indexOf(e),1)}},{key:"setInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?function(e){}:arguments[1],n=setInterval(t,e);return this._setIntervalIDs.push(n),n})},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e&&clearInterval(e),this._setIntervalIDs.splice(this._setIntervalIDs.indexOf(e),1)})},{key:"clearAllIntervals",value:function(){for(var e=0;e<this._setIntervalIDs.length;e++)clearInterval(this._setIntervalIDs[e]);this._setIntervalIDs.length=0;for(var e=0;e<this._setTimeoutIDs.length;e++)clearTimeout(this._setTimeoutIDs[e]);this._setTimeoutIDs.length=0}},{key:"merge",value:function(){for(var e,t={},n=arguments.length,i=Array(n),r=0;n>r;r++)i[r]=arguments[r];for(var o=0;o<i.length;o++)e=i[o],"string"==this.tools.instanceType(e)&&(e=this.db.findOne({id:e}).data),this.tools.mergeObjectIn(t,e);return t}},{key:"freezed",get:function(){return this._freezed}},{key:"version",get:function(){return f}}]),e}();e["default"]=p}),define("jx/core/JXObject",["exports","jx/core/Core"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s={},a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,e),this.dataObject=t,this.jx=this.dataObject.jx||(this.dataObject.jxClass?new this.dataObject.jxClass(this):new r["default"](this)),this._implements={}}return o(e,[{key:"extendsFrom",value:function(t){if(void 0==e.getProto(this.__proto__.constructor.name)){var n=t.split(".");if(1==n.length)var i="jx/comps/"+t.toLowerCase()+"/"+t+this._render;else var i=t;console.log("extendsfrom",i);var r=this.jx.db.getClass(i);r.initialiseMod(this)}}},{key:"_getParentClass",value:function(e){for(var t=this.__proto__;t.constructor.name!=e;)t=t.__proto__;return t}},{key:"getJXObjectParentClass",value:function(){for(var e=this.__proto__;"JXObject"!=e.constructor.name;)e=e.__proto__;return e}},{key:"mixin",value:function(e,t){for(var n,i=arguments.length<=2||void 0===arguments[2]?"JXObject":arguments[2],r=this._getParentClass(i),o=0;o<e.length;o++){n=e[o];var s=Object.getOwnPropertyDescriptor(t.prototype,n);if(!s)throw"Error during mixin with property '"+n+"' in "+this.__proto__.constructor.name;s.enumerable=!0,Object.defineProperty(r,n,s)}}},{key:"implements",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++)this._implements[t[i]]=!0}}],[{key:"getProto",value:function(e){return s[e]}},{key:"setProto",value:function(e,t){s[e.constructor.name+t]=e}}]),e}();e["default"]=a}),define("jx/core/memos/MemoManager",["exports","jx/core/JXObject"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e)))}return o(t,e),a(t,[{key:"addMemo",value:function(e){var t=e.id,n=e.type,i=void 0===n?"Cookie":n,r=e.autosave,o=void 0===r?!1:r,s=this.jx.db.getClass("jx/core/memos/Memo"+i),a=new s({jx:this.jx,id:t+this.jx.config.app.id,autosave:o});return this[t]=a,a}}]),t}(s["default"]);e["default"]=u}),define("jx/core/comps/Component",["exports","jx/core/JXObject"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:null,parentComponent:null,data:null,initialise:!1,IDTarget:null,autoStart:!0},e)));return o.isJXComponent=!0,o._paused=!1,o.dataObject=o.jx.tools.obj.merge(o.dataObject,n),o.parentComponent=o.dataObject.parentComponent,o._initialise(),o}return o(t,e),a(t,[{key:"kill",value:function(){this._killed||(this._killed=!0,this.comps.kill(),this._removeAllEventDispatchers(),this._jx_remove_listeners(),this.parentComponent&&this.parentComponent.comps.remove(this),this.parentComponent=null,this._jx_listeners=null,this.comps=null,this.dataObject=null,this.data=null,this.jx=null)}},{key:"_jx_add_listeners",value:function(){var e=this;this._jx_listeners={onpause:function(t){return e.pause(t);
},onresume:function(t){return e.resume(t)},onclose:function(t){return e.close(t)},onappfreeze:function(t){return e.appFreeze(t)},onappunfreeze:function(t){return e.appUnfreeze(t)}},this.jx.onappfreeze.add(this._jx_listeners.onappfreeze),this.jx.onappunfreeze.add(this._jx_listeners.onappunfreeze),this.parentComponent&&(this.parentComponent.onpause.add(this._jx_listeners.onpause),this.parentComponent.onresume.add(this._jx_listeners.onresume),this.parentComponent.onclose.add(this._jx_listeners.onclose))}},{key:"_jx_remove_listeners",value:function(){this._jx_listeners&&(this.jx.onappfreeze.remove(this._jx_listeners.onappfreeze),this.jx.onappunfreeze.remove(this._jx_listeners.onappunfreeze),this.parentComponent&&(this.parentComponent.onpause.remove(this._jx_listeners.onpause),this.parentComponent.onresume.remove(this._jx_listeners.onresume),this.parentComponent.onclose.remove(this._jx_listeners.onclose)))}},{key:"_initialise",value:function(){return this._create(),this._initSync(),this}},{key:"_create",value:function(){this.isJXComponent=!0,this._id=this.dataObject.id,this.data=this.dataObject.data,this.IDTarget=this.dataObject.IDTarget,this.comps=new c(this),this._eventsdispatchers=[],this.addEventDispatcher("onInitialised","firstinit","onchanged","onpause","onresume","onclose"),this._ready=!1,this.initialising=!1,this._paused=!1,this._closed=!1}},{key:"_initSync",value:function(){var e=this;this.dataObject.oninitialised&&this.onInitialised.addOnce(this.dataObject.oninitialised),this._ready&&this.dataObject.autoStart?this.start():1==this.dataObject.initialise&&setTimeout(function(t){return e.initialise(e.dataObject.oninitialised)},0)}},{key:"initialise",value:function(e){var t=this;return this.firstinit.addOnce(e),this._ready?void this.firstinit.dispatch({target:this}):this.initialising?void 0:(this.initialising=!0,this._preInit(function(e){return t.init(function(e){return t._postInit(function(e){t._ready=!0,t.initialising=!1,t.dataObject.autoStart&&t.start(),t.firstinit.dispatch({target:t})})})}),this)}},{key:"_preInit",value:function(e){e()}},{key:"init",value:function(e){e()}},{key:"_postInit",value:function(e){e()}},{key:"_firstInit",value:function(){}},{key:"_start",value:function(){}},{key:"start",value:function(){}},{key:"pause",value:function(){return console.log("pause",this),this._paused?!1:(this._paused=!0,this.onpause.dispatch({target:this}),!0)}},{key:"_pause",value:function(){}},{key:"resume",value:function(){return console.log("resume",this),this._paused?(this._paused=!1,this.onresume.dispatch({target:this}),!0):!1}},{key:"appFreeze",value:function(){this._appFreezed||(this._appFreezed=!0,console.log("appfreeze",this))}},{key:"appUnfreeze",value:function(){console.log("appUnfreeze",this),this._appFreezed&&(this._appFreezed=!1)}},{key:"close",value:function(){return console.log("close",this),this._closed?!1:(this._closed=!1,this.pause(),this.onclose.dispatch({target:this}),!0)}},{key:"cc",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.isJXComponent){var t=e;return t.parentComponent&&t.parentComponent.comps.remove(t),t.parentComponent=this,this.comps.add(t,t.addID),t}if("string"==this.jx.tools.instanceType(e)&&(e=this.jx.db.findOne({id:e}).data),"array"==this.jx.tools.instanceType(e)){for(var n=[],i=0;i<e.length;i++)n.push(this.cc(e[i]));return n}e.parentComponent=e.parentComponent||this;var r=this.jx.cc(e);return this.comps.add(r,e.addID),r}},{key:"ccid",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.isJXComponent){var t=e;return void 0==t.addID?!0:t.addID,this.cc(t)}if("string"==this.jx.tools.instanceType(e)&&(e=this.jx.db.findOne({id:e}).data),"array"==this.jx.tools.instanceType(e)){for(var n=[],i=0;i<e.length;i++)n.push(this.ccid(e[i]));return n}return e.addID=void 0==e.addID?!0:e.addID,this.cc(e)}},{key:"addEventDispatcher",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i=0;i<t.length;i++)this[t[i]]=new signals.Signal,this._eventsdispatchers.push({id:t[i],dispatcher:this[t[i]]})}},{key:"_removeAllEventDispatchers",value:function(){for(var e=0;e<this._eventsdispatchers.length;e++)this._eventsdispatchers[e].dispatcher.removeAll(),this[this._eventsdispatchers[e].id]&&delete this[this._eventsdispatchers[e].id];this._eventsdispatchers.length=0}},{key:"id",get:function(){return this._id},set:function(e){this._id&&this.parentComponent&&(this.parentComponent[this._id]===this&&(delete this.parentComponent[this._id],this.parentComponent[e]=this),this.parentComponent.comps[this._id]===this&&(delete this.parentComponent.comps[this._id],this.parentComponent.comps[e]=this)),this._id=e}},{key:"ready",get:function(){return this._ready}}]),t}(s["default"]);e["default"]=u;var c=function(){function e(t){i(this,e),this.parentcomp=t,this._children=[]}return a(e,[{key:"add",value:function(e,t){this._children.push(e),void 0!=e.id&&(t&&(this.parentcomp[e.id]=e),this[e.id]=e)}},{key:"remove",value:function(e){var t=this._children.indexOf(e);-1!=t&&(this._children.splice(t,1),e.id&&(this.parentcomp[e.id]&&delete this.parentcomp[e.id],this[e.id]&&delete this[e.id]))}},{key:"removeAll",value:function(){var e=this;this._children.forEach(function(t,n,i){t.id&&(e.parentcomp[t.id]&&delete e.parentcomp[t.id],e[t.id]&&delete e[t.id])}),this._children=[]}},{key:"kill",value:function(){var e=this,t=this._children.slice();t.forEach(function(t,n,i){t.id&&(e.parentcomp[t.id]&&delete e.parentcomp[t.id],e[t.id]&&delete e[t.id]),t.kill()}),this._children=[]}},{key:"getByPath",value:function(e){for(var t=e.split("."),n=0;n<this._children.length;n++)if(this._children[n].id==t[0])return t.shift(),0==t.length?this._children[n]:this._children[n].comps.getByPath(t.join("."));return null}},{key:"initChildren",value:function(e){var t=this,n=[];this.forEach(function(e){!e.ready&&e.initialise&&1!=e.notInit&&n.push(e)});var i=n.slice(),r=function(n){i.splice(i.indexOf(n.target),1),0==i.length&&e({target:t})};if(0==n.length)return void e({target:this});for(var o=0;o<n.length;o++)n[o].initialise(r)}},{key:"forEach",value:function(e){this._children.forEach(function(t,n,i){e(t,n)})}},{key:"array",get:function(){return this._children}}]),e}()}),define("jx/core/memos/MemoAbstract",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:"",autosave:!0},e)));return n.autosave=n.dataObject.autosave,n.data={},n.autosave&&n.load(),n}return o(t,e),a(t,[{key:"setVar",value:function(e,t){if("string"==typeof e){for(var n=e.split("."),i=this.data,r=0;r<n.length;r++)void 0==i[n[r]]?r==n.length-1?i[n[r]]=t:i[n[r]]={}:r==n.length-1&&(i[n[r]]=t),i=i[n[r]];return this.autosave&&this.save(),t}for(var o in e)this.setVar(o,e[o])}},{key:"getVar",value:function(e,t){for(var n=e.split("."),i=this.data,r=0;r<n.length;r++){if(void 0==i[n[r]]){if(r==n.length-1)return i[n[r]]=t,this.autosave&&this.save(),t;i[n[r]]={}}else if(r==n.length-1)return i[n[r]];i=i[n[r]]}}},{key:"incNumber",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return console.log(this.getVar(e,n)+t),this.setVar(e,this.getVar(e,n)+t)}},{key:"clear",value:function(){}},{key:"save",value:function(){}},{key:"load",value:function(){}}]),t}(s["default"]);e["default"]=u}),define("jx/core/memos/MemoCookie",["exports","jx/core/memos/MemoAbstract"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e)))}return o(t,e),a(t,[{key:"save",value:function(){this._createCookie("memo",JSON.stringify(this.data),1e6)}},{key:"load",value:function(){this.data=JSON.parse(this._readCookie("memo"))||{}}},{key:"clear",value:function(){this.data={},this.save()}},{key:"_createCookie",value:function(e,t,n){if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="; expires="+i.toGMTString()}else var r="";document.cookie=e+"="+t+r+"; path=/"}},{key:"_readCookie",value:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}},{key:"_eraseCookie",value:function(e){this._createCookie(e,"",-1)}}]),t}(s["default"]);e["default"]=u}),define("jx/core/memos/MemoLocalStorage",["exports","jx/core/memos/MemoAbstract"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e)))}return o(t,e),a(t,[{key:"save",value:function(){"undefined"!=typeof Storage?localStorage.setItem("memo",JSON.stringify(this.data)):console.log("No Web Storage support")}},{key:"load",value:function(){return"undefined"!=typeof Storage?void(this.data=JSON.parse(localStorage.getItem("memo"))||{}):(console.log("No Web Storage support"),null)}}]),t}(s["default"]);e["default"]=u}),define("jx/core/transitions/TransitionManager",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=null,r=function s(){t(this,s)},o=function(){function e(n){t(this,e),this.jx=n}return n(e,[{key:"create",value:function(e){var t=this.jx.db.classFromID(e.type);return e.jx=this.jx,new t(e)}}],[{key:"getInstance",value:function(){return this[i]||(this[i]=new e(r)),this[i]}}]),e}();e["default"]=o}),define("jx/core/comps/VisualComponent",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({render:null,quality:1,x:0,y:0,width:void 0,height:void 0,ratioWidth:void 0,ratioHeight:void 0,alpha:void 0,anchor:null,anchorX:0,anchorY:0,enabled:!0,visible:!0,rotation:0,cursor:"default",onclick:null,lockDelayAfterClick:null},e)))}return o(t,e),a(t,[{key:"kill",value:function(){this.view&&this.parent&&this.parent.view&&this.parent.removeChild(this),this.view&&(this.view._jxClip=null),this.view=null,this.parent=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this)}},{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this._parent=null,this.render=this.dataObject.render,this.quality=this.dataObject.quality,this["implements"]("VisualComponent"),this._cursorOnDisabled="default",this._initJXVisualClipZap(),this.click=new signals.Signal,this.onclick=new signals.Signal,this.onrollover=new signals.Signal,this.onrollout=new signals.Signal,this.onmouseup=new signals.Signal,this.onmousedown=new signals.Signal,this.onmousemove=new signals.Signal,this.dataObject.view&&(this.view=this.dataObject.view)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view&&(this.view._jxClip=this,this.x=this.dataObject.x,this.y=this.dataObject.y,this.rotation=0,this.dataObject.width&&(this.width=this.dataObject.width),this.dataObject.height&&(this.height=this.dataObject.height),this.dataObject.ratioWidth&&(this.ratioWidth=this.dataObject.ratioWidth),this.dataObject.ratioHeight&&(this.ratioHeight=this.dataObject.ratioHeight),this.anchorX=this.dataObject.anchorX,this.anchorY=this.dataObject.anchorY,this.dataObject.fitIn&&this.fitIn(this.dataObject.fitIn),this.rotation=this.dataObject.rotation,this.visible=this.dataObject.visible,void 0!=this.dataObject.alpha&&(this.alpha=this.dataObject.alpha),this.data=this.dataObject.data,this.cursor=this.dataObject.cursor,this.enabled=this.dataObject.enabled,this.saveBounds(),this.dataObject.onclick&&this.onclick.add(this.dataObject.onclick),this.dataObject.onrollover&&this.onrollover.add(this.dataObject.onrollover),this.dataObject.onrollout&&this.onrollout.add(this.dataObject.onrollout),this.dataObject.onmouseup&&this.onmouseup.add(this.dataObject.onmouseup),this.dataObject.onmousedown&&this.onmousedown.add(this.dataObject.onmousedown),this.dataObject.onmousemove&&this.onmousemove.add(this.dataObject.onmousemove))}},{key:"_initJXVisualClipZap",value:function(){this.jx.__jxVisualClipZap||(this.jx.__jxVisualClipZap=this.jx._clipZapInit({zIndex:1200,opacity:0})),this.__jxVisualClipZapInfo={delay:null===this.dataObject.lockDelayAfterClick?this.jx.config.app.lockDelayAfterClick:this.dataObject.lockDelayAfterClick}}},{key:"__clipZapShow",value:function(){var e=this,t=this.__jxVisualClipZapInfo.delay;0!==t&&(this.jx.__jxVisualClipZap.clickHandler.add(function(){}),$("body").append(this.jx.__jxVisualClipZap),this.jx.__jxVisualClipZap.css("display","inline"),this.jx.wait(t,function(){return e.__clipZapHide()}))}},{key:"__clipZapHide",value:function(){this.jx.__jxVisualClipZap.css("display","none"),this.jx.__jxVisualClipZap.detach(),this.jx.__jxVisualClipZap.clickHandler.removeAll()}},{key:"close",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),this.view&&this.parent&&this.parent.removeChild(this)}},{key:"transform",value:function(e){this.view.transform(e)}},{key:"fitIn_old",value:function(e){var t=e.target,n=void 0===t?null:t,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,u=void 0===a?0:a,c=e.height,l=void 0===c?0:c,h=e.center,f=void 0===h?!0:h;if(n){var d=this.jx.tools.obj.filter(n,{x:r,y:s,width:u,height:l});r=d.x,s=d.y,u=d.width,l=d.height}var p=u/this.width,v=l/this.height,g=Math.min(p,v);this.width*=g,this.height*=g,f&&(this.x=r+u/2-this.width/2,this.y=s+l/2-this.height/2)}},{key:"fitIn",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.target,n=void 0===t?null:t,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,u=void 0===a?0:a,c=e.height,l=void 0===c?0:c,h=e.alignH,f=void 0===h?"left":h,d=e.alignV,p=void 0===d?"top":d,v=e.auto,g=void 0===v?!1:v,y=e.center;if(1==y&&(f="center",p="middle"),0==arguments.length)return void(this._containerBounds&&this.fitIn(this._containerBounds));if(n){var m=this.jx.tools.obj.filter(n,{x:r,y:s,width:u,height:l});r=m.x,s=m.y,u=m.width,l=m.height}g&&(this._containerBounds={target:n,x:r,y:s,width:u,height:l,alignH:f,alignV:p,auto:g,center:y});var b=u/this.width,_=l/this.height,w=Math.min(b,_);switch(this.width*=w,this.height*=w,f){case"left":this.x=r;break;case"center":this.x=r+u/2-this.width/2;break;case"right":this.x=r+u-this.width}switch(p){case"top":this.y=s;break;case"middle":this.y=s+l/2-this.height/2;break;case"bottom":this.y=s+l-this.height}}},{key:"fitOut",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.target,n=void 0===t?null:t,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,u=void 0===a?0:a,c=e.height,l=void 0===c?0:c,h=e.alignH,f=void 0===h?"left":h,d=e.alignV,p=void 0===d?"top":d,v=(e.auto,e.center),g=void 0===v?!1:v;if(1==g&&(f="center",p="middle"),n){var y=this.jx.tools.obj.filter(n,{x:r,y:s,width:u,height:l});r=y.x,s=y.y,u=y.width,l=y.height}var m=u/this.width,b=l/this.height,_=Math.max(m,b);switch(this.width*=_,this.height*=_,f){case"left":this.x=r;break;case"center":this.x=r+u/2-this.width/2;break;case"right":this.x=r+u-this.width}switch(p){case"top":this.y=s;break;case"middle":this.y=s+l/2-this.height/2;break;case"bottom":this.y=s+l-this.height}}},{key:"saveBounds",value:function(){return this.savedBounds={x:this.x,y:this.y,width:this.width,height:this.height},this.savedBounds}},{key:"restoreBounds",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e=e||this.savedBounds,this.width=e.width,this.height=e.height,this.x=e.x,this.y=e.y}},{key:"cache",value:function(){this.view.cache(0,0,this.view.getBounds().width,this.view.getBounds().height)}},{key:"updateCache",value:function(){this.view.updateCache()}},{key:"uncache",value:function(){this.view.uncache()}},{key:"localToGlobal",value:function(){var e;return(e=this.view).localToGlobal.apply(e,arguments)}},{key:"globalToLocal",value:function(){var e;return(e=this.view).globalToLocal.apply(e,arguments)}},{key:"localToLocal",value:function(){var e;return(e=this.view).localToLocal.apply(e,arguments)}},{key:"bringToFront",value:function(){this.view.bringToFront()}},{key:"bringToBack",value:function(){this.view.bringToBack()}},{key:"_clicked",value:function(e){this._enabled&&(this.__clipZapShow(),this.onclick.dispatch({target:this,details:e}))}},{key:"_rollover",value:function(e){this._enabled&&this.onrollover.dispatch({target:this,details:e})}},{key:"_rollout",value:function(e){this._enabled&&this.onrollout.dispatch({target:this,details:e})}},{key:"_mouseup",value:function(e){this._enabled&&this.onmouseup.dispatch({target:this,details:e})}},{key:"_mousedown",value:function(e){this._enabled&&this.onmousedown.dispatch({target:this,details:e})}},{key:"_mousemove",value:function(e){this._enabled&&this.onmousemove.dispatch({target:this,details:e})}},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e}},{key:"render",get:function(){return this._render},set:function(e){this._render=e}},{key:"visible",set:function(e){this.view.visible=e},get:function(){return this.view.visible}},{key:"alpha",set:function(e){this.view.alpha=e},get:function(){return this.view.alpha}},{key:"x",set:function(e){this.view.x=e},get:function(){return this.view.x}},{key:"y",set:function(e){this.view.y=e},get:function(){return this.view.y}},{key:"width",set:function(e){this.view.width=e},get:function(){return this.view.width}},{key:"ratioWidth",set:function(e){var t=this.height/this.width;this.width=e,this.height=e*t}},{key:"ratioHeight",set:function(e){var t=this.width/this.height;this.height=e,this.width=e*t}},{key:"rotation",set:function(e){this.view.rotation=e},get:function(){return this.view.rotation}},{key:"scaleX",set:function(e){this.view.scaleX=e},get:function(){return this.view.scaleX}},{key:"scaleY",set:function(e){this.view.scaleY=e},get:function(){return this.view.scaleY}},{key:"scale",set:function(e){this.view.scaleX=e,this.view.scaleY=e}},{key:"height",set:function(e){this.view.height=e},get:function(){return this.view.height}},{key:"enabled",set:function(e){this._enabled=e,this.cursor=this._cursorOnRoll},get:function(){return this._enabled}},{key:"cursor",set:function(e){this.view.cursor=e},get:function(){return this.view.cursor}}]),t}(s["default"]);e["default"]=c}),define("jx/core/particles/ParticlesEmitter",["exports","jx/core/comps/VisualComponent"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={type:""},c=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign(u,e)));return n.tempData={},n.onFinished=new signals.Signal,n._create(),n._activated=!1,n._listeners={draw:function(e){return n._draw()}},n}return o(t,e),a(t,[{key:"_create",value:function(){this.context=this.dataObject.targetView.canvas.getContext("2d"),this.particleImage=this.dataObject.image,this.particles=[],this.maxParticles=10}},{key:"createExplosion",value:function(e,t,n,i,r,o,s){e-=.5*n,t-=.5*n;for(var o=n*o*.01,a=1;i>a;a++)for(var u=0;1*a>u;u++)this.particles.length<this.maxParticles&&this.particles.push(new l(e,t,n,n,a*o,s,r*Math.random()))}},{key:"_draw",value:function(){for(var e=[],t=this.particles.length-1;t>=0;t--)this.particles[t].moves++,this.particles[t].x+=this.particles[t].xunits,this.particles[t].y+=this.particles[t].yunits+this.particles[t].gravity*this.particles[t].moves,this.particles[t].moves<this.particles[t].life&&(e.unshift(this.particles[t]),this.context.globalAlpha=1-this.particles[t].moves/this.particles[t].life,this.context.drawImage(this.particleImage,Math.floor(this.particles[t].x),Math.floor(this.particles[t].y),this.particles[t].width,this.particles[t].height),this.context.globalAlpha=1);this.particles=e}},{key:"active",set:function(e){e!=this._activated&&(this._activated=e,e?createjs.Ticker.addEventListener("tick",this._listeners.draw):createjs.Ticker.removeEventListener("tick",this._listeners.draw))}}]),t}(s["default"]);e["default"]=c;var l=function h(e,t,n,r,o,s,a){i(this,h);var u=Math.floor(360*Math.random()),c=u*Math.PI/180;this.x=e,this.y=t,this.height=r,this.width=n,this.speed=o,this.gravity=s,this.life=a,this.moves=0,this.xunits=Math.cos(c)*this.speed,this.yunits=Math.sin(c)*this.speed}}),define("jx/core/particles/ParticlesManager",["exports","jx/core/particles/ParticlesEmitter"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.jx=t}return o(e,[{key:"create",value:function(e){return e.jx=this.jx,new r["default"](e)}}]),e}();e["default"]=s}),define("jx/core/filters/Filters",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(){t(this,e)}return n(e,null,[{key:"apply",value:function(e,t){var n=requirejs("jx/core/filters/"+t.filter);n.apply(e,t)}},{key:"cancel",value:function(e,t){var n=requirejs("jx/core/filters/"+t);n.cancel(e)}}]),e}();e["default"]=i}),define("jx/core/FXManager",["exports","jx/core/transitions/TransitionManager","jx/core/particles/ParticlesManager","jx/core/filters/Filters"],function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=r(t),a=r(n),u=r(i),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){var n=t.jx;o(this,e),this.jx=n,this.transitions=new s["default"](this.jx),this.particles=new a["default"](this.jx),this.filters=u["default"]}return c(e,[{key:"createTransition",value:function(e){return this.transitions.create(e)}},{key:"createParticle",value:function(e){return this.particles.create(e)}}]),e}();e["default"]=l}),define("jx/core/sound/SoundPlayer",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:h(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=0,l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:null,resourceId:null,loops:0},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onfinished","onplaystart","onstop","onplaying"),this._sound=null,this.loops=this.dataObject.loops,this._volume=1,this._soundData={id:null,sound:null,src:null},this._playing=!1,this.dataObject.id&&(this.id=this.dataObject.id),this.dataObject.resourceId&&this._setSound(this.dataObject.resourceId)}},{key:"kill",value:function(){this.cancel(),this._removePlayingEvent(),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null),this._playingOnce&&(this.onplaying.remove(this._playingOnce),this._playingOnce=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this)}},{key:"_setSound",value:function(e){var t=this.jx.db.findOne({id:e,lang:this.jx.config.lang});this._soundData.id=e,void 0!=this._soundData.id&&(this._idSoundInstance="ID"+ ++c,this.sound=t.data&&t.data.src?t.data:createjs.Sound.createInstance(t.src),this._onSoundFinishedListener=this.sound.on("complete",this._soundFinished,this),this._soundData.src=t.src)}},{key:"play",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.id,n=e.onfinished,i=void 0===n?null:n,r=e.onplaying,o=void 0===r?null:r,s=e.loops,a=void 0===s?null:s;t||(this._soundData.id?t=this._soundData.id:console.warn('SoundPlayer.play error - correct usage - SoundPlayer.play({id:"SOUNDPLAYERID" )')),this.sound&&this._playing&&t==this._soundData.id||(this._cleanupLastSound(),i&&(this._finishedOnce=i||function(e){},this.onfinished.addOnce(this._finishedOnce)),o&&(this._playingOnce=o||function(e){},this.onplaying.addOnce(this._playingOnce)),this._setSound(t),this._addPlayingEvent(),this.sound.play({loop:a||this.loops,volume:this._volume}),this._playing=!0,this.onplaystart.dispatch({target:this}))}},{key:"_cleanupLastSound",value:function(){this.sound&&(this.cancel(),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null),this._playingOnce&&(this.onplaying.remove(this._playingOnce),this._playingOnce=null))}},{key:"_addPlayingEvent",value:function(){var e=this;this._removePlayingEvent(),this._onPlayingListener=this.jx.ticker.on("tick",function(t){e._playing&&e.onplaying.dispatch({target:e})})}},{key:"_removePlayingEvent",value:function(){this._onPlayingListener&&(this.jx.ticker.off("tick",this._onPlayingListener),this._onPlayingListener=null)}},{key:"_soundFinished",value:function(e){this._finishedOnce;this.stop()}},{key:"stop",value:function(e){this._playing&&(this._playing=!1,this._stopSound(),
this._finishedOnce=null,this.onfinished.dispatch({target:this}))}},{key:"appFreeze",value:function(){this._appFreezed||(this._appFreezed=!0,this._freezeState={playing:this._playing},this.sound&&this._playing&&(this.sound.paused=!0))}},{key:"appUnfreeze",value:function(){this._appFreezed&&(this._appFreezed=!1,this.sound&&(this.sound.paused=!this._freezeState.playing))}},{key:"pause",value:function(){this._paused||(this._paused=!0,null!=this.sound&&(this.sound.paused=!0))}},{key:"resume",value:function(){this._paused&&(this._paused=!1,null!=this.sound&&(this.sound.paused=!1))}},{key:"cancel",value:function(){this._playing&&(this._playing=!1,this._stopSound(),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null))}},{key:"_stopSound",value:function(){null!=this.sound&&(this.sound.stop(),this._onSoundFinishedListener&&(this.sound.off("complete",this._onSoundFinishedListener),this._onSoundFinishedListener=null),this._removePlayingEvent(),this.sound.destroy(),this._currentSoundFinished=null,this.sound=null,this.onstop.dispatch({target:this}))}},{key:"volume",set:function(e){this._volume=e,this.sound&&(this.sound.volume=this._volume)},get:function(){return this._volume}},{key:"playing",get:function(){return this._playing}}]),t}(s["default"]);e["default"]=l}),define("jx/core/sound/SoundPlayerMediaElement",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:null,resourceId:null,loops:0},e)));return n.addEventDispatcher("onfinished","onplaystart","onstop"),n._sound=null,n.loops=n.dataObject.loops,n._volume=1,n._soundData={id:null,sound:null},e.id&&(n.id=e.id),e.resourceId&&n._setSound(e.resourceId),n}return o(t,e),a(t,[{key:"_setSound",value:function(e){var t=this,n=this.jx.db.findOne({id:e,lang:this.jx.config.lang});this._soundData.id=e,void 0!=this._soundData.id&&(this.sound=n.data,this.sound.addEventListener("ended",function(e){return t._soundFinished(e)}))}},{key:"play",value:function(e){var t=e.id,n=e.onfinished,i=e.loops;this.sound&&this.cancel(),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null),n&&(this._finishedOnce=n||function(e){},this.onfinished.addOnce(this._finishedOnce)),this._setSound(t),this.loops=i||this.loops,this._tempLoops=this.loops,this.sound.loop=!1,this.sound.volume=this._volume,this.sound.setCurrentTime(0),this.sound.play(),this.onplaystart.dispatch({target:this})}},{key:"_soundFinished",value:function(e){0!=this._tempLoops?(this.sound.removeEventListener("ended",this._soundFinished),this.sound.addEventListener("ended",this._soundFinished),this._tempLoops--,this.sound.setCurrentTime(0),this.sound.play()):(console.log("soundFinished "+this._soundData.id),this.stop())}},{key:"stop",value:function(e){void 0!=this.sound&&null!=this.sound&&this.sound.pause(),this.onstop.dispatch({target:this}),this.onfinished.dispatch({target:this}),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null)}},{key:"cancel",value:function(){console.log("cancel",this.sound),null!=this.sound&&(this.sound.pause(),this.sound.removeEventListener("ended",this._soundEndedhandler),this.sound=null,this.onstop.dispatch({target:this})),this._finishedOnce&&(this.onfinished.remove(this._finishedOnce),this._finishedOnce=null)}},{key:"volume",set:function(e){this._volume=e,this.sound&&(this.sound.volume=this._volume)},get:function(){return this._volume}}]),t}(s["default"]);e["default"]=u}),define("jx/core/sound/SoundManager",["exports","jx/core/sound/SoundPlayer","jx/core/sound/SoundPlayerMediaElement"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(t),s=i(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){var n=t.jx;r(this,e),this.jx=n,this._players=[],this.groups={none:[]},this.music=null,this.voice=null,this.init()}return a(e,[{key:"kill",value:function(){console.info("killing",this,this._players);for(var e=this._players.slice(),t=0;t<e.length;t++)console.log("Player",e[t]),this._destroyPlayer(e[t]);this._players=null,this._freezedPlayers=null,this.music=null,this.voice=null,this.groups=null,this.jx=null,console.info("killed",this)}},{key:"init",value:function(){var e=this;this.createPlayer({id:"voice"}),this.voice.onplaystart.add(function(){e.music.oldVolume=e.music.volume,e.music.volume=40*e.music.volume/100}),this.voice.onstop.add(function(){e.music.volume=void 0==e.music.oldVolume?e.music.volume:e.music.oldVolume}),this.createPlayer({id:"music"}),this.music.loops=-1}},{key:"play",value:function(e){var t=this,n=e.id,i=e.loops,r=void 0===i?null:i,o=e.onfinished,s=void 0===o?function(e){}:o,a=this.createPlayer();return a.play({id:n,loops:r,onfinished:function(e){t._destroyPlayer(a),s(e)}}),a}},{key:"stop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(console.log("stop",e),null==e)for(var t=0;t<this._players.length;t++)null!=this._players[t]&&this._players[t].stop()}},{key:"cancel",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(console.log("cancel",e),null==e)for(var t=0;t<this._players.length;t++)null!=this._players[t]&&this._players[t].cancel()}},{key:"appFreeze",value:function(){if(!this._appFreezed){this._appFreezed=!0,this._freezedPlayers=this._freezedPlayers||[];for(var e=0;e<this._players.length;e++)this._players[e].playing&&(this._freezedPlayers.push(this._players[e]),this._players[e].appFreeze())}}},{key:"appUnfreeze",value:function(){if(this._appFreezed){this._appFreezed=!1;for(var e=0;e<this._freezedPlayers.length;e++)this._freezedPlayers[e].appUnfreeze();this._freezedPlayers.length=0}}},{key:"createPlayer",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({jx:this.jx,id:null,loops:0,resourceId:null,streaming:!1},e);var t,n=e.streaming||!this.jx.config.system.audio.isWebAudioSupported?s["default"]:o["default"];if(null==e.id)return t=new n(e),this._players.push(t),t;for(var i in this)if(e.id==this[i])return this[e.id];return this[e.id]?console.warn("SoundPlayer",e.id,"already exists"):(t=new n(e),this._players.push(t),this[e.id]=t),this[e.id]}},{key:"killPlayer",value:function(e){this._destroyPlayer(e)}},{key:"_destroyPlayer",value:function(e){if(e){e.id&&void 0!=this[e.id]&&delete this[e.id];for(var t=0;t<this._players.length;t++)this._players[t]===e&&this._players.splice(t,1);e.kill()}}},{key:"destroyPlayer",value:function(e){void 0!=this[e.id]?delete this[e.id]:console.warn("SoundPlayer",e.id,"does not exist")}},{key:"createGroup",value:function(e){console.log("addGroup",e)}},{key:"volume",get:function(){return createjs.Sound.volume},set:function(e){createjs.Sound.volume=e}}]),e}();e["default"]=u}),define("jx/comps/BusyScreen",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=null,r=function s(){t(this,s)},o=function(){function e(n){var i=n.jx;t(this,e),this.jx=i,this.onclick=new signals.Signal,this._spinner=window.JXLoadAnim,this._splashscreen=$("body").find("#splashscreen")}return n(e,[{key:"kill",value:function(){this._killed||(this._killed=!0,this._spinner=window.JXLoadAnim=null,this.jx=null)}},{key:"initialize",value:function(){var e={lines:12,length:10,width:5,radius:10,scale:3,corners:2,color:"#eee",opacity:0,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};document.body;this._spinner=new Spinner(e)}},{key:"show",value:function(){this._spinner.spin(document.body)}},{key:"showSplashScreen",value:function(){this._spinner.spin(document.body)}},{key:"hideSpinner",value:function(){console.log("hidespinner",this._spinner===window.JXLoadAnim),this._spinner.stop()}},{key:"showStartButton",value:function(e){var t=e.height,n=void 0===t?"80%":t,i=e.onclick;this._splashscreen.find("#startBTN").find("#image").css("height",n),this._splashscreen.find("#startBTN").css("display","inline"),this._splashscreen.find("#startBTN").css("cursor","pointer"),this._splashscreen.css("cursor","pointer"),this._splashscreen.mousedown(i)}},{key:"hide",value:function(){this._spinner.stop(),this._splashscreen.remove()}}],[{key:"getInstance",value:function(){return this[i]||(this[i]=new e(r)),this[i]}}]),e}();e["default"]=o}),define("jx/core/dataobjects/ImportData",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(){t(this,e),this.projectInformations=null,this.modulePath=null,this.moduleClass=null,this.resources=null,this.styles=null,this.gabarit=[]}return n(e,[{key:"check",value:function(){for(var e in this)if(null==this[e])return!1;return!0}}]),e}();e["default"]=i}),define("jx/projecttypes/simplejson/Importer",["exports","jx/core/JXObject","jx/core/Resource","jx/core/utils/Tools","jx/core/dataobjects/ImportData"],function(e,t,n,i,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var c=o(t),l=o(n),h=o(i),f=o(r),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e,n){s(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{jx:e}));return i.importData=new f["default"],i.moduleData=null,i.overrideConfig=window.overrideJXConfig||{},i.configURL=i.overrideConfig.configURL||"assets/config.json",i}return u(t,e),d(t,[{key:"importConfig",value:function(e){this.onFinished=e,this._loadJson()}},{key:"_loadJson",value:function(){this.json=null,this.jsonUrl=window.location.href.substr(0,location.href.lastIndexOf("/")+1)+""+this.configURL,this.jx.db.addResources({id:"configJSON",type:"json",src:this.jsonUrl}),this.jx.db.load({id:"configJSON"},$.proxy(this._jsonLoaded,this))}},{key:"_jsonLoaded",value:function(e){var t=this.jx.db.findOne({id:"configJSON"});t||console.log(this.jx.debug.fatal("No Data File")),this.json=t.data;var n=t.data.formatJSON||"SimpleJSON1";this["_jsonAnalyse_"+n]()}},{key:"_jsonAnalyse_SimpleJSON1",value:function(){h["default"].mergeObject(this.json,{ProjectInformations:{status:"closed"}}),this.importData.modulePath=this._getEntryPointPath(),this.moduleData=this.json["entry-point"][this.importData.modulePath],this.importData.projectInformations=this.json.ProjectInformations,this.importData.projectInformations=h["default"].mergeObject(this.importData.projectInformations,this.overrideConfig),this.importData.resources=this._getResources(),this._finish()}},{key:"_getResources",value:function(){for(var e=this.moduleData.resources,t=[],n=0;n<e.length;n++){var i=e[n],r=new l["default"](i);t.push(r)}return t}},{key:"_getEntryPointPath",value:function(){for(var e in this.json["entry-point"])return e}},{key:"_jsonAnalyse_SimpleJSON2",value:function(){var e=this.json.projectData;this.importData.resources=[];for(var t=0;t<e.length;t++)"Informations"==e[t].id?this.importData.projectInformations=e[t].value:this.importData.resources.push(e[t]);this._finish()}},{key:"_finish",value:function(){this._destroy(),this.onFinished(this.importData)}},{key:"_destroy",value:function(){this.jx.db.removeResources({id:"configJSON"})}}]),t}(c["default"]);e["default"]=p}),define("jx/core/layout/Disposition",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n){t(this,e),this.jx=n}return n(e,[{key:"getPositions",value:function(e){for(var t=e.rows,n=e.ref,i=e.center,r=void 0===i?!1:i,o=e.spacing,s=void 0===o?0:o,a=e.margin,u=void 0===a?0:a,c={},l=(n.width-2*u-(t-1)*s)/t,h=0;t>h;h++){console.log(l,r?l*h+l/2:l*h);var f=0==h?u:u+h*s;c["row"+h]={x:r?f+l*h+l/2:f+l*h,width:l},console.log(c["row"+h].x+c["row"+h].width+u)}return console.log(2*u+t*l+(t-1)*s,n.width),c}},{key:"setToPos",value:function(e){var t=e.comp,n=e.target;t.x=n.x,t.y=n.y}},{key:"setToPosGlobal",value:function(e){for(var t=e.comp,n=e.target,i=0;i<t.length;i++)n.localToLocal(0,0,t[i]),t[i].x=n.x,t[i].y=n.y}},{key:"setToGrid",value:function(e){var t,n=e.comp,i=e.target,r=e.interval,o=void 0===r?{}:r,s=e.margin,a=void 0===s?{}:s,u=e.cols,c=void 0===u?1e5:u,a=this.jx.tools.fillObject({top:0,left:0,right:0,bottom:0},a),o=this.jx.tools.fillObject({x:0,y:0},o),l={x:0,y:0,width:i.width,height:i.height},h=(l.width,l.x+a.left),f=l.y+a.top,d=n.length/c,p=(l.width-a.left-a.right-o.x*(c-1))/c,v=n[0].height*p/n[0].width,g=a.top+a.bottom+d*(n[0].height*p/n[0].width)+(d-1)*o.y;if(g>l.height)var v=(l.height-a.top-a.bottom-o.y*(d-1))/d,p=n[0].width*v/n[0].height;var y=(l.width-(a.left+a.right+c*p+(c-1)*o.x))/2,m=l.x+y+a.left;h=m;var b=(l.height-(a.top+a.bottom+d*v+(d-1)*o.y))/2,_=l.y+b+a.top;f=_;for(var w={x:l.x+a.left,y:l.y+a.top},j=0;d>j;j++)for(var x=0;c>x;x++)w.x=x*(p+o.x)+y+a.left,w.y=j*(v+o.y)+b+a.top,console.log("clip",j*c+x,j),t=n[j*c+x],t.ratioWidth=p,t.x=w.x,t.y=w.y}},{key:"setToGridGlobal",value:function(e){var t,n,i=e.comp,r=e.target,o=e.interval,s=void 0===o?{}:o,a=e.margin,u=void 0===a?{}:a,c=e.cols,l=void 0===c?1e5:c,u=this.jx.tools.fillObject({top:0,left:0,right:0,bottom:0},u),s=this.jx.tools.fillObject({x:0,y:0},s),h=this.getGlobalBounds(r),f=0,d=h.width,p=0,v=h.x+u.left,g=h.y+u.top,y=0,m=(h.width-u.left-u.right-s.x*(l-1))/l;console.log(m,u.left,u.right,s.x,l);for(var b=0;b<i.length;b++){y++,t=i[b],t.ratioWidth=m;var _=this.getGlobalBounds(t);p=_.height>p?_.height:p;var w=v+_.width+s.x+u.right;w>h.x+d||y>l?(y=1,n=v+u.right-h.x,v=h.x+u.left,g+=p+s.y):n=w-h.x,f=n>f?n:f,t.nextTransform={x:v,y:g,width:m},console.log(_.width,t.width),v+=_.width+s.x}for(var j=(d-f)/2,b=0;b<i.length;b++){t=i[b],t.nextTransform.x+=j;var x=r.globalToLocal(v,t.nextTransform.y);t.x=x.x,t.y=x.y}}},{key:"setToGridGlobal2",value:function(e){for(var t,n,i=e.comp,r=e.target,o=e.interval,s=void 0===o?{}:o,a=e.margin,u=void 0===a?{}:a,c=e.cols,l=void 0===c?1e5:c,u=this.jx.tools.fillObject({top:0,left:0,right:0,bottom:0},u),s=this.jx.tools.fillObject({x:0,y:0},s),h=this.getGlobalBounds(r),f=0,d=h.width,p=0,v=h.x+u.left,g=h.y+u.top,y=0,m=0;m<i.length;m++){y++,t=i[m];var b=this.getGlobalBounds(t);p=b.height>p?b.height:p;var _=v+b.width+s.x+u.right;_>h.x+d||y>l?(y=1,n=v+u.right-h.x,v=h.x+u.left,g+=p+s.y):n=_-h.x,f=n>f?n:f,t.nextTransform={x:v,y:g},v+=b.width+s.x}for(var w=(d-f)/2,m=0;m<i.length;m++){t=i[m],t.nextTransform.x+=w;var j=t.globalToLocal(t.nextTransform.x,t.nextTransform.y);t.x=j.x,t.y=j.y}}},{key:"centerGlobal",value:function(e){var t=e.comp,n=e.target;console.log("centerGlobal");for(var i=0;i<t.length;i++)this.center({comp:[t[i]],target:this.getGlobalBounds(n)})}},{key:"getBounds",value:function(e,t){return{x:e.localToLocal(0,0,t).x,y:e.localToLocal(0,0,t).y,width:e.localToLocal(e.width,0,t).x-e.localToLocal(0,0,t).x,height:e.localToLocal(0,e.height,t).y-e.localToLocal(0,0,t).y}}},{key:"getGlobalBounds",value:function(e){return{x:e.localToGlobal(0,0).x,y:e.localToGlobal(0,0).y,width:e.localToGlobal(e.width,0).x-e.localToGlobal(0,0).x,height:e.localToGlobal(0,e.height).y-e.localToGlobal(0,0).y}}},{key:"center",value:function(e){var t=e.comp,n=e.target;console.log("center",n,t);for(var i={xc:n.x+n.width/2,yc:n.y+n.height/2},r=0;r<t.length;r++)t[r].x=i.xc-t[r].width/2,t[r].y=i.yc-t[r].height/2}},{key:"centerH",value:function(e){for(var t=e.targets,n=e.ref,i=0;i<t.length;i++)console.log("targets[i].x : ",t[i].x,t[i].width/2,n.width),t[i].x=n.width-t[i].width/2}},{key:"centerV",value:function(e){var t=e.comp,n=e.target;console.log("centerV",n);for(var i={xc:n.x+n.width/2,yc:n.y+n.height/2},r=0;r<t.length;r++)t[r].y=i.yc-t[r].height/2}},{key:"enqueueHCenter",value:function(e){for(var t=e.targets,n=e.ref,i=e.margin,r=void 0===i?0:i,o=0,s=0;s<t.length;s++)o+=t[s].width+(s==t.length-1?0:r);for(var a=n.x+n.width/2-o/2,s=0;s<t.length;s++)t[s].x=a,a+=t[s].width+(s==t.length-1?0:r)}},{key:"enqueueVCenter",value:function(e){for(var t=e.comp,n=e.target,i=e.margin,r=void 0===i?0:i,o=0,s=0;s<t.length;s++)o+=t[s].height+(s==t.length-1?0:r);for(var a=n.y+n.height/2-o/2,s=0;s<t.length;s++)t[s].y=a,a+=t[s].height+(s==t.length-1?0:r)}},{key:"enqueueH",value:function(e){for(var t=e.comp,n=e.target,i=e.margin,r=void 0===i?0:i,o=n.x+n.width+r,s=0;s<t.length;s++)t[s].x=o,o+=t[s].width+r}},{key:"enqueueV",value:function(e){for(var t=e.comp,n=e.target,i=e.margin,r=void 0===i?0:i,o=n.y+n.height+r,s=0;s<t.length;s++)t[s].y=o,o+=t[s].height+r}},{key:"align",value:function(e){for(var t,n=e.ref,i=e.targets,r=0;r<i.length;r++)t={x:(i[r].alignX||"none").replace("center","centerX"),y:(i[r].alignY||"none").replace("center","centerY")},this["align_"+t.x]({target:i[r],ref:n}),this["align_"+t.y]({target:i[r],ref:n})}},{key:"align_none",value:function(e){e.ref,e.target}},{key:"align_left",value:function(e){var t=(e.ref,e.target);t.x=0}},{key:"align_top",value:function(e){var t=(e.ref,e.target);t.y=0}},{key:"align_bottom",value:function(e){var t=e.ref,n=e.target;n.y=t.height-n.height}},{key:"align_right",value:function(e){var t=e.ref,n=e.target;n.x=t.width-n.width}},{key:"align_centerX",value:function(e){var t=e.ref,n=e.target;n.x=t.width/2-n.width/2}},{key:"align_centerY",value:function(e){var t=e.ref,n=e.target;n.y=t.height/2-n.height/2}},{key:"alignLeft",value:function(e){for(var t=e.comp,n=e.target,i=n.x,r=0;r<t.length;r++)t[r].x=i}},{key:"alignTop",value:function(e){for(var t=e.comp,n=e.target,i=n.y,r=0;r<t.length;r++)t[r].y=i}},{key:"alignBottom",value:function(e){for(var t=e.comp,n=e.target,i=n.y+n.height,r=0;r<t.length;r++)t[r].y=i-t[r].height}},{key:"alignRight",value:function(e){for(var t=e.comp,n=e.target,i=n.y+n.width,r=0;r<t.length;r++)t[r].x=i-t[r].width}},{key:"fitIn",value:function(e){for(var t=e.comp,n=e.target,i={xc:n.x+n.width/2,yc:n.y+n.height/2},r=0;r<t.length;r++)t[r].width/n.width>t[r].height/n.height?t[r].ratioWidth=n.width:t[r].ratioHeight=n.height,t[r].x=i.xc-t[r].width/2,t[r].y=i.yc-t[r].height/2}}]),e}();e["default"]=i}),define("jx/core/layout/Layout",["exports","jx/core/layout/Disposition"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=null,a=function c(){i(this,c)},u=function(){function e(t){var n=t.jx;i(this,e),this.jx=n,this.disposition=new r["default"](this.jx)}return o(e,null,[{key:"getInstance",value:function(t){return this[s]||(this[s]=new e(a,t)),this[s]}}]),e}();e["default"]=u}),define("jx/core/Request",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function i(e){e.id,e.type,e.src;t(this,i),this.id="",this.type="",this.src="",this.data=null;for(var n in arguments[0])this[n]=arguments[0][n]};e["default"]=n}),define("jx/core/utils/List",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=void 0,r=null,o=-1,s="loop",a=function(){function e(n){t(this,e),r=n,this._init()}return n(e,[{key:"_init",value:function(){i=[],o=-1,s=void 0==r.loopMode?"loop":r.loopMode,this.fill(r),1==r.shuffle&&this.shuffle()}},{key:"fill",value:function(t){if(r=t,(void 0==r.start||void 0==r.end)&&void 0==r.sourceArray)return!1;if(r.curve=void 0==r.curve?"linear":r.curve,r.num=void 0==r.num?Math.abs(r.end-r.start):r.num-1,i=[],void 0!=r.sourceArray)for(var n=0;n<r.sourceArray.length;n++)i[n]=r.sourceArray[n];else{var o=(r.end-r.start)/r.num,s=r.start;if("linear"==r.curve)for(var a=0;a<=r.num;a++)i.push(o*a+s);else if("exp"==r.curve)for(var a=0;a<=r.num;a++)i.push(o/r.num*a*a+s)}if(void 0!=r.accidents&&0!=r.noise_en_last)for(var n=0;n<r.accidents.length;n++)i[e.randomValue(r.accidents[n].start,r.accidents[n].end)]=r.accidents[n].value;if(void 0!=r.noise&&0!=r.noise&&this.noise(),void 0!=r.accidents&&0==r.noise_en_last)for(var n=0;n<r.accidents.length;n++)i[e.randomValue(r.accidents[n].start,r.accidents[n].end)]=r.accidents[n].value;return!0}},{key:"noise",value:function(){void 0==r.noiseAmplitude&&(r.noiseAmplitude=.1),r.clipping=r.clipping||!1;for(var t,n=0;n<i.length;n++)"number"==typeof i[n]&&(t=i[n]+e.randomValue(-1e3,1e3)/1e3*r.noiseAmplitude,r.clipping&&(t<r.start&&(t=r.start),t>r.end&&(t=r.end)),i[n]=t)}},{key:"next",value:function(){if(o++,o>=i.length)switch(s){case"once":return"ended";case"loop":o=0;break;case"shuffle":this.shuffle(),o=0}return i[o]}},{key:"nextLoop",value:function(){if(o=i.length,o>=i.length)switch(s){case"once":return"ended";case"loop":o=0;break;case"shuffle":this.shuffle(),o=0}return i[o]}},{key:"shuffle",value:function(){var t=i[o];i=e.randomiseArray(i),i[0]==t&&this.shuffle()}},{key:"removeCurrent",value:function(){i.splice(o,1),o--}},{key:"removeItems",value:function(t){if("number"==typeof t)for(var n=0;t>n;n++)i.splice(e.randomValue(0,i.length-1),1);o=0}},{key:"simulate",value:function(e){for(var t=e.start,n=void 0===t?0:t,i=e.end,r=[],o=0;i>o;o++)this.next(),o>=n&&r.push(this.current);return r}},{key:"info",value:function(){console.log("info : ");for(var e=0;e<i.length;e++)console.log(e+" : ",i[e])}},{key:"infoCurve",value:function(e){var t=e.parent,n=e.xScale,r=void 0===n?20:n,o=e.yScale,s=void 0===o?10:o,a=e.key,u=void 0===a?null:a,c=e.lineColor,l=void 0===c?"#F00":c,h=e.lineThickness,f=void 0===h?2:h,d=(e.markerHeight,e.oriX),p=void 0===d?0:d,v=e.oriY,g=void 0===v?384:v,y=i,m=(y.length,new createjs.Shape);m.graphics.setStrokeStyle(f,"round").beginStroke(l),m.graphics.moveTo(p,g);for(var b,_,w=0;w<y.length;w++)b=w,null==u?_=y[w]:"string"==typeof u?_=y[w][u]:"function"==typeof u&&(_=u(y[w])),console.log(b,y[w]," value:",_),b=p+b*r,_=g-_*s,console.log("x:",b," y:",_),0==w?m.graphics.moveTo(b,_):m.graphics.lineTo(b,_),m.graphics.lineTo(b,_-10),m.graphics.lineTo(b,_+10),m.graphics.lineTo(b,_);t.addChild({view:m})}},{key:"getPos",value:function(e){for(var t=0;t<i.length;t++)if(i[t]==e)return t;return!1}},{key:"current",get:function(){return i[o]}},{key:"e",get:function(){return i}},{key:"loopMode",set:function(e){this._loopMode=e}},{key:"size",get:function(){return i.length}},{key:"position",set:function(e){o=e},get:function(){return o}}],[{key:"randomiseArray",value:function(t){for(var n,i=t.slice(),r=[],o=i.length,s=0;o>s;s++)n=e.randomValue(0,i.length-1),r.push(i[n]),i.splice(n,1);return r}},{key:"randomValue",value:function(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;return n}}]),e}();e["default"]=a}),define("jx/core/transitions/SwapTransition",["exports","jx/core/comps/VisualComponent"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e){o(this,l),this.type="SwapTransition",this.item1Style={typeTransition:"quadOut",properties:{scaleY:0},duration:100},this.item2Style={typeTransition:"elasticOut",properties:{scaleY:1},duration:500}},c=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dataObject=n.jx.tools.mergeObject(n.dataObject,new u),n.tempData={},n.onFinished=new signals.Signal,n.onItem1Changing=new signals.Signal,n.onItem1Finished=new signals.Signal,n.onItem2Changing=new signals.Signal,n.item1Style=n.dataObject.item1Style,n.item2Style=n.dataObject.item2Style,n}return r(t,e),a(t,[{key:"play",value:function(e){var t=this,n=e.referenceElement,i=e.item1,r=e.item2;i.saveBounds(),r.saveBounds(),this.tempData.item1=i,this.tempData.item2=r,this.tempData.referenceElement=n,this.running=!0,createjs.Tween.get(i.view,{override:!0}).to(this.item1Style.properties,this.item1Style.duration,createjs.Ease[this.item1Style.typeTransition]).call(function(e){i.visible=!1,r.visible=!0,r.view.scaleY=0,t.onItem1Finished.dispatch({item1:i,item2:r,currentTarget:t}),createjs.Tween.get(r.view,{override:!0}).to(t.item2Style.properties,t.item2Style.duration,createjs.Ease[t.item2Style.typeTransition]).call(function(e){t.finish()},void 0,t).addEventListener("change",function(e){r.y=n.height-r.height,t.onItem2Changing.dispatch({item1:i,item2:r,currentTarget:t})})},void 0,this).addEventListener("change",function(e){i.y=n.height-i.height,t.onItem1Changing.dispatch({item1:i,item2:r,currentTarget:t})})}},{key:"stop",value:function(){this.running&&(this.running=!1,createjs.Tween.removeTweens(this.tempData.item1.view),createjs.Tween.removeTweens(this.tempData.item2.view))}},{key:"finish",value:function(){console.log("finish"),this.running&&(this.running=!1,createjs.Tween.removeTweens(this.tempData.item1.view),createjs.Tween.removeTweens(this.tempData.item2.view),this.onFinished.dispatch({item1:this.tempData.item1,item2:this.tempData.item2,currentTarget:this}))}}]),t}(s["default"]);e["default"]=c}),define("jx/core/loaders/JSONLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"load",value:function(){$.getJSON(this.resource.src).done($.proxy(this._jsonLoaded,this)).fail($.proxy(this._jsonFailed,this)).always($.proxy(this._always,this))}},{key:"kill",value:function(){this.jx&&(this.onFinished=null,this.resource=null,this.jx=null)}},{key:"_jsonLoaded",value:function(e){this.resource.data=e,this.resource.ready=!0,this.onFinished&&this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_jsonFailed",value:function(){this.onFinished&&this.onFinished({target:this,resource:this.resource,success:!1})}},{key:"_always",value:function(){}}]),e}();e["default"]=i}),define("jx/core/loaders/ImageLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this._loader=null,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"load",value:function(){this._loader=new createjs.LoadQueue(this.jx.config.system.audio.isWebAudioSupported),this._loader.on("fileload",this._resourceLoaded,this),this._loader.on("error",this._resourceFailed,this),this._loader.loadFile({id:this.resource.id,src:this.resource.src})}},{key:"kill",value:function(){this.jx&&(this._loader.removeAllEventListeners(),this._loader.removeAll(),this._loader.destroy(),this._loader=null,this.onFinished=null,this.resource=null,this.jx=null)}},{key:"_resourceLoaded",value:function(e){var t=this;this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed);var n=e.result;this.success=!0,setTimeout(function(){t._offsetResourceLoaded(n)},10)}},{key:"_offsetResourceLoaded",value:function(e){this.resource.data=e,this.resource.ready=!0,this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_resourceFailed",value:function(e){this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed),
this.success=!1,this.onFinished({target:this,resource:this.resource,success:!1})}}]),e}();e["default"]=i}),define("jx/core/loaders/SoundLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this._loader=null,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"load",value:function(){this._loader=new createjs.LoadQueue,this._loader.installPlugin(createjs.Sound),this._loader.on("fileload",this._resourceLoaded,this),this._loader.on("error",this._resourceFailed,this),this._loader.loadFile({id:this.resource.id,src:this.resource.src})}},{key:"kill",value:function(){this.jx&&(this._loader.removeAllEventListeners(),this._loader.removeAll(),this._loader.destroy(),this._loader=null,this.onFinished=null,this.resource=null,this.jx=null)}},{key:"_resourceLoaded",value:function(e){this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed),this.resource.data={},this.resource.ready=!0,this.success=!0,this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_resourceFailed",value:function(e){console.log("err"+e.title+"\n"+this.resource.id+"\n"+this.resource.src),this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed),this.success=!1,this.onFinished({target:this,resource:this.resource,success:!1})}}]),e}();e["default"]=i}),define("jx/core/loaders/SoundLoaderMediaElement",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this._loader=null,this.resource=n,this.success=!1,this.resource.loader=this,this.onloaded=new signals.Signal,i&&this.onloaded.addOnce(i)}return n(e,[{key:"kill",value:function(){this.jx&&(this.jx=null)}},{key:"load",value:function(){var e=this,t="<audio id='"+this.resource.id+"'><source src='"+this.resource.src+"' type='audio/mp3'/></audio>",n=document.createElement("div");n.innerHTML=t;var i=n.firstChild;document.body.appendChild(i),i.addEventListener("error",function(t){console.log(t),e._resourceFailed({text:"not found"})}),this.mediaSound=new MediaElement(this.resource.id,{}),this.mediaSound.canplay=!1,this.mediaSound.playing=!1,this._resLoaded=function(){return e._resourceLoaded({})},this.mediaSound.addEventListener("canplaythrough",this._resLoaded),this.mediaSound.load()}},{key:"_resourceLoaded",value:function(e){console.log("loaderes"),this.mediaSound.canplay=!0,this.mediaSound.removeEventListener("canplaythrough",this._resLoaded),this.resource.data=this.mediaSound,this.resource.ready=!0,this.resource.loader=null,this.onloaded.dispatch({target:this,resource:this.resource,success:!0})}},{key:"_resourceFailed",value:function(e){console.log("err",e,this.resource.id,this,this.resource.src),this.resource.loader=null,this.onloaded.dispatch({target:this,resource:this.resource,success:!1})}}]),e}();e["default"]=i}),define("jx/core/loaders/TextLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"load",value:function(){var e=this;$.ajax(this.resource.src).fail(function(t){return e._jsonFailed()}).done(function(t){return e._jsonLoaded(t)}).always(function(t){return e._always()})}},{key:"kill",value:function(){this.jx&&(this.onFinished=null,this.resource=null,this.jx=null)}},{key:"_jsonLoaded",value:function(e){this.resource.data=e,this.resource.ready=!0,this.onFinished&&this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_jsonFailed",value:function(){this.onFinished&&this.onFinished({target:this,resource:this.resource,success:!1})}},{key:"_always",value:function(){}}]),e}();e["default"]=i}),define("jx/core/loaders/FlashtmlLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this.resource=n,this.onFinished=i,this.success=!1,this._loader=null,this._useFlaName=!1}return n(e,[{key:"getFlashVersion",value:function(e){var t=void 0;return t=null==e.ssMetadata?"flash":null==window[this.fileID]?"animate":"animate2019"}},{key:"load",value:function(){var e=this,t=this.resource.src.split("/").pop();this.fileID=t,this._useFlaName?this.jx.db.importJSFile([this.resource.src+"/html5/"+t+".js"],function(){e.resource.data=window[t],e._loadLinkedAssets()}):!function(){var n=void 0;e.jx.db.importJSFile([e.resource.src+"/html5/screen.js"],function(i){i&&i.error?e.jx.db.importJSFile([e.resource.src+"/html5/"+t+".js"],function(){n=t,e.analyseFile(n,t),e._loadLinkedAssets()}):(n="screen",e.analyseFile(n,t),e._loadLinkedAssets())})}()}},{key:"analyseFile",value:function(e,t){var n=void 0;window[e]?(this.lib=window[e],n=null==this.lib.ssMetadata?{ide:"flash",version:0}:{ide:"animate",version:"2017"},this._getLibBefore2019(e,t)):window.AdobeAn?(n={ide:"animate",version:"2019"},this._getLibAfter2019(e,t)):console.error("Flashtml file format not recognized",e),this.resource.data=this.lib,this.resource.mainSymbolID=t,this.resource.versionIDE=n}},{key:"_getLibBefore2019",value:function(e,t){this.lib=window[e],this.libImage=window[e+"_images"]=window[e+"_images"]||{},window.ss=window.ss||{},this.libSpriteSheet=window.ss;try{window[e+"_images"]=null,window[e]=null}catch(n){console.warn(n)}}},{key:"_getLibAfter2019",value:function(e,t){var n=Object.keys(window.AdobeAn.compositions)[0],i=window.AdobeAn.getComposition(Object.keys(window.AdobeAn.compositions)[0]);this.lib=i.getLibrary(),this.libImage=i.getImages(),this.libSpriteSheet=i.getSpriteSheet(),this.resource.flaID=n,delete window.AdobeAn.compositions[n]}},{key:"_loadLinkedAssets",value:function(){var e=this;if(this.lib.properties.manifest.length>0){this._loader=new createjs.LoadQueue(this.jx.config.system.audio.isWebAudioSupported),this._loader.installPlugin(createjs.Sound),this._loader.addEventListener("fileload",function(t){return e._onFileLoaded(t)}),this._loader.addEventListener("error",function(t){return e._onLoadError(t)}),this._loader.addEventListener("complete",function(t){return e._onAllLoaded(t)});for(var t=0;t<this.lib.properties.manifest.length;t++)this.lib.properties.manifest[t].src=this.resource.src+"/html5/"+this.lib.properties.manifest[t].src;this._loader.loadManifest(this.lib.properties.manifest)}else this._onAllLoaded()}},{key:"_onFileLoaded",value:function(e){if("image"==e.item.type)if(this._useFlaName){var t=window[this.fileID+"_images"]=window[this.fileID+"_images"]||{};t[e.item.id]=e.result}else this.libImage[e.item.id]=e.result}},{key:"_onLoadError",value:function(e){this._loader.removeEventListener("fileload",this._onFileLoaded),this._loader.removeEventListener("error",this._onLoadError),this._loader.removeEventListener("complete",this._onAllLoaded),this.onFinished({target:this,resource:this.resource,success:!1})}},{key:"_onAllLoaded",value:function(e){null!=this._loader&&(this._loader.removeEventListener("fileload",this._onFileLoaded),this._loader.removeEventListener("error",this._onLoadError),this._loader.removeEventListener("complete",this._onAllLoaded),this._loadSpriteSheets()),this.resource.ready=!0,this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_loadSpriteSheets",value:function(){var e=this.lib.ssMetadata;if(e)for(var t=0;t<e.length;t++)this.libSpriteSheet[e[t].name]=new createjs.SpriteSheet({images:[this._loader.getResult(e[t].name)],frames:e[t].frames})}},{key:"kill",value:function(){this.jx&&(this._loader&&(this._loader.removeAllEventListeners(),this._loader.removeAll(),this._loader.destroy(),this._loader=null),this.onFinished=null,this.resource=null,this.jx=null)}}]),e}();e["default"]=i}),define("jx/core/loaders/ImageSequenceLoader",["exports","jx/core/Request","jx/core/Resource"],function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=i(t),s=i(n),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t,n,i){r(this,e),this.jx=i,this.resource=t,this.onFinished=n,this.success=!1,this.imageArray=null}return a(e,[{key:"kill",value:function(){this.jx&&(this.jx=null)}},{key:"load",value:function(){for(var e=this,t=new Array,n=this.resource.start;n<=this.resource.end;n++){var i=this.resource.src.replace("###",this.jx.tools.intToString(n,3)).replace("##",this.jx.tools.intToString(n,2)).replace("#",n),r=new o["default"]({id:this.resource.id+n,src:i,type:"image"});t.push(r)}var s=new(this.jx.db.classFromID("BatchLoader"))(t,function(t){return e._onResourceLoaded(t)},this.jx);s.load()}},{key:"_onResourceLoaded",value:function(e){if(0==e.failedResources.length){for(var t=new Array,n=e.loadedResources,i=0;i<n.length;i++){var r=n[i],o=new s["default"](r);t.push(o)}this.resource.data=t,this.resource.ready=!0,this.onFinished({target:this,resource:this.resource,success:!0})}else console.log("err",this.resource.id,this,this.resource.src),this.onFinished({target:this,resource:this.resource,success:!1})}}]),e}();e["default"]=u}),define("jx/core/loaders/SpriteSheetLoader",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),i=function(){function e(n,i,r){t(this,e),this.jx=r,this.resource=n,this.onFinished=i,this.success=!1}return n(e,[{key:"load",value:function(){this._assets=[],this._loader=new createjs.LoadQueue,this._loader.on("fileload",this._resourceLoaded,this),this._loader.on("complete",this._onComplete,this),this._loader.on("error",this._resourceFailed,this),this._loader.loadManifest([{id:this.resource.id+"_JSON",src:this.resource.src+".json",crossOrigin:!0},{id:this.resource.id,src:this.resource.src+".png",crossOrigin:!0}])}},{key:"kill",value:function(){this.jx&&(this._loader.removeAllEventListeners(),this._loader.removeAll(),this._loader.destroy(),this._loader=null,this.onFinished=null,this.resource=null,this.jx=null)}},{key:"_onComplete",value:function(e){var t=this;this._loader.removeEventListener("complete",this._onComplete),this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed);var n={frames:this._assets[0].result.frames,animations:this._assets[0].result.animations,images:[this._assets[1].result]};this.success=!0,setTimeout(function(){t._offsetResourceLoaded(n)},10)}},{key:"_resourceLoaded",value:function(e){this._assets.push(e)}},{key:"_offsetResourceLoaded",value:function(e){this.resource.data=e,this.resource.ready=!0,this.onFinished({target:this,resource:this.resource,success:!0})}},{key:"_resourceFailed",value:function(e){console.log("err",e.title,this.resource.id,this,this.resource.src),this._loader.removeEventListener("fileload",this._resourceLoaded),this._loader.removeEventListener("error",this._resourceFailed),this.success=!1,this.onFinished({target:this,resource:this.resource,success:!1})}}]),e}();e["default"]=i}),define("jx/comps/visualcomponent/VisualComponentCJS",["exports","jx/core/comps/VisualComponent"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function h(e,t,n,i){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);null!==o&&h(o,t,n,i)}else if("value"in r&&r.writable)r.value=n;else{var s=r.set;void 0!==s&&s.call(i,n)}return n},c=function f(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:f(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"kill",value:function(){this._killed||(this.view&&(this._removeListeners(),this.view.cacheCanvas&&this.view.uncache()),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"_initSync",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view&&(this.view._jxClip=this,this._addListeners())}},{key:"getLimits",value:function(){return this.view.getTransformedBounds()}},{key:"transform",value:function(e){this.view.x=e.x||this.view.x,this.view.y=e.y||this.view.y}},{key:"_addListeners",value:function(){var e=this;this.view&&(this._basicsListeners=this._basicsListeners||{},this._removeListeners(),this._basicsListeners.onclick=this.view.on("click",function(t){return e._clicked(t)}),this._basicsListeners._rollover=this.view.on("rollover",function(t){return e._rollover(t)}),this._basicsListeners._rollout=this.view.on("rollout",function(t){return e._rollout(t)}),this._basicsListeners._mouseup=this.view.on("pressup",function(t){return e._mouseup(t)}),this._basicsListeners._mousedown=this.view.on("mousedown",function(t){return e._mousedown(t)}),this._basicsListeners._mousemove=this.view.on("pressmove",function(t){return e._mousemove(t)}))}},{key:"_removeListeners",value:function(){this.view&&(this._basicsListeners=this._basicsListeners||{},this.view.off("click",this._basicsListeners.onclick),this.view.off("rollover",this._basicsListeners.onrollover),this.view.off("rollout",this._basicsListeners.onrollout),this.view.off("pressup",this._basicsListeners.onmouseup),this.view.off("mousedown",this._basicsListeners.onmousedown),this.view.off("pressmove",this._basicsListeners.onmousemove))}},{key:"makeRotationOffset",value:function(){return Math.cos(this.rotation%90*(Math.PI/180))}},{key:"cache",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.scale,n=void 0===t?1:t,i=e.quality,r=void 0===i?this.jx.config.flashOptimizer.quality:i;if("fixe"===n){var o=this.jx.config.system.screen.resolutionUser,s=this.view.getBounds(),a=this.jx.app.stage||o,u=this.width*o.width/(s.width*a.width),c=this.height*o.height/(s.height*a.height);n=Math.min(u,c),console.log(a,n)}n=Math.abs(n);var l=void 0!=this.jx.config.urlParams.scaleFactor?this.jx.config.urlParams.scaleFactor:1,h=this.view.getBounds()||this.view.nominalBounds||{x:0,y:0,width:1,height:1},f="best"==r?window.devicePixelRatio:1,d=Math.max(this.jx.config.system.screen.resolution.width,this.jx.config.system.screen.resolution.height)/Math.max(h.width*this.view.scaleX,h.height*this.view.scaleY);d=1>d?d:1,1==this.id;var p=Math.max(this.view.scaleX,this.view.scaleY)*d*l*f*n;(h.width*p>2048||h.height*p>2048)&&(console.warn("Image Cache reaches max limits 2048 and has been reduced to fit in limits",this.id,this.view),p=Math.min(2048/h.width,2048/h.height)),this.view.cache(h.x,h.y,h.width,h.height,p),(this.view.cacheCanvas.width>2048||this.view.cacheCanvas.height>2048)&&console.error("Image Cache reaches max limits 2048 (reduction auto has not working)",this.view.cacheCanvas,this.view)}},{key:"updateCache",value:function(){this.view.updateCache()}},{key:"uncache",value:function(){this.view.uncache()}},{key:"localToGlobal",value:function(){var e;return(e=this.view).localToGlobal.apply(e,arguments)}},{key:"globalToLocal",value:function(){var e;return(e=this.view).globalToLocal.apply(e,arguments)}},{key:"localToLocal",value:function(){var e;return(e=this.view).localToLocal.apply(e,arguments)}},{key:"bringToFront",value:function(){this.view.parent&&this.view.parent.setChildIndex(this.view,this.view.parent.numChildren-1)}},{key:"bringToBack",value:function(){this.view.parent&&this.view.parent.setChildIndex(this.view,0)}},{key:"realWidth",get:function(){var e=this.rotation;this.rotation=0;var t=this.width;return this.rotation=e,t},set:function(e){var t=this.rotation;this.rotation=0,this.width=e,this.rotation=t}},{key:"realHeight",get:function(){var e=this.rotation;this.rotation=0;var t=this.height;return this.rotation=e,t},set:function(e){var t=this.rotation;this.rotation=0,this.height=e,this.rotation=t}},{key:"width",set:function(e){if(this.view.getTransformedBounds()){var t=this.view.getTransformedBounds().width,n=(this.view.scaleX,e/t);this.view.scaleX*=n}},get:function(){return this.view.getTransformedBounds()?this.view.getTransformedBounds().width:0}},{key:"height",set:function(e){if(this.view.getTransformedBounds()){var t=this.view.getTransformedBounds().height,n=(this.view.scaleY,e/t);this.view.scaleY*=n}},get:function(){return this.view.getTransformedBounds()?this.view.getTransformedBounds().height:0}},{key:"enabled",set:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",e,this),this.view.mouseEnabled=e},get:function(){return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"enabled",this)}},{key:"anchorX",set:function(e){this._anchorX=e,this.view.regX=this._anchorX},get:function(){return this._anchorX}},{key:"anchorY",set:function(e){this._anchorY=e,this.view.regY=this.anchorY},get:function(){return this._anchorY}},{key:"anchor",set:function(e){this.anchorY=e,this.anchorX=e},get:function(){return{anchorX:this.anchorX,anchorY:this.anchorY}}},{key:"cursor",set:function(e){this._cursorOnRoll=e,this._enabled?this.view.cursor=e:this.view.cursor=this._cursorOnDisabled},get:function(){return this._cursorOnRoll}},{key:"parent",get:function(){return this.view.parent&&this.view.parent._jxClip?this.view.parent._jxClip:null},set:function(e){this._parent=e}}],[{key:"initialiseMod",value:function(e){e.mixin(["_addListeners","_removeListeners","width","height","saveBounds","cache","localToGlobal","globalToLocal","localToLocal"],t,"VisualComponent")}}]),t}(s["default"]);e["default"]=l}),define("jx/comps/clip/Clip",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:"",lib:null,symbolID:null},e)));return n._lib=n.dataObject.lib,n.view=n._lib.getFromSymbol(n.dataObject.symbolID),n._initializeClip(),n}return o(t,e),a(t,[{key:"_initializeClip",value:function(){console.log("initializeClip"),this.view instanceof createjs.MovieClip&&(this.view.gotoAndStop(0),this.view.framerate=12),t.arrangeFlashClipsNames(this.view)}},{key:"getChildByName",value:function(e){for(var t=this.view.children,n=0,i=t.length;i>n;n++)if(t[n].name==e)return t[n];return null}},{key:"getMCChildByPath",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];console.log("getMCChildByPath",e,t);for(var n=e.split("."),i=null==t?this.view.children:t.children,r=0;r<i.length;r++)if(i[r].name==n[0])return n.shift(),0==n.length?i[r]:this.getMCChildByPath(n.join("."),i[r]);return null}},{key:"gotoAndStop",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.view.gotoAndStop(t)}},{key:"stop",value:function(){this.view.stop()}}],[{key:"getChildrenByName",value:function(e,t){for(var n=[],i=new RegExp(t,"g"),r=0;r<e.children.length;r++){var o=e.children[r];null!=o.name&&-1!=o.name.search(i)&&n.push(o)}return n}},{key:"arrangeFlashClipsNames",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?4:arguments[1];for(var i in e)"parent"!=i&&"shape"!=i&&e[i]instanceof createjs.DisplayObject&&(e[i].name=i,n>0&&void 0!=e[i].children&&t.arrangeFlashClipsNames(e[i],n-1))}}]),t}(s["default"]);e["default"]=u}),define("jx/comps/flashlib/SpriteSheetFactory",["exports","jx/core/JXObject"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=0,c=0,l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._params=e,n.spriteSheet=null,n.mcs=null,n._builder,n.initialize(),n}return o(t,e),a(t,[{key:"initialize",value:function(){}},{key:"rasterize",value:function(e,t){function n(e){if(console.log("Rasterization end",e,(Date.now()-this._rasterizeTimeStart)/1e3,"secondes"),this._builder.removeEventListener("complete",n.bind(this)),this._builder.removeAllEventListeners(),this.spriteSheet=e.target.spriteSheet,u++,void 0!=this.jx.config.urlParams.showspritesheet&&this.jx.config.urlParams.showspritesheet){var i=window.open("","win"+u);i.document.open("text/html"),i.document.write("<body>"+this.spriteSheet._images.length+"<br></body>");for(var r=0;r<this.spriteSheet._images.length;r++)i.document.write("<br>SpriteSheet "+r),i.document.body.appendChild(this.spriteSheet._images[r]);i.document.close()}t({target:this,mcs:this.mcs,spriteSheet:this.spriteSheet})}var i=arguments.length<=2||void 0===arguments[2]?this.jx.config.app.quality:arguments[2];if(0==e.length)return void t({target:this,mcs:this.mcs,spriteSheet:this.spriteSheet});this.mcs=e;var r;i=i||this.jx.config.quality;var o;this._builder=new createjs.SpriteSheetBuilder,this._builder.scale=i,this._builder.maxWidth=this.jx.config.flashOptimizer.spriteSheetMaxWidth,this._builder.maxHeight=this.jx.config.flashOptimizer.spriteSheetMaxWidth;for(var s=[],a=0;a<this.mcs.length;a++){o=this.mcs[a],o.rasteriseScale=o.rasteriseScale||1,o.builderRasteriseScale=i;for(var l=this._params.lib.getMCClass(o),h=!1,f=0;f<s.length;f++)s[f].className==l&&(h=!0,o.jxLabelPrefix=s[f].mc.jxLabelPrefix);if(h);else if(s.push({className:l,mc:o}),r=o.nominalBounds.width*i,void 0==o.timeline&&void 0==o.labels||1==o.timeline.duration){var d=this._builder.addFrame(o,o.getTransformedBounds(),o.rasteriseScale);this._builder.addAnimation(o.name+"_E1",d)}else if(void 0!=o.labels&&0==o.labels.length){var p={};o.jxLabelPrefix=++c+"_",p[o.jxLabelPrefix+"E1"]=0,o.timeline.setLabels(p),this.addMovieClip(o,null,o.rasteriseScale)}else if(null!=o.clip)for(var v,f=0;f<o.labels.length;f++){o.gotoAndStop(o.labels[f].label),this.jx.tools.cjs.arrangeFlashClipsNames(o),v=this.jx.tools.cjs.getChildrenByName(o,"^clip")[0];var g={};if(g[o.name+"_"+o.labels[f].label]=0,void 0!=v.timeline)v.timeline.setLabels(g),this.addMovieClip(v,o.rasteriseScale||1);else{var d=this._builder.addFrame(v,v.getTransformedBounds(),o.rasteriseScale||1);this._builder.addAnimation(o.name+"_"+o.labels[f].label,d)}}else{for(var p=o.timeline.getLabels(),g={},f=0;f<p.length;f++)o.jxLabelPrefix=++c+"_",p[f].label=o.jxLabelPrefix+p[f].label,g[p[f].label]=p[f].position;o.timeline.setLabels(g),this.addMovieClip(o,null,o.rasteriseScale||1)}}this._rasterizeTimeStart=Date.now(),console.log("Rasterize start"),this._builder.addEventListener("complete",n.bind(this)),this._builder.addEventListener("progress",function(e){return console.log(e)});var y=!1;this._builder.buildAsync(),y=!0}},{key:"getMCByName",value:function(e){for(var t=0;t<this.mcs.length;t++)if(this.mcs[t].name==e)return this.mcs[t];return null}},{key:"getMCByPath",value:function(e){for(var t=0;t<this.mcs.length;t++)if(this.jx.tools.cjs.getAbsolutePath(this.mcs[t])==e)return this.mcs[t];return null}},{key:"getRasterizedClip",value:function(e){var t=e.id,n=e.parent,i=e.path;return this.initClip({id:t,parent:n,path:i})}},{key:"initClip",value:function(e){var t=function(e){if(null==e.mc)return null;this.mc=e.mc,this.sprite=e.sprite,null==e.parent&&console.log(this.mc);e.parent;this.name=this.mc.name,void 0!=e.framerate&&(this.sprite.framerate=e.framerate);var t=1/this.mc.builderRasteriseScale;console.log(this.mc,this.mc.scaleX,this.mc.scaleY),this.sprite.setTransform(this.mc.x,this.mc.y,180==this.mc.skewY?-t:t,180==this.mc.skewX?-t:t),this.sprite.gotoAndPlay(this.mc.jxLabelPrefix+"E1"),this.sprite.name=this.mc.name,this.sprite.visible=!0,this.listeners={},this._enabled=!1,Object.defineProperties(this,{enabled:{set:function(t){var n=this;t!=this._enabled&&(this._enabled=t,t?(this.listeners.rollout=this.sprite.on("rollout",function(e){}),this.listeners.pressup=this.sprite.on("pressup",function(e){}),this.listeners.mousedown=this.sprite.on("mousedown",function(t){void 0!=e.onClick&&e.onClick.call(n,{target:n})})):this.sprite.removeAllEventListeners())}}}),Object.defineProperties(this,{visible:{set:function(e){this.sprite.visible=e}}}),this.gotoAndStop=function(e){this.sprite.gotoAndStop("string"==typeof e?this.mc.jxLabelPrefix+e:e)},this.gotoAndPlay=function(e){this.sprite.gotoAndPlay("string"==typeof e?this.mc.jxLabelPrefix+e:e)}};return e.sprite=new createjs.Sprite(this.spriteSheet),e.path?e.mc=this.getMCByPath(e.path):e.mc=void 0!=e.id?this.getMCByName(e.id):e.mc,new t(e)}},{key:"addMovieClip",value:function(e,t,n,i,r,o){if(this._builder._data)throw createjs.SpriteSheetBuilder.ERR_RUNNING;var s=e.frameBounds,a=t||e.bounds||e.nominalBounds;if(!a&&e.getBounds&&(a=e.getBounds()),a||s){var u,c,l=this._builder._frames.length,h=e.timeline.duration;for(u=0;h>u;u++){var f=s&&s[u]?s[u]:a;this._builder.addFrame(e,f,n,this._builder._setupMovieClipFrame,{i:u,f:i,d:r})}var d=e.timeline._labels,p=[];for(var v in d)p.push({index:d[v],label:v});if(p.length)for(p.sort(function(e,t){return e.index-t.index}),u=0,c=p.length;c>u;u++){for(var g=p[u].label,y=l+p[u].index,m=l+(u==c-1?h:p[u+1].index),b=[],_=y;m>_;_++)b.push(_);(!o||(g=o(g,e,y,m)))&&this._builder.addAnimation(g,b,!0)}}}}]),t}(s["default"]);e["default"]=l}),define("jx/comps/flashlib/FlashLib",["exports","jx/comps/clip/Clip","jx/core/comps/Component","jx/comps/flashlib/SpriteSheetFactory"],function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(t),c=r(n),l=r(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({id:"",resourceID:null,toRasterize:[],onInitialised:function(e){}},e)));n.targetParent=n.dataObject.targetParent,n.resourceID=n.dataObject.resourceID;var i=n.jx.db.findOne({id:n.dataObject.resourceID});return n.mainID=i.mainSymbolID,n._lib=i.data,n.libProperties=n._lib.properties,n.flashExportIDE=i.versionIDE,n._spriteSheetBuilder=new l["default"]({jx:n.jx,lib:n,toRasterize:n.dataObject.toRasterize,onInitialised:n.dataObject.onInitialised}),n}return a(t,e),h(t,[{key:"getAs",value:function(e){this.jx.syslog("FlashLib.getAs",e),e=this.jx.tools.mergeObject({type:"auto",clip:null,optimised:!0,exclude:[],toFreeze:[],onInitialised:function(e){}},e),this["_getas_"+e.type](e)}},{key:"_getas_auto",value:function(e){for(var t,n=this,i=this._scanClip(e),r=i.clip,o=i.scan,s=[],a=[],u=!1,c=!1,l=!1,h=(e.include||null,void 0!=this.jx.config.urlParams.scaleFactor?this.jx.config.urlParams.scaleFactor:1),f=0;f<o.length;f++){if(t=o[f].clip,e.include){u=!1;for(var d=0;d<e.include.length;d++)if(-1!=t.name.search(e.include[d].id)){var p=Object.assign({id:null,cache:!0,freeze:-1},e.include[d]);c=p.freeze,l=p.cache,u=!0;break;
}}else{c=!1;for(var d=0;d<e.toFreeze.length;d++)if(-1!=t.name.search(e.toFreeze[d])){c=!0;break}u=!0;for(var d=0;d<e.exclude.length;d++)if(-1!=t.name.search(e.exclude[d])||this._lib[e.exclude[d]]){u=!1;break}u=u&&e.optimised}switch(o[f].type){case"Image":if("always"==this.jx.config.flashOptimizer.cacheStatics&&"nocache"!=o[f].args||"if_optimisation"==this.jx.config.flashOptimizer.cacheStatics&&u&&"nocache"!=o[f].args){var v=t.getBounds()||t.nominalBounds||{x:0,y:0,width:1,height:1},g="best"==this.jx.config.flashOptimizer.quality?window.devicePixelRatio:1,y=Math.max(this.jx.config.system.screen.resolution.width,this.jx.config.system.screen.resolution.height)/Math.max(v.width*t.scaleX,v.height*t.scaleY);y=1>y?y:1;var m=Math.max(t.scaleX,t.scaleY)*y*h*g;(v.width*m>2048||v.height*m>2048)&&(this.jx.syswarn("Image Cache reaches max limits 2048 and has been reduced to fit in limits",t),m=Math.min(2048/v.width,2048/v.height)),t.cache(v.x,v.y,v.width,v.height,m),t.cacheCanvas.width>2048||t.cacheCanvas.height>2048?this.jx.syserror("Image Cache reaches max limits 2048 (reduction auto has not working)",t.cacheCanvas,t):this.jx.sysinfo("Image Cache",t.cacheCanvas.width,t.cacheCanvas,this.jx.config.system.screen.resolution,t)}else a.push(t);break;case"Animation":if(t.framerate=e.framerate||this._lib.properties.fps||this.jx.config.framerate,t.jxRasterised=u,t.jxloops=""==o[f].args?0:Number(o[f].args),u)if(-1!==c&&c!==!1){var v=t.getBounds()||t.nominalBounds||{x:0,y:0,width:1,height:1};"number"==this.jx.tools.instanceType(c)&&t.gotoAndStop(c),t.tickEnabled=!1,l&&t.cache(v.x,v.y,v.width,v.height,Math.max(t.scaleX,t.scaleY)*h)}else t.rasteriseScale=Math.max(t.scaleX,t.scaleY)*h,s.push(t);else a.push(t),t.jxloops>0&&(t.loop=!0,t.timeline.jxmc=t,t.timeline.addEventListener("change",function(e){e.target.position>=e.target.duration-1&&(e.target.jxmc.jxloops--,e.target.jxmc.jxloops<=0&&(e.target.removeAllEventListeners(),e.target.jxmc.stop()))})),t.gotoAndPlay(0);break;case"Text":if(u){var v=t.getBounds()||t.nominalBounds||{x:0,y:0,width:1,height:1};t.cache(v.x,v.y,v.width,v.height,Math.max(t.scaleX,t.scaleY)*h)}else a.push(t);break;case"Container":}}this.rasterize({items:s,onFinished:function(t){n._rasterizeTimeStart=Date.now();for(var i=0;i<s.length;i++){var o=n.getRasterizedClip({id:s[i].name,path:n.jx.tools.cjs.getAbsolutePath(s[i]),parent:s[i].parent}),a=s[i].parent;o.sprite.stop(),o.sprite.rotation=o.mc.rotation,o.sprite.framerate=e.framerate||n._lib.properties.fps||n.jx.config.framerate,o.sprite.loops=s[i].jxloops||0,a.addChild(o.sprite),a.setChildIndex(o.sprite,a.getChildIndex(o.mc)),a.removeChild(o.mc),s[i].name&&(a[s[i].name]=o.sprite),o.sprite.loops>0&&o.sprite.addEventListener("animationend",function(e){e.target.loops--,e.target.loops<=0&&e.target.stop()}),o.sprite.play()}n.jx.syslog("- getAs End",(Date.now()-n._rasterizeTimeStart)/1e3,"secondes",n),e.onInitialised({target:n,view:r})}})}},{key:"_scanClip",value:function(e){var t=e.clip||this.getFromSymbol("$main");this.jx.tools.cjs.arrangeFlashClipsNames(t);for(var n,i,r,o,s="",a="",u=[],c={img:"Image",anim:"Animation",text:"Text",cont:"Container"},l=0;l<t.children.length;l++){if(n=t.children[l],r=n.name||"",i=this._getClassName(n),s="",a="",o=r.match(/_([^_]*)_([^_]*)$/),o&&c[o[1]]?(s=o[1],a=o[2]):(o=r.match(/_([^_]*)_$/),o&&(s=o[1],a="")),o){var h=r.replace(o[0],"");n.parent&&(delete n.parent[n.name],n.parent[h]=n),n.name=h}r=n.name||"";var f=null;if(o=r.match(/__(.*)$/)){f=o[1];var h=r.replace(o[0],"");n.parent&&(delete n.parent[n.name],n.parent[h]=n),n.name=h}if(n.flaInfo={fullName:r,nameSuffix:s,nameArgs:a,nameCommand:f},""!=s&&void 0!=c[s]){if(u.push({type:c[s],clip:n,args:a}),"cont"==s){var d=this._scanClip({clip:n});u=u.concat(d.scan)}}else if("Text"==i)u.push({type:"Text",clip:n,args:a});else if("MovieClip"==i)"animate"==this.flashExportIDE.ide&&1==n.totalFrames?u.push({type:"Image",clip:n,args:a}):u.push({type:"Animation",clip:n,args:a});else if("Container"==i)if("cont"==s){u.push({type:"Container",clip:n,args:a});var d=this._scanClip({clip:n});u=u.concat(d.scan)}else"text"==s?u.push({type:"Text",clip:n,args:a}):u.push({type:"Image",clip:n,args:a})}return{clip:t,scan:u}}},{key:"_rasterizeClips",value:function(e){var t=e.clips;e.onFinished;this.rasterize(t,function(e){for(var t,n=0;n<toRasterize.length;n++)t=flashLib.getRasterizedClip({id:toRasterize[n].name,parent:toRasterize[n].parent}),toRasterize[n].visible=!1},1)}},{key:"_getClassName",value:function(e){for(var t=[{name:"MovieClip",type:createjs.MovieClip},{name:"Text",type:createjs.Text},{name:"Bitmap",type:createjs.Bitmap},{name:"Container",type:createjs.Container},{name:"Shape",type:createjs.Shape}],n=0;n<t.length;n++)if(e instanceof t[n].type)return t[n].name;return null}},{key:"rasterize",value:function(e){var t=e.items,n=e.onFinished,i=e.scale;this._spriteSheetBuilder.rasterize(t,n,i)}},{key:"getRasterizedClip",value:function(e){return this._spriteSheetBuilder.getRasterizedClip(e)}},{key:"create",value:function(e){var t=e.symbolID;if(-1!=t.search(/^\$/))switch(t){case"$main":t=this.id}return new u["default"]({id:t,lib:this})}},{key:"getFromSymbol",value:function(e){if(-1!=e.search(/^\$/))switch(e){case"$main":e=this.mainID}return new this._lib[e]}},{key:"getSymbolClass",value:function(e){return this._lib[e]}},{key:"getMCClass",value:function(e){for(var t in this._lib)if("function"==this.jx.tools.instanceType(this._lib[t])&&e instanceof this._lib[t])return t;return null}}]),t}(c["default"]);e["default"]=f}),define("jx/comps/StageView",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({renderMode:"canvas",framerate:null,ratio:null,width:null,height:null,autoUpdate:!0,fixedStageScale:!1,autoResize:!0,forceIOSStageResize:!0},e)))}return o(t,e),a(t,[{key:"_create",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onmousedown"),this.render="CJS",this.view=null,this.canvas=null,this._stage=null,this._renderMode=this.dataObject.renderMode,this._scale=1,this.framerate=this.dataObject.framerate||this.jx.config.app.framerate,this.fixedStageScale=this.dataObject.fixedStageScale,this._autoResize=this.dataObject.autoResize,this.dataObject.ratio?(this._ratio=this.dataObject.ratio,this.dataObject.width?(this._width=this.dataObject.width,this._height=this._width/this._ratio):this.dataObject.height?(this._height=this.dataObject._height,this._width=this._height*this._ratio):(this._width=this.jx.config.app.width,this._height=this._width/this._ratio)):this.dataObject.width&&this.dataObject.height?(this._width=this.dataObject.width,this._height=this.dataObject.height,this._ratio=this._width/this._height):this.dataObject.width?(this._ratio=this.jx.config.app.ratio,this._width=this.dataObject.width,this._height=this._width/this._ratio):this.dataObject.height?(this._ratio=this.jx.config.app.ratio,this._height=this.dataObject._height,this._width=this._height*this._ratio):(this._width=this.jx.config.app.width,this._ratio=this.jx.config.app.ratio,this._height=this._width/this._ratio),this._width=Math.min(this._width,1280,Math.max(this.jx.config.system.screen.resolution.width*this.jx.config.system.screen.pixelRatio,this.jx.config.system.screen.resolution.height*this.jx.config.system.screen.pixelRatio)),this._height=this._width/this._ratio,this.addEventDispatcher("onclick"),this._allowZIndex=!0,this._enabled=!0,this.children=[],createjs.Sprite.prototype.initialize=createjs.Sprite,this.canvasHolder=$("<div id="+this.id+' class="canvasHolder" ></div>'),this.canvasHolder.css("position","absolute"),this.canvasHolder.css("width",this._width+"px"),this.canvasHolder.css("height",this._height+"px"),this.canvasHolder.css("top","0px"),this.canvasHolder.css("left","0px"),this.canvasHolder.css("bottom","0px"),this.canvasHolder.css("right","0px"),this.canvasHolder.css("margin","0px"),this.canvasHolder.css("padding","0px"),this.canvasHolder.css(" box-sizing","border-box");var n=$("<canvas/>");if(n.prop("id","canvas"),n.prop("width",this._width),n.prop("height",this._height),n.css("position","absolute"),n.css("box-sizing","border-box"),n.css("background-color","transparent"),this.allowZIndex=this._allowZIndex,n.css("-webkit-tap-highlight-color","rgba(255,0,0,0)"),this.view=this.canvasHolder[0],this.canvas=n.get(0),this.canvasHolder[0].style.msTransformOrigin="0px 0px",this.canvasHolder[0].style.webkitTransformOrigin="0px 0px",this.canvasHolder[0].style.MozTransformOrigin="0px 0px",this.canvasHolder[0].style.transformOrigin="0px 0px",this.canvas.style.msTransformOrigin="0px 0px",this.canvas.style.webkitTransformOrigin="0px 0px",this.canvas.style.MozTransformOrigin="0px 0px",this.canvas.style.transformOrigin="0px 0px",this.canvasHolder.append(n),$("body").append(this.canvasHolder),"canvas"==this._renderMode?this._stage=new createjs.Stage(this.canvas):"webgl"==this._renderMode?createjs.StageGL?this._stage=new createjs.StageGL(this.canvas):console.error("WebGL lib not available. Easeljs and Tweenjs libraries are too olds, you need to update them to NEXT versions"):console.error("render mode  unknown"),this._stage.scaleX=1,this._stage.scaleY=1,this._stage.update(),this._stage.enableMouseOver(),createjs.Touch.isSupported()&&createjs.Touch.enable(this._stage),createjs.Ticker.setFPS(this.framerate),this._updateStage=function(t){return e._stage.update(t)},this.autoUpdate=this.dataObject.autoUpdate,"undefined"!=typeof window.orientation){var i=function(){setTimeout(function(t){return e.onResize(t)},100)};$(window).on("orientationchange",i),this.onResize()}else this._onResizeListener=function(t){return e.onResize()},$(window).on("resize",this._onResizeListener),this.onResize();$("body").append(this.canvasHolder),this._addListeners(),this.dataObject.forceIOSStageResize}},{key:"_addListeners",value:function(){var e=this;this._listenersRef=this._listenersRef||{},this._listenersRef.mousedown=this._stage.on("mousedown",function(t){e._enabled&&e.onmousedown.dispatch({target:e,details:t})})}},{key:"_removeListeners",value:function(){this._stage&&(this._listenersRef=this._listenersRef||{},this.view.off("mousedown",this._listenersRef.onmousedown))}},{key:"appFreeze",value:function(){return this._appFreezed?!1:(this._stateBeforeFreeze={autoUpdate:this._autoUpdate},this.autoUpdate=!1,void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appFreeze",this).call(this))}},{key:"appUnfreeze",value:function(){return this._appFreezed?(this.autoUpdate=this._stateBeforeFreeze.autoUpdate,void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appUnfreeze",this).call(this)):!1}},{key:"pause",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this)&&createjs.Ticker.removeEventListener("tick",this._stage)}},{key:"resume",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resume",this).call(this)&&createjs.Ticker.addEventListener("tick",this._stage)}},{key:"close",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"kill",value:function(){this._killed||(this.removeAllChildren(),this.autoUpdate=!1,this.canvasHolder.remove(),this._stage=null,window.onorientationchange=null,this._onResizeListener&&($(window).off("resize",this._onResizeListener),this._onResizeListener=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"update",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];this._stage.update(e)}},{key:"getBounds",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"addChild",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i=[],r=arguments.length,o=0;r>o;o++){var s=arguments[o];if(s=s.isJXComponent?s:this.cc(s),void 0==s.view){console.warn("Could not Add child as it does not have a view",s);break}if("DOM"==s.render)if(this._allowZIndex){for(var a=this.canvasHolder.children(),u=0,c=0;c<a.length;c++)u=Math.max(u,$(a[c]).css("z-index"));this.canvasHolder.append(s.view),s.view.css("z-index",u+1)}else this.canvasHolder.append(s.view);else this._stage.addChild(s.view),s.domView&&this.addChild(s.domView);s.parent=this,this.children.push(s),i.push(s),s.parent=this}return i.pop()}},{key:"hasChild",value:function(e){return-1!=this.children.indexOf(e)}},{key:"removeChild",value:function(e){this._killed||("DOM"==e.render?e.view.remove():this._stage.removeChild(e.view),this.children.splice(this.children.indexOf(e),1)),e.parent=null}},{key:"removeAllChildren",value:function(){for(var e,t=0;t<this.children.length;t++)e=this.children[t],"DOM"==e.render?(e.view.remove(),e.parent=null):(this._stage.removeChild(e.view),e.parent=null);this.children.length=0}},{key:"localToGlobal",value:function(){var e;return(e=this._stage).localToGlobal.apply(e,arguments)}},{key:"globalToLocal",value:function(){var e;return(e=this._stage).globalToLocal.apply(e,arguments)}},{key:"localToLocal",value:function(){var e;return(e=this._stage).localToLocal.apply(e,arguments)}},{key:"takeSnapshot",value:function(e){var t=e.x,n=void 0===t?null:t,i=e.y,r=void 0===i?null:i,o=e.width,s=void 0===o?null:o,a=e.height,u=void 0===a?null:a,c=e.outputWidth,l=void 0===c?null:c;if(null===n)this._stage.cache(0,0,this.width,this.height,l?l/this.width:1);else{var h=this._stage.globalToLocal(n,r),f=this._stage.globalToLocal(s,u);this._stage.cache(h.x,h.y,f.x,f.y,l?l/f.x:1)}var d=this._stage.getCacheDataURL();return this._stage.uncache(),d}},{key:"onResize",value:function(){arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(this._autoResize){$("body").css("display","none");var e=this._width,t=this._height,n=$(window).width(),i=$(window).height(),r=window.devicePixelRatio||1,o=n/e,s=i/t,a=1;a=Math.min(o,s);var u={x:n/2-e*a/2,y:i/2-t*a/2};$("body").css("display","block"),this.canvasHolder.css("left",Number(u.x)+"px"),this.canvasHolder.css("top",Number(u.y)+"px"),this.fixedStageScale||(this._stage.scaleX=r*a,this._stage.scaleY=r*a,$(this.canvas).prop("width",e*r*a),$(this.canvas).prop("height",t*r*a)),this.canvas.style.width=e*a+"px",this.canvas.style.height=t*a+"px";var c=Number(this.canvasHolder.css("width").replace("px","")),l=(n-2*u.x)/c;this._scale=l,this._scaleCorrection=1/(l*r);var h="scale("+l+")";this.canvasHolder[0].style.msTransform=h,this.canvasHolder[0].style.webkitTransform=h,this.canvasHolder[0].style.MozTransform=h,this.canvasHolder[0].style.transform=h,h="scale("+1/l+")",this.canvas.style.msTransform=h,this.canvas.style.webkitTransform=h,this.canvas.style.MozTransform=h,this.canvas.style.transform=h,this.update(),"webgl"==this._renderMode&&this._stage.updateViewport(this.canvas.width,this.canvas.height)}}},{key:"allowZIndex",set:function(e){this._allowZIndex=e,$(this.canvas).css("z-index",e?1:"auto")}},{key:"autoUpdate",set:function(e){this._autoUpdate!=e&&(this._autoUpdate=e,this._autoUpdate?createjs.Ticker.addEventListener("tick",this._updateStage):createjs.Ticker.removeEventListener("tick",this._updateStage))}},{key:"ratio",set:function(e){this._ratio=e,this._height=this._width/this._ratio,this.onResize()},get:function(){return this._ratio}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"x",get:function(){return 0}},{key:"y",get:function(){return 0}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"visible",set:function(e){this.canvasHolder.css("display",e?"initial":"none")},get:function(){return"none"!=this.canvasHolder.css("display")}},{key:"mouseCanvasX",get:function(){return this._stage.mouseX}},{key:"mouseCanvasY",get:function(){return this._stage.mouseY}},{key:"mouseX",get:function(){return this._stage.mouseX*this._scaleCorrection}},{key:"mouseY",get:function(){return this._stage.mouseY*this._scaleCorrection}},{key:"scale",get:function(){return this._scale}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/SimpleDOMView",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({render:"DOM",parentDOMView:$("body"),targetDOM:null,framerate:null,ratio:null},e)))}return o(t,e),a(t,[{key:"pause",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this)}},{key:"resume",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resume",this).call(this)}},{key:"close",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.render="DOM",this.ratio=this.dataObject.ratio||this.jx.config.app.ratio,this.framerate=this.dataObject.framerate||this.jx.config.app.framerate,this._enabled=!0,this.children=[],this.view=this.dataObject.targetDOM||$("<div id="+this.id+"></div>"),this.dataObject.parentDOMView.append(this.view)}},{key:"update",value:function(){}},{key:"addChild",value:function(e){return e=e.isJXComponent?e:this.cc(e),void 0==e.view||"DOM"!=e.render?void console.warn("Could not Add child as it does not have a DOM view",e):(this.view.append(e.view),this.children.push(e),e.parent=this,void this.onResize())}},{key:"hasChild",value:function(e){return console.log(this.children,this.children.indexOf(e)),-1!=this.children.indexOf(e)}},{key:"removeChild",value:function(e){this.canvasHolder.remove(e.view),this.children.splice(this.children.indexOf(e),1)}},{key:"localToGlobal",value:function(){return console.log("not implemented"),null}},{key:"globalToLocal",value:function(){return console.log("not implemented"),null}},{key:"localToLocal",value:function(){return console.log("not implemented"),null}},{key:"onResize",value:function(e){}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"width",set:function(e){this.view.width(e)},get:function(){return 1024}},{key:"height",set:function(e){this.view.height(e)},get:function(){return 768}},{key:"visible",set:function(e){this.view.css("display",e?"initial":"none")}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/visualcomponent/VisualComponentDOM",["exports","jx/core/comps/VisualComponent"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"_create",value:function(){jQuery.fn.rotate=function(e){$(this).css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"});var t=0,n=0;return $(this).css({"-webkit-transform-origin":t+"% "+n+"%","-moz-transform-origin":t+"% "+n+"%","-ms-transform-origin":t+"% "+n+"%","-o-transform-origin":t+"% "+n+"%","transform-origin":t+"% "+n+"%"}),$(this)},u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this._addListeners()}},{key:"kill",value:function(){this._killed||(this.view&&this._removeListeners(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"transform",value:function(e){this.view.x=e.x||this.view.x,this.view.y=e.y||this.view.y}},{key:"_addListeners",value:function(){var e=this;this.jx.config.useClickOnTouchScreens?(this.view.on("click",function(t){e._clicked(t)}),this.view.on("mousedown",$.proxy(this._mousedown,this))):(this.view.on("touchend",function(t){e._clicked(t)}),this.view.on("touchstart",$.proxy(this._mousedown,this))),this.view.on("mouseup",$.proxy(this._mouseup,this)),this.view.on("mouseenter",$.proxy(this._rollover,this)),this.view.on("mouseout",$.proxy(this._rollout,this)),this.view.on("mousemove",$.proxy(this._mousemove,this))}},{key:"_removeListeners",value:function(){this.view&&(this.jx.config.useClickOnTouchScreens?(this.view.off("click"),this.view.off("mousedown")):(this.view.off("touchend"),this.view.off("touchstart")),this.view.off("mouseup"),this.view.off("mouseenter"),this.view.off("mouseout"),this.view.off("mousemove"))}},{key:"saveBounds",value:function(){this.savedBounds={x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"cache",value:function(){}},{key:"restoreBounds",value:function(){this.width=this.savedBounds.width,this.height=this.savedBounds.height,this.x=this.savedBounds,this.y=this.savedBounds}},{key:"bringToFront",value:function(){console.warn("BRINGTOFRONT",this.view,this.view.parent()),this.view.parent()&&this.view.parent().append(this.view)}},{key:"bringToBack",value:function(){this.view.parent()&&this.view.parent().prepend(this.view)}},{key:"visible",set:function(e){this.view.css("display",e?"inline":"none")},get:function(){return"none"!=this.view.css("display")}},{key:"alpha",set:function(e){this.view.css("opacity",e)}},{key:"x",set:function(e){this.view.css("left",e+"px")},get:function(){return Number(this.view.css("left").replace("px","").replace(",","."))}},{key:"y",set:function(e){this.view.css("top",e+"px")},get:function(){return Number(this.view.css("top").replace("px","").replace(",","."))}},{key:"scaleX",set:function(e){},get:function(){return null}},{key:"scaleY",set:function(e){},get:function(){return null}},{key:"width",set:function(e){this.view.width(e)},get:function(){return this.view.width()}},{key:"height",set:function(e){this.view.height(e)},get:function(){return this.view.height()}},{key:"rotation",set:function(e){this._degrees=e,this.view.rotate(e)},get:function(){return this._degrees}},{key:"cursor",set:function(e){this._cursorOnRoll=e,this._enabled?this.view.css("cursor",e):this.view.css("cursor",this._cursorOnDisabled)},get:function(){return this._cursorOnRoll}}],[{key:"initialiseMod",value:function(e){e.mixin(["x","y","width","height","scaleX","scaleY","rotation","alpha","visible","saveBounds","cache"],t,"VisualComponent"),e.mixin(["_create"],t,"MixIn")}}]),t}(s["default"]);e["default"]=c}),define("jx/core/comps/MixIn",["exports","jx/core/comps/VisualComponent"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),t}(s["default"]);e["default"]=a}),define("jx/comps/Container",["exports","jx/core/comps/MixIn"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({children:[]},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.extendsFrom("Container")}},{key:"addChild",value:function(e){return this.view.addChild(e)}},{key:"removeChild",value:function(e){this.view.removeChild(e)}},{key:"removeAllChildren",value:function(){this.view.removeAllChildren()}},{key:"getChildAt",value:function(e){this.view.getChildAt(e)}},{key:"setChildIndex",value:function(e,t){this.view.setChildIndex(e,t)}},{key:"getChildIndex",value:function(e){return this.view.getChildIndex(e)}},{key:"getChildById",value:function(e){this.view.getChildById(e)}},{key:"mouseChildren",set:function(e){this.view.mouseChildren=e},get:function(){return this.view.mouseChildren}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/container/ContainerCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e)))}return o(t,e),a(t,[{key:"kill",value:function(){this._killed||(this.view&&this.removeAllChildren(),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.children=[],this.view=this.dataObject.view||new createjs.Container}},{key:"_initSync",value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view&&this.dataObject.children)for(var e=0;e<this.dataObject.children.length;e++)this.addChild(this.dataObject.children[e])}},{key:"addChild",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i=[],r=arguments.length,o=0;r>o;o++){var s=arguments[o],a=s.isJXComponent?s:this.cc(s);if("CJS"!=a.render){var u=new createjs.DOMElement(a.view[0]);this.children.push(a),a.parent=this,this.view.addChild(u),i.push(this.jx.stage.addChild(a))}this.children.push(a),this.view.addChild(a.view),s.domView&&this.jx.app.stage.addChild(s.domView),a.parent=this,i.push(a)}return i.pop()}},{key:"hasChild",value:function(e){return-1!=this.children.indexOf(e)}},{key:"removeChild",value:function(e){this.view.contains(e.view)&&(this.view.removeChild(e.view),this.children.splice(this.children.indexOf(e),1),e.parent=null)}},{key:"removeAllChildren",value:function(){for(var e=0;e<this.children.length;e++)this.view.contains(this.children[e].view)&&(this.view.removeChild(this.children[e].view),this.children[e].parent=null);this.children.length=0}},{key:"getChildAt",value:function(e){return this.children[e];
}},{key:"getChildById",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].id==e)return this.children[t];return null}},{key:"setChildIndex",value:function(e,t){var n=this.getChildIndex(e);this.view.setChildIndex(e.view,t),this.children.splice(n,1),this.children.splice(t,0,e)}},{key:"getChildIndex",value:function(e){return this.view.getChildIndex(e.view)}},{key:"mouseChildren",set:function(e){this.view.mouseChildren=e},get:function(){return this.view.mouseChildren}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_create","_initSync","addChild","hasChild","mouseChildren","removeAllChildren","removeChild","getChildById","getChildAt"],t,"Container"),e._create()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/container/ContainerDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.children=[],this.view=this.dataObject.view||$("<div/>"),this.view.css("position","absolute"),this._allowZIndex=!1}},{key:"addChild",value:function(e){var t=e.isJXComponent?e:this.cc(e);if("DOM"!=t.render)return console.error("ContainerDOM",this.id," can not add child ",t.id,"with render",t.render),null;if(this._allowZIndex){for(var n=this.view.children(),i=0,r=0;r<n.length;r++)i=Math.max(i,$(n[r]).css("z-index"));this.view.append(t.view),t.view.css("z-index",i+1)}else this.view.append(t.view);return this.children.push(t),t.parent=this,t}},{key:"hasChild",value:function(e){return-1!=this.children.indexOf(e)}},{key:"removeChild",value:function(e){this.view.has(e.view).length>0&&(this.view.remove(e.view),this.children.splice(this.children.indexOf(e),1))}},{key:"removeAllChildren",value:function(){for(var e=0;e<this.children.length;e++)this.view.contains(this.children[e].view)&&this.view.remove(this.children[e].view);this.children.length=0}},{key:"getChildAt",value:function(e){return this.children[e]}},{key:"getChildById",value:function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].id==e)return this.children[t];return null}},{key:"width",set:function(e){console.log(this.width);for(var t=e/this.width,n=0;n<this.children.length;n++)this.children[n].width*=t,this.children[n].x*=t},get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].width;return e}},{key:"height",set:function(e){console.log(this.height);for(var t=e/this.height,n=0;n<this.children.length;n++)this.children[n].height*=t,this.children[n].y*=t},get:function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].height;return e}},{key:"mouseChildren",set:function(e){this.view.mouseChildren=e},get:function(){return this.view.mouseChildren}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_create","addChild","hasChild","mouseChildren","removeAllChildren","removeChild","getChildById","getChildAt","width","height"],t,"Container"),e._initialise()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/shape/ShapeCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({shapeType:"rectangle",color:"rgba(0,0,0,1)",borderColor:null,borderWidth:1,width:100,height:100},e)));return n.render="CJS",n}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.view=new createjs.Shape,this.graphics=this.view.graphics,this["_create_"+(this.dataObject.shapeType||"rectangle").toLowerCase()]()}},{key:"_create_rectangle",value:function(){var e=this.dataObject.cornerRadius||0,t=this.dataObject.color||"#000000",n=this.dataObject.borderColor;this._width=this.dataObject.width,this._height=this.dataObject.height,n&&this.view.graphics.beginStroke(n),this.view.graphics.beginFill(t).setStrokeStyle(1,"round","round",10,!0).beginStroke(n).drawRoundRectComplex(0,0,this.dataObject.width,this.dataObject.height,e,e,e,e),this.view.setBounds(0,0,this.dataObject.width,this.dataObject.height)}},{key:"_create_circle",value:function(){var e=this.dataObject.color||"#000000",t=this.dataObject.borderColor;t&&this.view.graphics.beginStroke(t),this.view.graphics.beginFill(e).setStrokeStyle(this.dataObject.borderWidth,"round","round",10,!0).beginStroke(t).drawCircle(0,0,this.dataObject.radius),this.view.setBounds(0,0,this.dataObject.width,this.dataObject.height)}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_create","_create_rectangle"],t,"Shape"),e._initialise()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/image/ImageCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"_create",value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),null!=this.dataObject.resourceID){var e=this.jx.db.findOne({id:this.dataObject.resourceID});if(null==e.data)return void this.jx.debug.error("resource not preloaded : "+this.dataObject.resourceID);this.view=new createjs.Bitmap(e.data),this.width=this.view.getBounds().width,this.height=this.view.getBounds().height}else{if(null==this.dataObject.bitmapData)return void console.error("resourceID property is needed in dataObject",this.dataObject);this.view=new createjs.Bitmap(this.dataObject.bitmapData),this.width=this.view.getBounds().width,this.height=this.view.getBounds().height}}},{key:"bitmapData",set:function(e){this.view.image=e},get:function(){return this.view.image}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_create","bitmapData"],t,"Image"),e._initialise()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/image/ImageDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this);var e;if(null!=this.dataObject.resourceID){var n=this.jx.db.findOne({id:this.dataObject.resourceID});e=new Image,e.src=n.src}else null!=this.dataObject.bitmapData?(e=new Image,e.src=this.dataObject.bitmapData.toDataURL()):console.error("resourceID property is needed in dataObject",this.dataObject);this.view=$(e),this.view.css("position","absolute"),n&&(this.width=n.data.naturalWidth,this.height=n.data.naturalHeight)}},{key:"bitmapData",set:function(e){this.view.src=e}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_create","bitmapData"],t,"Image"),e._initialise()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/imagesequence/ImageSequenceCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({framerate:12,loops:-1,autoStart:!0},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onfinished"),this._createView(),this._ready=!0,this.framerate=this.dataObject.framerate,this.loops=this.dataObject.loops,this._frame=0,this.dataObject.autoStart&&this.play({})}},{key:"_createView",value:function(){null!=this.dataObject.resourceID?(this.imageSequenceResource=this.jx.db.findOne({id:this.dataObject.resourceID}),this.view=new createjs.Bitmap(this.imageSequenceResource.data[0].data)):this.view=new createjs.Bitmap(dataObject.data)}},{key:"play",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.cancel(),this.onfinished.add(e.onfinished||function(e){}),this.ticker=createjs.Ticker.addEventListener("tick",this._tick.bind(this))}},{key:"stop",value:function(){createjs.Ticker.removeEventListener("tick",this.ticker),this.onfinished.dispatch({target:this}),this.onfinished.removeAll()}},{key:"cancel",value:function(){createjs.Ticker.removeEventListener("tick",this.ticker),this.onfinished.removeAll()}},{key:"goto",value:function(e){this.cancel(),this._frame=e.frame,this.view.image=this.imageSequenceResource.data[this._frame].data}},{key:"_tick",value:function(){this.bypass=this.bypass+1<this._framerateRatio?this.bypass+1:0,0==this.bypass&&(this.view.image=this.imageSequenceResource.data[this._frame].data,this._frame>=this.imageSequenceResource.data.length-1&&(0==this.loops?this.stop():this._frame=0),this._frame++)}},{key:"framerate",get:function(){return this._framerate},set:function(e){this._framerate=e,this._framerateRatio=createjs.Ticker.framerate/this._framerate}},{key:"rotation",set:function(e){this.view.regX=this.view.image.width*this._anchorX,this.view.regY=this.view.image.height*this._anchorY,this.view.rotation=e},get:function(){return this.view.rotation}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_initialise","_createView","play","stop","_tick"],t,"ImageSequence"),e._initialise()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/imagesequence/ImageSequenceDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._initialise(),n}return o(t,e),a(t,[{key:"_initialise",value:function(){this._createView(),this._firstInit(),this._ready=!0,this._framerateRatio=createjs.Ticker.framerate/12,this._frame=0,this.play({})}},{key:"_createView",value:function(){null!=this.dataObject.resourceID&&(this.imageSequenceResource=this.jx.db.findOne({id:this.dataObject.resourceID}),this._bitmap_view=new Image,this._bitmap_view.src=this.imageSequenceResource.data[0].src),this.view=$(this._bitmap_view),this.view.css("position","absolute"),this.width=this.imageSequenceResource.data[0].data.naturalWidth,this.height=this.imageSequenceResource.data[0].data.naturalHeight}},{key:"play",value:function(e){this.ticker=createjs.Ticker.addEventListener("tick",this._tick.bind(this))}},{key:"stop",value:function(){createjs.Ticker.removeEventListener("tick",this.ticker)}},{key:"_tick",value:function(){this.bypass=this.bypass+1<this._framerateRatio?this.bypass+1:0,0==this.bypass&&(this._bitmap_view.src=this.imageSequenceResource.data[this._frame].data.src,this._frame>=this.imageSequenceResource.data.length-1&&(this._frame=0),this._frame++)}},{key:"bitmapData",set:function(e){this.view.src=e}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_initialise","_createView","bitmapData"],ImageDOM,"ImageSequenceDOM"),e._initialise()}}]),t}(s["default"]);e["default"]=u}),define("jx/comps/text/TextCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({text:" ",maxWidth:null,style:null},e)));return n.render="CJS",n}return o(t,e),a(t,[{key:"_create",value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),""==this.dataObject.text&&(this.dataObject.text=" "),this._style={fontFamily:"Arial",fontSize:12,fontWeight:"normal",fontStyle:"normal",color:"#000000",textAlign:"left",borderColor:"#000000",borderStyle:null},this.dataObject.view){if(this.view=this.dataObject.view,this.dataObject.x=this.view.x,this.dataObject.y=this.view.y,this.dataObject.anchorX=this.view.regX,this.dataObject.anchorY=this.view.regY,this.dataObject.rotation=this.view.rotation,null!=this.dataObject.resourceID){var e=this.jx.db.findOne({id:this.dataObject.resourceID});this.text=e.data}else this.dataObject.text&&(this.text=this.dataObject.text);var n={x:this.view.x,y:this.view.y,width:this.view.lineWidth,height:this.view.lineHeight};void 0==this.dataObject.width&&(this.dataObject.width=n.width*this.view.scaleX),void 0==this.dataObject.height&&(this.dataObject.height=n.height*this.view.scaleX),this.dataObject.visible=void 0==this.dataObject.visible?this.view.visible:this.dataObject.visible}else if(this.view=new createjs.Text,null!=this.dataObject.resourceID){var e=this.jx.db.findOne({id:this.dataObject.resourceID});this.text=e.data}else this.dataObject.text&&(this.text=this.dataObject.text)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this._offsetAlign=0,this.style=this.dataObject.style||this._style,this._ready=!0}},{key:"style",get:function(){return Object.assign({},this._style)},set:function(e){if("string"==this.jx.tools.instanceType(e)){var t=this.jx.db.findOne({id:e});t&&(e=t.data)}this._style=Object.assign(this._style,e),void 0!=e.bold&&(this._style.fontWeight=e.bold?"bold":"normal"),void 0!=e.italic&&(this._style.fontStyle=e.italic?"italic":"normal"),this.view.font=this._style.fontStyle+" "+this._style.fontWeight+" "+this._style.fontSize+"px "+this._style.fontFamily,this.view.color=this._style.color,this._style.textAlign=-1==["left","center","right"].indexOf(this._style.textAlign)?"left":this._style.textAlign,this.view.textAlign=this._style.textAlign,this.x=this.view.x}},{key:"text",set:function(e){this.view.text=e,this.style=this._style},get:function(){return this.view.text}},{key:"x",set:function(e){switch(this._style.textAlign){case"left":this.view.x=e;break;case"center":this.view.x=e+this.width/2;break;case"right":this.view.x=e+this.width;break;default:console.warn("Style align type",this._style.textAlign,"not accepted for CJS Text"),this.view.x=e}},get:function(){switch(this._style.textAlign){case"left":return this.view.x;case"center":return this.view.x-this.width/2;case"right":return this.view.x-this.width;default:return console.warn("Style align type",this._style.textAlign,"not accepted for CJS Text"),this.view.x}}},{key:"width",set:function(e){this.view.lineWidth=e},get:function(){return null===this.view.getBounds()?{x:0,y:0,width:0,height:0}:this.view.getBounds().width}},{key:"height",set:function(e){},get:function(){return null===this.view.getBounds()?{x:0,y:0,width:0,height:0}:this.view.getBounds().height}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/text/TextDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({text:"",style:null},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this._containerBounds=null,this._style={fontFamily:"Arial",fontSize:12,fontWeight:"normal",fontStyle:"normal",color:"#000000",textAlign:"left",alignV:"top",borderColor:"#000000",borderStyle:null,overflow:"visible"},this.view=$("<div id='hold'><div id='text'></div></div>"),this.view.css("position","absolute");var e=this.view.find("#text");if(e.css("position","relative"),e.css("word-wrap","normal"),e.css("min-width","1em"),e.css("min-height","1em"),this.style=this.dataObject.style||this._style,null!=this.dataObject.resourceID){var n=this.jx.db.findOne({id:this.dataObject.resourceID});this.text=n.data}else this.dataObject.text&&(this.text=this.dataObject.text);this._ready=!0}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this._ready=!0}},{key:"fitIn",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.target,n=void 0===t?null:t,i=e.x,r=void 0===i?0:i,o=e.y,s=void 0===o?0:o,a=e.width,u=void 0===a?0:a,c=e.height,l=void 0===c?0:c,h=e.alignH,f=void 0===h?"left":h,d=e.alignV,p=void 0===d?"top":d,v=e.auto,g=void 0===v?!1:v;if(0==arguments.length)return void(this._containerBounds&&this.fitIn(this._containerBounds));if(n){var y=this.jx.tools.obj.filter(n,{x:r,y:s,width:u,height:l});r=y.x,s=y.y,u=y.width,l=y.height}switch(g&&(this._containerBounds={x:r,y:s,width:u,height:l,alignH:f,alignV:p,auto:g}),this.width=u,f){case"left":this.x=r;break;case"center":this.x=r+u/2-this.width/2;break;case"right":this.x=r+u-this.width}switch(p){case"top":this.y=s;break;case"middle":this.y=s+l/2-this.height/2;break;case"bottom":this.y=s+l-this.height}}},{key:"style",set:function(e){if("string"==this.jx.tools.instanceType(e)){var t=this.jx.db.findOne({id:e});t&&(e=t.data)}this._style=Object.assign(this._style,e),void 0!=e.bold&&(this._style.fontWeight=e.bold?"bold":"normal"),void 0!=e.italic&&(this._style.fontStyle=e.italic?"italic":"normal");var n=this.view.find("#text");n.css("pointer-events","none"),this.view.css("font-family",this._style.fontFamily),this.view.css("font-size",this._style.fontSize+"px"),this.view.css("text-align",this._style.textAlign),"top"==this._style.alignV?n.css("top","0px"):"center"==this._style.alignV?(console.log(this._style),console.log(n.height()),n.css("top",this.height/2-n.height()/2+"px")):"bottom"==this._style.alignV&&n.css("top",this.height-n.height()+"px"),this.view.css("font-weight",this._style.fontWeight),this.view.css("font-style",this._style.fontStyle),this.view.css("color",this._style.color),this.view.css("border-style",this._style.borderStyle),this.view.css("border-color",this._style.borderColor),this.view.css("overflow",this._style.overflow),this._containerBounds&&this.fitIn(this._containerBounds)}},{key:"width",set:function(e){this.view.width(e)},get:function(){return this.view.width()}},{key:"height",set:function(e){this.view.height(e)},get:function(){return this.view.height()}},{key:"text",set:function(e){this.view.find("#text").html(e),this.style=this._style},get:function(){return this.view.find("#text").html()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/text/TextMultiRender",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({text:"",maxWidth:null,style:null},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this._style={fontFamily:"Arial",fontSize:12,fontWeight:"normal",fontStyle:"normal",color:"#000000",textAlign:"left",borderColor:"#000000",borderStyle:null},this.view=new createjs.Shape,this.view.graphics.beginFill("#000000").setStrokeStyle(1,"round","round",10,!0).beginStroke("#000000").drawRoundRectComplex(0,0,100,100,1,1,1,1),this.view.setBounds(0,0,100,100),this.domView=this.cc(Object.assign(this.dataObject,{render:"DOM",type:"TextDOM"})),console.log(this.domView)}},{key:"_initSync",value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view.alpha=.4,this.maxWidth=this.dataObject.maxWidth,this.view.lineWidth=this.maxWidth,this.style=this.dataObject.style||this._style,null!=this.dataObject.resourceID){var e=this.jx.db.findOne({id:this.dataObject.resourceID});this.text=e.data}else this.dataObject.text&&(this.text=this.dataObject.text);this._ready=!0}},{key:"_addListeners",value:function(){this.view.on("click",$.proxy(this._clicked,this)),this.view.on("rollover",$.proxy(this._rollover,this)),this.view.on("rollout",$.proxy(this._rollout,this)),this.view.on("pressup",$.proxy(this._mouseup,this)),this.view.on("mousedown",$.proxy(this._mousedown,this)),this.view.on("pressmove",$.proxy(this._mousemove,this))}},{key:"_removeListeners",value:function(){this.view.removeAllEventListeners()}},{key:"style",set:function(e){this.domView.style=e}},{key:"text",set:function(e){this.domView.text=e},get:function(){return this.domView.text}},{key:"rotation",set:function(e){this.view.rotation=e,this.domView.rotation=this.rotation},get:function(){return this.view.rotation}},{key:"x",set:function(e){console.log(e,this.x),this.view.x=e,this.domView.x=e},get:function(){return this.view.x}},{key:"y",set:function(e){this.view.y=e,this.domView.y=e},get:function(){return this.view.y}},{key:"width",set:function(e){if(this.view.getTransformedBounds()){var t=this.view.getTransformedBounds().width,n=(this.view.scaleX,e/t);this.view.scaleX*=n}this.domView.width=this.width},get:function(){return this.view.getTransformedBounds()?this.view.getTransformedBounds().width:0}},{key:"height",set:function(e){if(this.view.getTransformedBounds()){var t=this.view.getTransformedBounds().height,n=(this.view.scaleY,e/t);this.view.scaleY*=n}this.domView.height=this.height},get:function(){return this.view.getTransformedBounds()?this.view.getTransformedBounds().height:0}},{key:"anchorX",set:function(e){this._anchorX=e,this.view.regX=this._anchorX,this.domView.anchorX=this.anchorX},get:function(){return this._anchorX}},{key:"anchorY",set:function(e){this._anchorY=e,this.view.regY=this.anchorY,this.domView.anchorY=this.anchorY},get:function(){return this._anchorY}},{key:"anchor",set:function(e){this.anchorY=e,this.anchorX=e,this.domView.anchorX=this.anchorX,this.domView.anchorY=this.anchorY},get:function(){return{anchorX:this.anchorX,anchorY:this.anchorY}}}],[{key:"initialiseMod",value:function(e){e.extendsFrom("VisualComponent"),e.mixin(["_initialise","_createView","text","style"],t,"Text"),e._initialise()}}]),t}(s["default"]);
e["default"]=c}),define("jx/comps/clip/ClipCJS",["exports","jx/comps/visualcomponent/VisualComponentCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0}),e.ClipCJS=void 0;var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({symbolID:"$main"},e)))}return o(t,e),a(t,[{key:"_create",value:function(){if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.view){var e=this.view;this.dataObject.x=e.x,this.dataObject.y=e.y,this.dataObject.anchorX=e.regX,this.dataObject.anchorY=e.regY,this.dataObject.rotation=e.rotation;var n=void 0;if(e.frameBounds&&null===e.frameBounds[0]){var i=new createjs.Shape;i.graphics.beginFill("#000000").drawRect(0,0,1,1),e.addChild(i),e.setBounds(0,0,1,1)}n=e.getBounds()||e.nominalBounds||{x:0,y:0,width:0,height:0},this.dataObject.width=(n.width||0)*e.scaleX,this.dataObject.height=(n.height||0)*e.scaleY,this.dataObject.alpha=void 0==this.dataObject.alpha?e.alpha:this.dataObject.alpha,this.dataObject.visible=void 0==this.dataObject.visible?e.visible:this.dataObject.visible,e._jxClip=this,this._ready=!0}else if(this.dataObject.spritesheet){var r=this.jx.db.findOne({id:this.dataObject.spritesheet}).data,o={images:r.images,frames:r.frames,animations:r.animations};this.view=new createjs.Sprite(new createjs.SpriteSheet(o)),this.dataObject.x=this.view.x,this.dataObject.y=this.view.y,this.dataObject.anchorX=this.view.regX,this.dataObject.anchorY=this.view.regY,this.dataObject.rotation=this.view.rotation;var s=this.view.getBounds()||this.view.nominalBounds;this.dataObject.width=s.width*this.view.scaleX,this.dataObject.height=s.height*this.view.scaleY,this.dataObject.visible=void 0==this.dataObject.visible?this.view.visible:this.dataObject.visible,this.view._jxClip=this,this._ready=!0}else if(this.dataObject.resourceID){var a=this.jx.db.findOne({id:this.dataObject.resourceID});if("flashtml"==a.type)return this.dataObject.visible=void 0==this.dataObject.visible?!0:this.dataObject.visible,void(this._ready=!1)}else this.jx.syserror("ClipCJS '"+this.id+"' can not be created.\n                Reasons could be:\n                - none of view, resourceID or spritesheet arguments exists (one of them must be provided).\n                - If view provided, check mc's name in fla is correct.")}},{key:"kill",value:function(){this._killed||(this.view&&(this.removeAllChildren(),this.stop()),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"init",value:function(e){var n=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,function(t){if(n._ready&&e({target:n}),n.dataObject.resourceID){var i=n.jx.db.findOne({id:n.dataObject.resourceID});if("flashtml"==i.type.toLowerCase()){var r=i.data;if(n.view=r.getFromSymbol(n.dataObject.symbolID),n.dataObject.stage){n.view.visible=!1,n.dataObject.stage.addChild(n),n.dataObject.stage.update();var o=n.width/r.libProperties.width;n.ratioWidth=n.dataObject.stage.width*o}r.getAs({clip:n.view,framerate:n.dataObject.framerate,loops:n.dataObject.loops,optimised:n.dataObject.optimised,include:n.dataObject.include||null,exclude:n.dataObject.exclude||[],toFreeze:n.dataObject.toFreeze||[],onInitialised:function(t){n.jx.syslog("clip initialised",n.view),n._ready=!0,n.view.visible=n.dataObject.visible,n.view._jxClip=n,n.flashLibProperties=r.libProperties,e({target:n})}})}}})}},{key:"initAs",value:function(e){if(this._jxAddons||this.ccid({id:"_jxAddons"}),"function"==typeof e)e(this);else{var t=Object.assign({clip:this},e);t.type="string"==this.jx.tools.instanceType(e.type)?this.jx.db.getClass("comps/clipinitas/"+e.type):e.type,this._jxAddons.cc(t)}return this}},{key:"getClip",value:function(e){var t=e.path,n=e.start,i=e.end,r=e.parent,o=void 0===r?null:r,s=e.sort,a=void 0===s?!1:s;if(!t)return null;var u=(t.split("."),null==o?this.view.children:o.children,void 0);return u=null!=n&&null!=i?this.getClipByInterval({path:t,start:n,end:i}):this.getClipByPath({path:t,parent:o}),"asc"==a?u.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}):u}},{key:"getClipByInterval",value:function(e){var t=e.path,n=e.start,i=e.end;if(!t)return null;for(var r=[],o=n;i>=o;o++){var s=this.jx.tools.str.replaceChar({string:t,index:o}),a=this.getClipByPath({path:s})[0];a.no=o,r.push(a)}return r}},{key:"getClipByPath",value:function(e){var t=e.path,n=e.parent,i=void 0===n?null:n;if(!t)return null;var r=t.split(".");i=i||this.view;for(var o=i.children,s=0;s<o.length;s++){var a=this.jx.tools.cjs.getChildrenByName(i,r[0]);if(1==r.length){for(var u=0;u<a.length;u++)a[u]=a[u]._jxClip||this.cc({type:"Clip",view:a[u]});return a}return r.shift(),this.getClipByPath({path:r.join("."),parent:a[0]})}}},{key:"findClipRec",value:function(e){var t=e.id,n=e.parent,i=void 0===n?null:n;if(!t)return null;var r=new RegExp(t,"g");i=i||this.view;for(var o=i.children,s=[],a=0;a<o.length;a++)o[a].name&&-1!==o[a].name.search(r)&&s.push(o[a]._jxClip||this.cc({type:"Clip",view:o[a]})),o[a].children&&(s=s.concat(this.findClipRec({id:t,parent:o[a]})));return s}},{key:"forEachMovieClipRec",value:function(e){var t=e.func,n=e.parent,i=void 0===n?null:n;i=i||this.view;for(var r=i.children,o=0;o<r.length;o++)t(r[o],i),r[o].children&&this.forEachMovieClipRec({func:t,parent:r[o]})}},{key:"addChild",value:function(e){this.view.addChild(e.view),e.parent=this}},{key:"addChildAt",value:function(e,t){this.view.addChildAt(e.view,t),e.parent=this}},{key:"removeChild",value:function(e){this.view.removeChild(e.view),e.parent=null}},{key:"removeAllChildren",value:function(){if(this.view&&this.view.children){for(var e=this.view.children,t=0;t<e.length;t++)e[t]._jxClip&&(e[t]._jxClip.parent=null);this.view.removeAllChildren()}}},{key:"setChildIndex",value:function(e,t){this.view.setChildIndex(e.view,t)}},{key:"getChildIndex",value:function(e){return this.view.getChildIndex(e.view)}},{key:"getChildAt",value:function(e){return this.view.getChildAt(e)}},{key:"getChildByName",value:function(e){for(var t=this.view.children,n=0,i=t.length;i>n;n++)if(t[n].name==e)return t[n];return null}},{key:"getMCChildrenByPattern",value:function(e){return this.jx.tools.cjs.getChildrenByName(this.view,e)}},{key:"getAllMCChildren",value:function(){return this.view.children}},{key:"getMCChildByPath",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(!e)return null;for(var n=e.split("."),i=null==t?this.view.children:t.children,r=0;r<i.length;r++)if(i[r].name==n[0])return n.shift(),0==n.length?i[r]:this.getMCChildByPath(n.join("."),i[r]);return this.jx.syswarn("MovieClip",e,"not found in Clip of id",this.id),null}},{key:"getMC",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this.getMCChildByPath(e,t)}},{key:"_getMCFullPath",value:function(e){for(var t="",n=e.parent;n;)this.jx.syslog(n.name,n),t=n.name+"."+t,n=n.parent;return t}},{key:"gotoAndStop",value:function(){this._playOnceListener&&(this.view.timeline.off("change",this._playOnceListener),this._playOnceListener=null);for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.view.gotoAndStop(t)}},{key:"gotoAndPlay",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.view.gotoAndPlay(t)}},{key:"play",value:function(){this.view.play()}},{key:"getLabels",value:function(){return this.view.labels}},{key:"getLabelFrame",value:function(e){for(var t in this.view.labels)if(this.jx.syslog(this.view.labels[t].label,e),this.view.labels[t].label==e)return this.view.labels[t].position}},{key:"playOnce",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.start,i=void 0===n?null:n,r=t.end,o=void 0===r?null:r,s=t.onfinished,a=void 0===s?function(e){}:s,u=t.onframechange,c=void 0===u?function(e){}:u;this.stop(),this.view.timeline.loop=!1,this._oldFrame=this.curentFrame,this._playOnceListener=this.view.timeline.on("change",function(t){e._oldFrame!==e.currentFrame&&c({frame:e.currentFrame,target:t.target}),e.currentFrame>=o&&(e.stop(),a({target:e}))}),null==i&&(i=this.currentFrame),null==o&&(o=this.totalFrames-1);for(var l in this.view.labels)l.label==i&&(i=l.position),l.label==o&&(o=l.position);this.gotoAndPlay(i)}},{key:"stop",value:function(){this._playOnceListener&&(this.view.timeline.off("change",this._playOnceListener),this._playOnceListener=null),this.view.stop()}},{key:"gotoLabel",value:function(e,t){this._overdubEvents(t);for(var n=!1,i=0;i<this.labels.length;i++)if(e==this.labels[i].label){n=!0,this.currentLabelIndex=i;break}return 0==n?void this._dispatchEvent({type:"error",text:"label "+e+"not found on "+this.clip.name}):(this.clip.gotoAndStop(e),Clip.arrangeFlashClipsNames(this.clip),void(0!=this._dispatchEvent({type:"labelEnter",label:e})&&this._labelAnalyser.check(function(e){switch(e.event){case"before":break;case"running":break;case"finished":}})))}},{key:"_overdubEvents",value:function(e){throw new Error("Method not implemented.")}},{key:"_dispatchEvent",value:function(e){throw new Error("Method not implemented.")}},{key:"freeze",value:function(){this.view.tickEnabled=!1,this.cache()}},{key:"unfreeze",value:function(){this.view.tickEnabled=!0,this.view.uncache()}},{key:"name",get:function(){return this.view?this.view.name:null}},{key:"mousechildren",get:function(){return console.warn("mousechildren deprecated, use mouseChildren instead"),this.view.mouseChildren}},{key:"mouseChildren",get:function(){return this.view.mouseChildren},set:function(e){this.view.mouseChildren=e}},{key:"currentFrame",get:function(){return this.view.currentFrame}},{key:"currentLabel",get:function(){return this.view.currentLabel}},{key:"totalFrames",get:function(){return this.view.totalFrames}}]),t}(s["default"]);e["default"]=c,e.ClipCJS=c}),define("jx/comps/video/VideoDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({videoResource:null,resourceID:null,initialise:!1,loops:0,fadeOut:Object.assign({delay:100,enabled:!1},e.fadeOut||{}),volume:1,oninitialised:function(e){}},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this._initSteps={sourceAdded:!1,metaDataLoaded:!1,canPlay:!1,canPlayThrough:!1},null!=this.dataObject.resourceID?this.videoResource=this.jx.db.findOne({id:this.dataObject.resourceID}):null!=this.dataObject.videoResource?this.videoResource=this.dataObject.videoResource:null!=this.dataObject.src&&(this.videoResource={src:this.dataObject.src});var e=document.createElement("video");e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.className="video",e.preload="auto",e.loop=!1,this.view=$(e)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.loops=this.dataObject.loops,this._loops=this.loops,this.frame=0,this.framerate=12,this.fadeOut=this.dataObject.fadeOut,this.volume=this.dataObject.volume,this._playing=!1,this.addEventDispatcher("onplay","onseeked","onstalled","onpaused","onstopped","onwaiting","onplaying","onfinished","onloadedinfos","onprogress","oncanplay","oncanplaythrough"),this.view.css("position","absolute"),this.view.css("left","0px"),this.view.css("top","0px"),this.view.css("object-fit","fill"),this.view.prop("controls",!1),this._addInitListeners()}},{key:"setResource",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.src,n=void 0===t?null:t;n=n||(this.videoResource?this.videoResource.src:null),n?this._source?this._source.getAttribute("src")!=n&&(this._ready=!1,this._source.setAttribute("src",n)):(this._ready=!1,this._source=document.createElement("source"),this._source.setAttribute("src",n),this._source.setAttribute("type","video/mp4; codecs=avc1.42E01E,mp4a.40.2"),this.view.append(this._source)):console.warn("No video resource provided")}},{key:"play",value:function(){console.log("Play Video",this.id),this.setResource(),this.view[0].play(),this._playing=!0}},{key:"stop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{callback:null}:arguments[0];e.callback;this._playing&&(console.log("stop",this.id),this.view[0].pause(),this.view[0].currentTime=0,this._loops=this.loops)}},{key:"pause",value:function(){this._playing&&(this._playing=!1,this.view[0].pause())}},{key:"resume",value:function(){console.log("resume",this._playing),this._playing||(this._playing=!0,this.view[0].play())}},{key:"appFreeze",value:function(){return console.log("freeze",this._playing),this._appFreezed?!1:(this._stateBeforeFreeze={playing:this._playing},this.pause(),void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appFreeze",this).call(this))}},{key:"appUnfreeze",value:function(){return console.log("unfreeze",this),this._appFreezed?(this._stateBeforeFreeze.playing&&this.resume(),void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appUnfreeze",this).call(this)):!1}},{key:"init",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?function(e){}:arguments[0];return this._ready?void t({target:this}):(this.onloadedinfos.addOnce(function(n){e._ready=!0,t({target:e})}),void this.setResource({src:this.videoResource.src}))}},{key:"kill",value:function(){arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.jx&&(this.onplay.removeAll(),this.onseeked.removeAll(),this.onstalled.removeAll(),this.onpaused.removeAll(),this.onstopped.removeAll(),this.onwaiting.removeAll(),this.onplay.removeAll(),this.onplaying.removeAll(),this.onfinished.removeAll(),this.onprogress.removeAll(),this.oncanplaythrough.removeAll(),this.view[0].pause(),this.view[0].src="",this.view.children("source").prop("src",""),this.view.remove().length=0,this._source=null,this.videoResource=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this))}},{key:"_addInitListeners",value:function(){var e=this;this.view.on("loadstart",function(e){}),this.view.on("loadedmetadata",function(t){console.log("onloadedinfos",e.id,"infos video: ",e.view[0].videoWidth,"x",e.view[0].videoHeight,",",e.view[0].duration,"s"),e._initSteps.metaDataLoaded=!0,e.view.css("width",e.view[0].videoWidth+"px"),e.view.css("height",e.view[0].videoHeight+"px"),e.dataObject.width&&(e.width=e.dataObject.width),e.dataObject.height&&(e.height=e.dataObject.height),e.dataObject.fitIn&&e.fitIn(e.dataObject.fitIn),e.onloadedinfos.dispatch({target:e})}),this.view.on("loadeddata",function(e){}),this.view.on("progress",function(t){e.onprogress.dispatch({target:e})}),this.view.on("suspend",function(e){}),this.view.on("canplay",function(t){e._initSteps.canPlay=!0,e.oncanplay.dispatch({target:e})}),this.view.on("canplaythrough",function(t){e._initSteps.canPlayThrough=!0,e.oncanplaythrough.dispatch({target:e})}),this.view.on("stalled",function(t){e.onstalled.dispatch({target:e})}),this.view.on("timeupdate",function(e){}),this.view.on("waiting",function(t){e.onwaiting.dispatch({target:e})}),this.view.on("abort",function(e){}),this.view.on("error",function(t){console.log("onerror",e.id,t)}),this.view.on("seeked",function(t){e.onseeked.dispatch({target:e})}),this.view.on("seeking",function(e){}),this.view.on("play",function(t){e.onplay.dispatch({target:e})}),this.view.on("playing",function(t){console.log("onplaying",e.id),e.onplaying.dispatch({target:e,time:e.view[0].currentTime})}),this.view.on("ended",function(t){-1===e._loops?e.play():0==e._loops?(console.log("onfinished",e.id),e._playing=!1,e.onfinished.dispatch({target:e})):(e._loops--,e.play())}),this.view.on("pause",function(t){e.onpaused.dispatch({target:e})})}},{key:"_volumeRestore",value:function(){this.volume=this._volumeDefined}},{key:"playing",get:function(){return this._playing}},{key:"duration",get:function(){return this.view[0].duration}},{key:"currentTime",get:function(){return this.view[0].currentTime},set:function(e){this.view[0].currentTime=e}},{key:"playbackRate",set:function(e){this.view[0].playbackRate=e}},{key:"volume",set:function(e){this.view[0].volume=e,this._volumeDefined=e},get:function(){return this.view[0].volume}},{key:"muted",set:function(e){this.view[0].muted=e},get:function(){return this.view[0].muted}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/StartButton",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({resourceID:"START_BUTTON",target:null,onstarted:function(e){}},e)))}return o(t,e),a(t,[{key:"_create",value:function(){var e=this;if(u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.target=this.dataObject.target,this.addEventDispatcher("onstarted"),this.onstarted.addOnce(this.dataObject.onstarted),this.jx.config.system.needUserActionToWork){this.view=this.cc({type:"Container",render:"DOM"});var n=this.cc({type:"Visual",render:"DOM",id:this.dataObject.resourceID,resourceID:this.dataObject.resourceID});n.x=this.target.width/2-n.width/2,n.y=this.target.height/2-n.height/2,this.view.addChild(n),this.view.onclick.addOnce(function(t){e.target.removeChild(e.view),createjs.WebAudioPlugin.playEmptySound(),e.onstarted.dispatch()}),this.target.addChild(this.view)}else this.onstarted.dispatch()}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/InputNumber",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:h(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c='\n<div class="form-group row">\n<div class="col-xs-6" id="description">\n</div>\n  <div class="col-xs-6">\n        <input id="value" type="number" class="form-control"></input>\n   </div>\n\n </div>\n',l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onchange","onchanged"),this.view=$(c)}},{key:"_initSync",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view.find("#value").prop("readonly",void 0!=this.view.editable?!this.view.editable:!1),this.view.find("#value").attr("min",void 0==this.dataObject.min?null:this.dataObject.min),this.view.find("#value").attr("max",void 0==this.dataObject.max?null:this.dataObject.max),this.view.find("#value").attr("step",void 0==this.dataObject.step?null:this.dataObject.step),this.view.find("#description").html(this.dataObject.description||""),this.view.find("#value").attr("value",this.dataObject.value||0),this.view.find("#value").css("textAlign","right"),this.view.on("input",function(t){e.onchange.dispatch({target:e})}),this.view.on("change",function(t){e.onchanged.dispatch({target:e})})}},{key:"value",set:function(e){this.view.find("#value").prop("value",e)},get:function(){return this.view.find("#value")[0].value}}]),t}(s["default"]);e["default"]=l}),define("jx/comps/InputText",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:h(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c='\n<div class="form-group row">\n   <div class="col-xs-6">\n        <textarea id="value" type="textarea" style="resize:vertical" spellcheck="true"  rows="1" class="form-control">$VALUE</textarea>\n   </div>\n   <div class="col-xs-6" id="description">\n   </div>\n </div>\n',l=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onchange"),this.view=$(c)}},{key:"_initSync",value:function(){var e=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),this.view.find("#value").prop("readonly",void 0!=this.view.editable?!this.view.editable:!1),this.view.find("#description").html(this.dataObject.description||""),this.view.find("#value").html(this.view.value||""),this.view.on("change",function(t){e.text=e.text,e.onchange.dispatch({target:e})})}},{key:"text",set:function(e){this.view.find("#value").html(e)},get:function(){return this.view.find("#value")[0].value}}]),t}(s["default"]);e["default"]=l}),define("jx/comps/simplebutton/SimpleButtonDOM",["exports","jx/comps/visualcomponent/VisualComponentDOM"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({render:"DOM"},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.view=$('<button type="button" id="" title=""></button>'),this.view.prop("id",this.dataObject.id),this.view.prop("title",this.dataObject.id),this.view.text(this.dataObject.label||this.dataObject.id)}},{key:"_initSync",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initSync",this).call(this),$(this.view).css("position","absolute")}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/simplebutton/SimpleButtonCJS",["exports","jx/comps/container/ContainerCJS"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({label:null},e)));return n._createView(),n}return o(t,e),a(t,[{key:"_createView",value:function(){this._text=this.addChild({type:"Text",text:this.dataObject.label||this.dataObject.id,style:{fontFamily:"Arial",fontSize:12,textAlign:"center"}}),this.addChild({type:"Shape",color:"#EEEEEE",width:this._text.width,height:this._text.height}),this._text.bringToFront()}}]),t}(s["default"]);e["default"]=u}),define("jx/core/presets/GameModule",["exports","jx/core/comps/Component","jx/core/loaders/SoundLoaderMediaElement","jx/projecttypes/simplejson/Importer"],function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var u=r(t),c=r(n),l=r(i),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=function p(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:p(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},d=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({plugs:[]},e)));return n.importData=null,n.jx.playComment=function(e){return n.playComment(e)},n.jx.saveImageToGallery=function(e){return n.saveImageToGallery(e)},n}return a(t,e),h(t,[{key:"kill",value:function(){this.jx.playComment=null,this.jx.saveImageToGallery=null,f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this)}},{key:"initialise",value:function(e){var n=this;return f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialise",this).call(this,function(t){n.jx.debug.info("------- GameModule initialised -------"),n._logTiming(),e({target:n})}),this}},{key:"_preInit",value:function(e){var n=this;f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_preInit",this).call(this,function(t){
n.jx.loadPlugs([],function(t){return n._importConfig(function(t){return n.initBayam(function(t){return n._jxInit(function(t){return n._loadResources(function(t){return e()})})})})})})}},{key:"init",value:function(e){e()}},{key:"_postInit",value:function(e){var n=this;f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_postInit",this).call(this,function(t){window.jxTiming.push({moduleReady:Date.now()});var i={show:n.jx.config.app.startButton,heightPercent:n.jx.config.app.startButtonHeightPercent+"%"};console.log("STARTBTN",i,n.jx.config.system.needUserActionToWork),"yes"==i.show||"auto"==i.show&&n.jx.config.system.needUserActionToWork?(n.jx.loadingScreen.hideSpinner(),n.onStartBtn?(n.jx.loadingScreen.showStartButton({height:i.heightPercent,onclick:function(){n.onStartBtn(),n.jx.wait(0,function(e){return n.jx.loadingScreen.hide()})}}),e()):n.screens&&("video"==n.screens.give(n.firstScreen).type?(n.jx.loadingScreen.showStartButton({height:i.heightPercent,onclick:function(){n.screens.give(n.firstScreen).view.play(),n.jx.wait(0,function(e){return n.jx.loadingScreen.hide()})}}),e()):n.jx.loadingScreen.showStartButton({height:i.heightPercent,onclick:function(){n.jx.wait(0,function(e){return n.jx.loadingScreen.hide()}),e()}}))):(n.jx.wait(0,function(e){return n.jx.loadingScreen.hide()}),e())})}},{key:"_importConfig",value:function(e){var t=this;window.jxTiming.push({configLoad:Date.now()}),new l["default"](this.jx,null).importConfig(function(n){window.jxTiming.push({configLoaded:Date.now()}),t.importData=n,e()})}},{key:"_jxInit",value:function(e){var t=this;window.jxTiming.push({jx_initialise:Date.now()}),this.jx._initialise({plugs:["CJS","DOM"].concat(this.dataObject.plugs),moduleData:this.importData},function(n){window.jxTiming.push({jx_Initialised:Date.now()}),t.jx.memo.addMemo({id:"global"}),t.jx.memo.addMemo({id:"cookie",type:"Cookie",autosave:!0}),e()})}},{key:"_loadResources",value:function(e){var t=this;this._debugStartTime=Date.now(),window.jxTiming.push({loadResources:Date.now()});for(var n=0;n<this.importData.resources.length;n++)if("Langues"==this.importData.resources[n].id){for(var i=this.importData.resources[n],r=i.value.split(","),n=0;n<r.length;n++)r[n]=r[n].trim();r.length>0&&(this.jx.config.langs=r,this.jx.config.lang=r[0]);break}this.jx.db.addResources(this.importData.resources),this._onBeforeLoad(function(){t.jx.db.load({type:"class"},function(){t.jx.db.load({preload:!0},function(){t.jx.config.init(),window.jxTiming.push({resourcesLoaded:Date.now()}),e()})})})}},{key:"_onBeforeLoad",value:function(e){e()}},{key:"pause",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"pause",this).call(this)}},{key:"resume",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"resume",this).call(this)}},{key:"close",value:function(){f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this)}},{key:"onPause",value:function(){}},{key:"onResume",value:function(){}},{key:"onClose",value:function(){this.jx.closeApplication()}},{key:"appFreeze",value:function(){return this._appFreezed?!1:(this._stateBeforeFreeze={},void f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appFreeze",this).call(this))}},{key:"appUnfreeze",value:function(){return this._appFreezed?void f(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appUnfreeze",this).call(this):!1}},{key:"initBayam",value:function(e){var t=this;if(this.id=this.id||"Module1","bayam"==this.jx.config.system.container.type){var n=function(e){console.log("onReady",e);e.data},i=function(e){alert("onVolumeChange"),console.log("onVolumeChange",e.data);e.data};this._bayamFrontCom=new BayamFrontCom(this.id),this._bayamFrontCom.onPause(function(){return t.jx.pauseApplication()}),this._bayamFrontCom.onResume(function(){return t.jx.resumeApplication()}),this._bayamFrontCom.onClose(function(){console.log("OnClose"),t.onClose()}),this._bayamFrontCom.onReady(n),this._bayamFrontCom.onVolumeChange(i),this.jx._bayamFrontCom=this._bayamFrontCom}e()}},{key:"saveSnapshot",value:function(e){var t=e.x,n=void 0===t?0:t,i=e.y,r=void 0===i?0:i,o=e.width,s=e.height,a=e.outputWidth,u=e.onfinished,c=void 0===u?function(e){}:u;this.stage._stage.cache(n,r,o,s,a?a/o:1),"bayam"===this.jx.config.system.container.type?(this.jx.saveImageToGallery({img:this.stage._stage.getCacheDataURL(),onsuccess:function(e){console.log("onsuccess",e),c({success:!0})},onfail:function(e){console.log("onfail",e),c({success:!1})}}),this.stage._stage.uncache()):(window.open(this.stage._stage.getCacheDataURL(),""),this.stage._stage.uncache(),c({success:!0}))}},{key:"saveImageToGallery",value:function(e){var t=e.img,n=e.desc,i=void 0===n?null:n,r=e.onfinished,o=void 0===r?function(e){}:r;if("bayam"===this.jx.config.system.container.type)this._bayamFrontCom.sendCreation(t,i,function(e){o({success:!0})},function(e){o({success:!0})});else if("azoomee"===this.jx.config.system.container.type){var s=t.replace(/^data:image\/(png|jpg);base64,/,"");parent.postMessage({method:"saveImage",responseID:"optionnalID",imageData:s},"*")}else{var a="<iframe frameBorder='0' width='2000px' height='2000px' onload='this.style.height=this.contentDocument.body.scrollHeight +'px';' src='"+t+"'></iframe>",u=window.open();u.document.open(),u.document.write(a),u.document.close(),o({success:!0})}}},{key:"save",value:function(){}},{key:"load",value:function(){}},{key:"preloadSound",value:function(e){var t=e.id,n=e.onfinished,i=void 0===n?function(e){}:n,r=this.jx.db.findOne({id:t});if(null!=r.data)i({resource:r});else if(null!=r.loader)r.loader.onloaded.addOnce(function(e){return i({resource:r})});else{var o=new c["default"](r,function(e){i({resource:r})},this.jx);o.load()}}},{key:"playSound",value:function(e){var t=this,n=e.id,i=e.zap,r=void 0===i?!1:i,o=e.onfinished,s=void 0===o?function(e){}:o;this.preloadSound({id:n,onfinished:function(e){var n=e.resource,i=t.jx.dj.createPlayer({id:n.id,streaming:!0});i.play({id:n.id,onfinished:s});var o=function(e){i.cancel(),t.jx.unblockInteractivity(),s()};r&&t.jx.blockInteractivity(o)}})}},{key:"playComment",value:function(e){var t=this,n=e.id,i=e.zap,r=void 0===i?!1:i,o=e.onfinished,s=void 0===o?function(e){}:o,a=function(e){t.jx.dj.voice.cancel(),r&&t.jx.unblockInteractivity(),s()};this.jx.dj.voice.play({id:n,onfinished:a}),r&&this.jx.blockInteractivity(a)}},{key:"_logTimingHTML",value:function(){for(var e,t,n="<br> >> TIMING LOG << <br>",i=0;i<window.jxTiming.length;i++)for(var r in window.jxTiming[i]){0==i&&(e=t=window.jxTiming[i][r]),n+="<br>"+r+": "+(window.jxTiming[i][r]-e)/1e3+" ("+(window.jxTiming[i][r]-t)/1e3+")",t=window.jxTiming[i][r];break}return n+="<br> >>>>>>>><<<<<<<< <br>",console.log(n),n}},{key:"_logTiming",value:function(){for(var e,t,n="\n >> TIMING LOG << \n",i=0;i<window.jxTiming.length;i++)for(var r in window.jxTiming[i]){0==i&&(e=t=window.jxTiming[i][r]),n+="\n"+r+": "+(window.jxTiming[i][r]-e)/1e3+" ("+(window.jxTiming[i][r]-t)/1e3+")",t=window.jxTiming[i][r];break}return n+="\n >>>>>>>><<<<<<<< \n",console.log(n),n}}]),t}(u["default"]);e["default"]=d}),define("jx/core/presets/StageGameModule",["exports","jx/core/presets/GameModule"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({renderMode:"canvas",stageWidth:null,stageHeight:null,ratio:null,forceIOSStageResize:!0},e)))}return o(t,e),a(t,[{key:"kill",value:function(){this._killed||(this.jx.playVideo=null,u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this),this.stage=null)}},{key:"appFreeze",value:function(){return this._appFreezed?!1:(this._stateBeforeFreeze={},void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appFreeze",this).call(this))}},{key:"appUnfreeze",value:function(){return this._appFreezed?void u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"appUnfreeze",this).call(this):!1}},{key:"_preInit",value:function(e){var n=this;u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_preInit",this).call(this,function(t){n.stage=n.cc({type:"StageView",renderMode:n.dataObject.renderMode,width:n.dataObject.stageWidth||n.jx.config.app.defaultStageResolution.width,height:n.dataObject.stageHeight||n.jx.config.app.defaultStageResolution.height,ratio:n.dataObject.ratio,forceIOSStageResize:n.dataObject.forceIOSStageResize,fixedStageScale:void 0!==n.dataObject.fixedStageScale?n.dataObject.fixedStageScale:!1}),n.jx.playVideo=function(e){return n.playVideo(e)},e()})}},{key:"playVideo",value:function(e){var t=this,n=e.id,i=e.loops,r=void 0===i?0:i,o=e.zap,s=void 0===o?!0:o,a=e.zapMarkers,u=void 0===a?null:a,c=e.bgMusicVolPC,l=void 0===c?40:c,h=e.onfinished,f=e.onready,d=e.layerLevel,p=void 0===d?"front":d,v=e.autoplay,g=void 0===v?!0:v;this.jx._videosList=this.jx._videosList||{};var y=this.choosenResolution?n.toUpperCase()+".VIDEO_"+this.choosenResolution.str:n.toUpperCase()+".VIDEO",m=this.jx.db.findOne({id:y});if(m||(y=n,m=this.jx.db.findOne({id:n})),!m)return void console.error("Video resource",n,"not found");var b=this.cc({id:n,type:"Video",loops:r,render:"DOM",rid:y,visible:!1});this.stage.addChild(b);var _=$(b.view);console.log("PARENT",_.parent());var w=function(e){b.onclick.removeAll(),b.onfinished.removeAll(),b.view[0].paused||b.view[0].pause(),t.jx.dj.music.volume=t.jx.dj.music.volumeOld,h({target:b})};b.onfinished.addOnce(w),b.hasBeginPlay=!1,b.onplaying.add(function(e){b.onplaying.removeAll(),b.hasBeginPlay=!0,t.jx.loadingScreen.hide(),t.jx.dj.music.volumeOld=t.jx.dj.music.volume,t.jx.dj.music.volume=t.jx.dj.music.volume*l/100,b.fitIn({x:0,y:0,width:t.stage.width,height:t.stage.height,alignV:"middle"}),f({target:b})}),b.onwaiting.add(function(e){t.jx.wait(800,function(e){b.hasBeginPlay||t.jx.loadingScreen.show()})}),b.killme=function(){t.stage.removeChild(b),t.comps.remove(b),b.kill(!1)};var j=function(){if(u){for(var e=b.currentTime,t=void 0,n=void 0,i=void 0,r=void 0,o=0;o<u.length;o++)i=u[o],t=i-e,t>0&&(!n||n>t)&&(n=t,r=i);r?b.currentTime=r:w({target:b})}else w({target:b})};return s&&("front"==p?b.onclick.add(j):"back"==p&&this.jx.blockInteractivity(function(){t.jx.unblockInteractivity(),j()})),g&&b.play(),b}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/GroupList",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({shuffleGroups:!0,shuffleChildren:!0},e)));n._groups=[],n._index=-1,n.loops=-1;for(var o,s=0;s<n.dataObject.groups;s++){o={index:s,children:[]};for(var a=0;a<n.dataObject.children;a++)o.children.push({index:a,group:s});n._groups.push(o)}return n.shuffleGroups=n.dataObject.shuffleGroups,n.shuffleChildren=n.dataObject.shuffleChildren,n.randomAll(),n}return o(t,e),a(t,[{key:"next",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=[],n=[],i=0;e>i;i++){var r=this._nextOne();if(null==r){console.log("end of list reached");break}t.push(r),n=n.concat(r.children)}return{groups:this._randomiseArray(t),children:this.shuffleChildren?this._randomiseArray(n):n}}},{key:"_nextOne",value:function(){if(this._index++,this._index>=this._groups.length){if(-1!=this.loops)return null;this._index=0}return this._groups[this._index]}},{key:"log",value:function(){for(var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t="",n=0;n<this._groups.length;n++){t+="Group : "+this._groups[n].index,t+="	children: ";for(var i=0;i<this._groups[n].children.length;i++)t+="	"+this._groups[n].children[i].index;t+="\n"}return e&&console.log(t),t}},{key:"logItems",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];console.log(e,e.length);for(var n="",i=0;i<e.length;i++)n+=this.jx.tools.gd(e[i].group,2)+"_"+this.jx.tools.gd(e[i].index,2),n+="\n";return t&&console.log(n),n}},{key:"randomAll",value:function(){this._groups=this.shuffleGroups?this._randomiseArray(this._groups):this._groups;for(var e,t=0;t<this._groups.length;t++)e=this._groups[t],e.children=this.shuffleChildren?this._randomiseArray(e.children):e.children}},{key:"_randomiseArray",value:function(e){for(var t,n=e.slice(),i=[],r=n.length,o=0;r>o;o++)t=this._randomValue(0,n.length-1),i.push(n[t]),n.splice(t,1);return i}},{key:"_randomValue",value:function(e,t){var n=Math.floor(Math.random()*(t-e+1))+e;return n}},{key:"reset",value:function(){this._index=-1}},{key:"groups",get:function(){return this._groups}}]),t}(s["default"]);e["default"]=u}),define("jx/comps/screensmanager/ScreensManager",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function h(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:h(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({defaultTransition:"none",forceFirstVideoAutoPlay:!1},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this._history=new l,this.stage=this.dataObject.stage,this.transitions={FadeBlackInOut:{fadeValue:400,color:"#000000",alpha:1},none:{fadeValue:1e3,color:"#000000",alpha:0}},this.defaultTransition=this.dataObject.defaultTransition,this.forceFirstVideoAutoPlay=this.dataObject.forceFirstVideoAutoPlay,this.screens={},this.currentScreen=null,this.transitionScreen=this.cc({type:"Container",render:"DOM"}),this.transitionScreen.visible=!1,this.stage.addChild(this.transitionScreen),this.transitionScreen.view.prop("id","transitionscreen"),this.transitionScreen.view.css("width",this.stage.width+1),this.transitionScreen.view.css("height",this.stage.height+1),this.transitionScreen.view.css("background-color",this.defaultTransition.color),this.transitionScreen.view.css("z-index","300"),this.transitionScreen.alpha=this.defaultTransition.alpha}},{key:"add",value:function(e){e=e.isJXComponent?e:this.cc(e),this.screens[e.id]=e}},{key:"give",value:function(e){return this.screens[e]}},{key:"killScreen",value:function(e){this.screens[e]&&this.currentScreen===this.screens[e]&&(this.screens[e]._screenMarkedToDestroy=!0)}},{key:"_killScreen",value:function(e){this.screens[e].kill(),delete this.screens[e]}},{key:"prepare",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];for(var i,r=[],o=0;o<arguments.length;o++)i=this.screens[arguments[o]],!i.ready&&i.initialise&&r.push(i);var s=r.slice(),a=function(e){s.splice(s.indexOf(e.target),1)};if(0!=r.length)for(var o=0;o<r.length;o++)r[o].initialise(a)}},{key:"go",value:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.fx,r=void 0===i?null:i,o=n.data,s=void 0===o?{}:o;if(console.log("GO"),this.transitionScreen.alpha=0,this.transitionScreen.visible=!0,this.transitionScreen.view.css("z-index",300),this.stage.update(),-1!=e.search(/^\$/)){var a=e.replace("$","");switch(a){case"previous":e=this._history.previous();break;case"next":e=this._history.next()}if(null==e)return void console.warn("No more screens for requested location in history")}var u=this.screens[e],c=null!=r?r:this._defaultTransition.fadeValue;if(!u.ready)return this.jx.loadingScreen.show(),void this.jx.wait(0,function(n){console.log("initialise screen",u),u.initialise(function(n){t.jx.loadingScreen.hide(),t.go(e,{fx:r,data:s})})});if(u.playIntroFirst)return void u.playIntroScreen(s);this._history.add(e);var l={show:this.jx.config.app.startButton,heightPercent:this.jx.config.app.startButtonHeightPercent+"%"};1===this._history.length&&("no"==l.show?s.autoplay=!0:"yes"==l.show?s.autoplay=!1:s.autoplay=this.forceFirstVideoAutoPlay||!this.jx.config.system.video.needUserActionToWork),0===c?(this.jx.loadingScreen.show(),this.transitionScreen.view.css("z-index",300),u.show(function(e){t.jx.loadingScreen.hide(),u.showScreen&&u.showScreen(),t.currentScreen&&(t.currentScreen._screenMarkedToDestroy?t._killScreen(t.currentScreen.id):t.currentScreen.hide()),t.currentScreen=u,t.transitionScreen.visible=!1,u.startScreen&&u.startScreen()},s)):u.needUserClickToStart&&this.jx.config.system.video.needUserActionToWork?(console.log("scm newScreen.needUserClickToStart && this.jx.config.system.video.needUserActionToWork",u.needUserClickToStart&&this.jx.config.system.video.needUserActionToWork),this.transitionScreen.view.css("z-index",300),this.transitionScreen.view.fadeTo(c,this.defaultTransition.alpha,function(e){}),console.log("SHOW SCREEN"),u.show(function(e){t.jx.loadingScreen.hide(),u.showScreen&&u.showScreen(),t.currentScreen&&t.currentScreen!==u&&(t.currentScreen._screenMarkedToDestroy?t._killScreen(t.currentScreen.id):t.currentScreen.hide()),t.currentScreen=u,t.transitionScreen.view.fadeTo(c,0,function(e){t.transitionScreen.visible=!1,u.startScreen&&u.startScreen()})},s)):(this.transitionScreen.view.css("z-index",300),this.transitionScreen.view.fadeTo(c,this.defaultTransition.alpha,function(e){u.show(function(e){u.showScreen&&u.showScreen(),t.currentScreen&&t.currentScreen!==u&&(t.currentScreen._screenMarkedToDestroy?t._killScreen(t.currentScreen.id):t.currentScreen.hide()),t.currentScreen=u,t.transitionScreen.view.fadeTo(c,0,function(e){t.transitionScreen.visible=!1,u.startScreen&&u.startScreen()})},s)}))}},{key:"hideScreens",value:function(){for(var e in this.screens)this.screens[e].hide()}},{key:"reset",value:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];if(0==t.length)for(var i in this.screens)this.screens[i].reset();else for(var r=0;r<t.length;r++)t[r].reset()}},{key:"defaultTransition",set:function(e){this._defaultTransition=this.transitions[e]},get:function(){return this._defaultTransition}}]),t}(s["default"]);e["default"]=c;var l=function(){function e(){i(this,e),this._locator=-1,this._log=[]}return a(e,[{key:"add",value:function(e){this._log.push(e),this._locator++}},{key:"previous",value:function(){return this._locator<=0?null:(this._locator--,this._log[this._locator])}},{key:"next",value:function(){return this._locator>this._log.length-1?null:(this._locator++,this._log[this._locator])}},{key:"length",get:function(){return this._log.length}}]),e}()}),define("jx/comps/screensmanager/ScreenVideo",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({zap:!0,zapMarkers:null,layerLevel:100,autoStart:!1},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.addEventDispatcher("onfinished"),this.type="video",this.needUserClickToStart=!0,this.no=void 0!==this.dataObject.no?this.dataObject.no:this.no,this.rid=this.dataObject.rid||this.dataObject.resourceID,this.zap=this.dataObject.zap,this.zapMarkers=this.dataObject.zapMarkers,this.layerLevel=this.dataObject.layerLevel,this.nextScreenID=this.dataObject.nextScreenID,this.bgMusicVolPC=this.dataObject.bgMusicVolPC,this.dataObject.onfinished&&this.onfinished.add(this.dataObject.onfinished),this._ready=!0}},{key:"show",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?function(e){}:arguments[0],n=arguments[1],i=n.autoplay,r=void 0===i?!0:i;this.view=this.jx.playVideo({id:this.rid,autoplay:r,zap:this.zap,zapMarkers:this.zapMarkers,bgMusicVolPC:this.bgMusicVolPC,onfinished:function(t){e.onfinished.dispatch({target:e}),e.nextScreenID&&e.jx.app.screens.go(e.nextScreenID)},onready:function(n){console.log("ON READY"),e.jx.wait(50,function(){return t(n)})}}),this.layerLevel=this._layerLevel}},{key:"showScreen",value:function(){this.view.visible=!0}},{key:"hide",value:function(e){this.view&&(this.view.killme(),this.view=null)}},{key:"kill",value:function(){this.view&&(this.view.killme(),this.view.kill(!0),this.view=null),u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"kill",this).call(this)}},{key:"layerLevel",set:function(e){this._layerLevel=e,this.view&&this.view.view.css("z-index",this._layerLevel)}}]),t}(s["default"]);e["default"]=c}),define("jx/comps/screensmanager/ScreenPhoto",["exports","jx/core/comps/Component"],function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(t),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function l(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:l(r,t,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},c=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,Object.assign({sClose:null},e)))}return o(t,e),a(t,[{key:"_create",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_create",this).call(this),this.type="image",this.rid=this.dataObject.rid||this.dataObject.resourceID,this.nextScreenID=this.dataObject.nextScreenID,this.cadre=this.dataObject.cadre}},{key:"show",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?function(e){}:arguments[0];this._showImage({id:this.rid,cadre:this.cadre,onmousedown:function(t){e.dataObject.sClose&&e.jx.dj.play({id:e.dataObject.sClose}),e.jx.app.screens.go(e.nextScreenID)},onready:function(n){e.view=n.target,t({target:e})}})}},{key:"hide",value:function(e){this.view&&(this.jx.app.stage.removeChild(this.cadre),this.cadre.removeChild(this.image),this.image.killme(),this.image=null)}},{key:"_showImage",value:function(e){var t=this,n=e.id,i=e.onmousedown,r=void 0===i?function(e){}:i,o=e.onready,s=void 0===o?function(e){}:o,a=e.cadre,u=void 0===a?null:a,c=this.jx.db.findOne({id:n});c||console.error("Image ",n,"not found in db");var l=function(e){var i=t.cc({rid:n});i.killme=function(){t.comps.remove(i)},t.jx.app.stage.addChild(u),u.addChild(i),i.fitIn({target:t.jx.app.stage,center:!0}),u.setChildIndex(i,u.getChildIndex(u.photoHolder)),u.onmousedown.addOnce(r),t.image=i,s({target:u,image:i})};c.data?l():this.jx.db.load({id:n},l)}}]),t}(s["default"]);e["default"]=c}),define("jx/core/ClassForBuild",["exports","jx/core/Launcher","jx/core/memos/MemoManager","jx/core/memos/MemoAbstract","jx/core/memos/MemoCookie","jx/core/memos/MemoLocalStorage","jx/core/FXManager","jx/core/sound/SoundManager","jx/comps/BusyScreen","jx/projecttypes/simplejson/Importer","jx/core/layout/Layout","jx/core/Request","jx/core/Debugger","jx/core/utils/List","jx/core/transitions/TransitionManager","jx/core/transitions/SwapTransition","jx/core/loaders/JSONLoader","jx/core/loaders/ImageLoader","jx/core/loaders/SoundLoader","jx/core/loaders/SoundLoaderMediaElement","jx/core/loaders/TextLoader","jx/core/loaders/FlashtmlLoader","jx/core/loaders/ImageSequenceLoader","jx/core/loaders/SpriteSheetLoader","jx/comps/flashlib/FlashLib","jx/comps/StageView","jx/comps/SimpleDOMView","jx/comps/visualcomponent/VisualComponentCJS","jx/comps/visualcomponent/VisualComponentDOM","jx/comps/Container","jx/comps/container/ContainerCJS","jx/comps/container/ContainerDOM","jx/comps/shape/ShapeCJS","jx/comps/image/ImageCJS","jx/comps/image/ImageDOM","jx/comps/imagesequence/ImageSequenceCJS","jx/comps/imagesequence/ImageSequenceDOM","jx/comps/text/TextCJS","jx/comps/text/TextDOM","jx/comps/text/TextMultiRender","jx/comps/clip/ClipCJS","jx/comps/video/VideoDOM","jx/comps/StartButton","jx/comps/InputNumber","jx/comps/InputText","jx/comps/simplebutton/SimpleButtonDOM","jx/comps/simplebutton/SimpleButtonCJS","jx/core/presets/StageGameModule","jx/comps/GroupList","jx/comps/screensmanager/ScreensManager","jx/comps/screensmanager/ScreenVideo","jx/comps/screensmanager/ScreenPhoto"],function(e,t,n,i,r,o,s,a,u,c,l,h,f,d,p,v,g,y,m,b,_,w,j,x,O,k,S,C,P,M,T,I,L,E,F,D,A,R,B,z,N,V,J,W,U,G,X,q,$,H,Y,Z){"use strict";function K(e){return e&&e.__esModule?e:{"default":e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Launcher=e.MemoLocalStorage=e.MemoCookie=e.MemoAbstract=e.MemoManager=e.FXManager=e.SoundManager=e.BusyScreen=e.Importer=e.Layout=e.Request=e.Debugger=e.List=e.TransitionManager=e.SwapTransition=e.JSONLoader=e.ImageLoader=e.SoundLoader=e.SoundLoaderMediaElement=e.TextLoader=e.FlashtmlLoader=e.ImageSequenceLoader=e.SpriteSheetLoader=e.FlashLib=e.StageView=e.VisualComponentCJS=e.VisualComponentDOM=e.Container=e.ContainerCJS=e.ContainerDOM=e.ShapeCJS=e.ImageCJS=e.ImageDOM=e.ImageSequenceCJS=e.ImageSequenceDOM=e.TextCJS=e.TextDOM=e.TextMultiRender=e.ClipCJS=e.VideoDOM=e.StartButton=e.InputNumber=e.InputText=e.SimpleDOMView=e.SimpleButtonDOM=e.SimpleButtonCJS=e.StageGameModule=e.GroupList=e.ScreensManager=e.ScreenVideo=e.ScreenPhoto=void 0;var ee=K(t),te=K(n),ne=K(i),ie=K(r),re=K(o),oe=K(s),se=K(a),ae=K(u),ue=K(c),ce=K(l),le=K(h),he=K(f),fe=K(d),de=K(p),pe=K(v),ve=K(g),ge=K(y),ye=K(m),me=K(b),be=K(_),_e=K(w),we=K(j),je=K(x),xe=K(O),Oe=K(k),ke=K(S),Se=K(C),Ce=K(P),Pe=K(M),Me=K(T),Te=K(I),Ie=K(L),Le=K(E),Ee=K(F),Fe=K(D),De=K(A),Ae=K(R),Re=K(B),Be=K(z),ze=K(N),Ne=K(V),Ve=K(J),Je=K(W),We=K(U),Ue=K(G),Ge=K(X),Xe=K(q),qe=K($),$e=K(H),He=K(Y),Ye=K(Z);e.ScreenPhoto=Ye["default"],e.ScreenVideo=He["default"],e.ScreensManager=$e["default"],e.GroupList=qe["default"],e.StageGameModule=Xe["default"],e.SimpleButtonCJS=Ge["default"],e.SimpleButtonDOM=Ue["default"],e.SimpleDOMView=ke["default"],e.InputText=We["default"],e.InputNumber=Je["default"],e.StartButton=Ve["default"],e.VideoDOM=Ne["default"],e.ClipCJS=ze["default"],e.TextMultiRender=Be["default"],e.TextDOM=Re["default"],e.TextCJS=Ae["default"],e.ImageSequenceDOM=De["default"],e.ImageSequenceCJS=Fe["default"],e.ImageDOM=Ee["default"],e.ImageCJS=Le["default"],e.ShapeCJS=Ie["default"],e.ContainerDOM=Te["default"],e.ContainerCJS=Me["default"],e.Container=Pe["default"],e.VisualComponentDOM=Ce["default"],e.VisualComponentCJS=Se["default"],e.StageView=Oe["default"],e.FlashLib=xe["default"],e.SpriteSheetLoader=je["default"],e.ImageSequenceLoader=we["default"],e.FlashtmlLoader=_e["default"],e.TextLoader=be["default"],e.SoundLoaderMediaElement=me["default"],e.SoundLoader=ye["default"],e.ImageLoader=ge["default"],e.JSONLoader=ve["default"],e.SwapTransition=pe["default"],e.TransitionManager=de["default"],e.List=fe["default"],e.Debugger=he["default"],e.Request=le["default"],e.Layout=ce["default"],e.Importer=ue["default"],e.BusyScreen=ae["default"],e.SoundManager=se["default"],e.FXManager=oe["default"],e.MemoManager=te["default"],e.MemoAbstract=ne["default"],e.MemoCookie=ie["default"],e.MemoLocalStorage=re["default"],e.Launcher=ee["default"];var Ze=function Ke(){Q(this,Ke)};e["default"]=Ze});